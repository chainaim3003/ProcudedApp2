"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/signify-ts";
exports.ids = ["vendor-chunks/signify-ts"];
exports.modules = {

/***/ "(ssr)/./node_modules/signify-ts/dist/exports.js":
/*!*************************************************!*\
  !*** ./node_modules/signify-ts/dist/exports.js ***!
  \*************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Agent: () => (/* reexport safe */ _keri_app_controller_js__WEBPACK_IMPORTED_MODULE_2__.Agent),\n/* harmony export */   Algos: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.Algos),\n/* harmony export */   Authenticater: () => (/* reexport safe */ _keri_core_authing_js__WEBPACK_IMPORTED_MODULE_12__.Authenticater),\n/* harmony export */   B64ChrByIdx: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.B64ChrByIdx),\n/* harmony export */   B64IdxByChr: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.B64IdxByChr),\n/* harmony export */   BexCodex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.BexCodex),\n/* harmony export */   BexDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.BexDex),\n/* harmony export */   CesrNumber: () => (/* reexport safe */ _keri_core_number_js__WEBPACK_IMPORTED_MODULE_27__.CesrNumber),\n/* harmony export */   Challenges: () => (/* reexport safe */ _keri_app_contacting_js__WEBPACK_IMPORTED_MODULE_5__.Challenges),\n/* harmony export */   Cigar: () => (/* reexport safe */ _keri_core_cigar_js__WEBPACK_IMPORTED_MODULE_13__.Cigar),\n/* harmony export */   Cipher: () => (/* reexport safe */ _keri_core_cipher_js__WEBPACK_IMPORTED_MODULE_14__.Cipher),\n/* harmony export */   Codex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.Codex),\n/* harmony export */   Config: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.Config),\n/* harmony export */   Contacts: () => (/* reexport safe */ _keri_app_contacting_js__WEBPACK_IMPORTED_MODULE_5__.Contacts),\n/* harmony export */   Controller: () => (/* reexport safe */ _keri_app_controller_js__WEBPACK_IMPORTED_MODULE_2__.Controller),\n/* harmony export */   Counter: () => (/* reexport safe */ _keri_core_counter_js__WEBPACK_IMPORTED_MODULE_16__.Counter),\n/* harmony export */   CounterCodex: () => (/* reexport safe */ _keri_core_counter_js__WEBPACK_IMPORTED_MODULE_16__.CounterCodex),\n/* harmony export */   Creatory: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.Creatory),\n/* harmony export */   CredentialTypes: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.CredentialTypes),\n/* harmony export */   Credentials: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.Credentials),\n/* harmony export */   CtrDex: () => (/* reexport safe */ _keri_core_counter_js__WEBPACK_IMPORTED_MODULE_16__.CtrDex),\n/* harmony export */   Decrypter: () => (/* reexport safe */ _keri_core_decrypter_js__WEBPACK_IMPORTED_MODULE_17__.Decrypter),\n/* harmony export */   Diger: () => (/* reexport safe */ _keri_core_diger_js__WEBPACK_IMPORTED_MODULE_18__.Diger),\n/* harmony export */   DigiCodex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.DigiCodex),\n/* harmony export */   DigiDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.DigiDex),\n/* harmony export */   DipLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.DipLabels),\n/* harmony export */   DrtLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.DrtLabels),\n/* harmony export */   EmptyMaterialError: () => (/* reexport safe */ _keri_core_kering_js__WEBPACK_IMPORTED_MODULE_24__.EmptyMaterialError),\n/* harmony export */   Encrypter: () => (/* reexport safe */ _keri_core_encrypter_js__WEBPACK_IMPORTED_MODULE_19__.Encrypter),\n/* harmony export */   Escrows: () => (/* reexport safe */ _keri_app_escrowing_js__WEBPACK_IMPORTED_MODULE_8__.Escrows),\n/* harmony export */   EventResult: () => (/* reexport safe */ _keri_app_aiding_js__WEBPACK_IMPORTED_MODULE_3__.EventResult),\n/* harmony export */   Exchanges: () => (/* reexport safe */ _keri_app_exchanging_js__WEBPACK_IMPORTED_MODULE_9__.Exchanges),\n/* harmony export */   FALSY: () => (/* reexport safe */ _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__.FALSY),\n/* harmony export */   GroupIdentifierManager: () => (/* reexport safe */ _keri_core_keeping_js__WEBPACK_IMPORTED_MODULE_23__.GroupIdentifierManager),\n/* harmony export */   Groups: () => (/* reexport safe */ _keri_app_grouping_js__WEBPACK_IMPORTED_MODULE_10__.Groups),\n/* harmony export */   HEADER_SIG_INPUT: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.HEADER_SIG_INPUT),\n/* harmony export */   HEADER_SIG_TIME: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.HEADER_SIG_TIME),\n/* harmony export */   Hab: () => (/* reexport safe */ _keri_app_habery_js__WEBPACK_IMPORTED_MODULE_1__.Hab),\n/* harmony export */   Habery: () => (/* reexport safe */ _keri_app_habery_js__WEBPACK_IMPORTED_MODULE_1__.Habery),\n/* harmony export */   IcpLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.IcpLabels),\n/* harmony export */   Identifier: () => (/* reexport safe */ _keri_app_aiding_js__WEBPACK_IMPORTED_MODULE_3__.Identifier),\n/* harmony export */   IdentifierManagerFactory: () => (/* reexport safe */ _keri_core_keeping_js__WEBPACK_IMPORTED_MODULE_23__.IdentifierManagerFactory),\n/* harmony export */   IdrDex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IdrDex),\n/* harmony export */   Ids: () => (/* reexport safe */ _keri_core_saider_js__WEBPACK_IMPORTED_MODULE_29__.Ids),\n/* harmony export */   IdxBthSigDex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IdxBthSigDex),\n/* harmony export */   IdxCrtSigDex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IdxCrtSigDex),\n/* harmony export */   IdxSigDex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IdxSigDex),\n/* harmony export */   Ilks: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.Ilks),\n/* harmony export */   IndexedBothSigCodex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IndexedBothSigCodex),\n/* harmony export */   IndexedCurrentSigCodex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IndexedCurrentSigCodex),\n/* harmony export */   IndexedSigCodex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IndexedSigCodex),\n/* harmony export */   Indexer: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.Indexer),\n/* harmony export */   IndexerCodex: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.IndexerCodex),\n/* harmony export */   Inputage: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.Inputage),\n/* harmony export */   Ipex: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.Ipex),\n/* harmony export */   IxnLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.IxnLabels),\n/* harmony export */   KeyEvents: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.KeyEvents),\n/* harmony export */   KeyStates: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.KeyStates),\n/* harmony export */   KsnLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.KsnLabels),\n/* harmony export */   LargeVrzDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.LargeVrzDex),\n/* harmony export */   MINSIGSIZE: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.MINSIGSIZE),\n/* harmony export */   MINSNIFFSIZE: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.MINSNIFFSIZE),\n/* harmony export */   Manager: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.Manager),\n/* harmony export */   Matter: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.Matter),\n/* harmony export */   MatterCodex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.MatterCodex),\n/* harmony export */   MtrDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.MtrDex),\n/* harmony export */   NonTransCodex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.NonTransCodex),\n/* harmony export */   NonTransDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.NonTransDex),\n/* harmony export */   Notifications: () => (/* reexport safe */ _keri_app_notifying_js__WEBPACK_IMPORTED_MODULE_11__.Notifications),\n/* harmony export */   NumCodex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.NumCodex),\n/* harmony export */   NumDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.NumDex),\n/* harmony export */   Oobis: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.Oobis),\n/* harmony export */   Operations: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.Operations),\n/* harmony export */   Prefixer: () => (/* reexport safe */ _keri_core_prefixer_js__WEBPACK_IMPORTED_MODULE_28__.Prefixer),\n/* harmony export */   Protocols: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.Protocols),\n/* harmony export */   RandyCreator: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.RandyCreator),\n/* harmony export */   RandyIdentifierManager: () => (/* reexport safe */ _keri_core_keeping_js__WEBPACK_IMPORTED_MODULE_23__.RandyIdentifierManager),\n/* harmony export */   Registries: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.Registries),\n/* harmony export */   RegistryResult: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.RegistryResult),\n/* harmony export */   RotLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.RotLabels),\n/* harmony export */   RpyLabels: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.RpyLabels),\n/* harmony export */   Saider: () => (/* reexport safe */ _keri_core_saider_js__WEBPACK_IMPORTED_MODULE_29__.Saider),\n/* harmony export */   Salter: () => (/* reexport safe */ _keri_core_salter_js__WEBPACK_IMPORTED_MODULE_30__.Salter),\n/* harmony export */   SaltyCreator: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.SaltyCreator),\n/* harmony export */   SaltyIdentifierManager: () => (/* reexport safe */ _keri_core_keeping_js__WEBPACK_IMPORTED_MODULE_23__.SaltyIdentifierManager),\n/* harmony export */   Schemas: () => (/* reexport safe */ _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__.Schemas),\n/* harmony export */   Seqner: () => (/* reexport safe */ _keri_core_seqner_js__WEBPACK_IMPORTED_MODULE_31__.Seqner),\n/* harmony export */   Serder: () => (/* reexport safe */ _keri_core_serder_js__WEBPACK_IMPORTED_MODULE_32__.Serder),\n/* harmony export */   Serials: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.Serials),\n/* harmony export */   Siger: () => (/* reexport safe */ _keri_core_siger_js__WEBPACK_IMPORTED_MODULE_33__.Siger),\n/* harmony export */   Signage: () => (/* reexport safe */ _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__.Signage),\n/* harmony export */   Signer: () => (/* reexport safe */ _keri_core_signer_js__WEBPACK_IMPORTED_MODULE_34__.Signer),\n/* harmony export */   SignifyClient: () => (/* reexport safe */ _keri_app_clienting_js__WEBPACK_IMPORTED_MODULE_4__.SignifyClient),\n/* harmony export */   Sizage: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.Sizage),\n/* harmony export */   SmallVrzDex: () => (/* reexport safe */ _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__.SmallVrzDex),\n/* harmony export */   TRUTHY: () => (/* reexport safe */ _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__.TRUTHY),\n/* harmony export */   Tholder: () => (/* reexport safe */ _keri_core_tholder_js__WEBPACK_IMPORTED_MODULE_35__.Tholder),\n/* harmony export */   Tier: () => (/* reexport safe */ _keri_core_salter_js__WEBPACK_IMPORTED_MODULE_30__.Tier),\n/* harmony export */   TraitCodex: () => (/* reexport safe */ _keri_app_habery_js__WEBPACK_IMPORTED_MODULE_1__.TraitCodex),\n/* harmony export */   TraitDex: () => (/* reexport safe */ _keri_app_habery_js__WEBPACK_IMPORTED_MODULE_1__.TraitDex),\n/* harmony export */   Unqualified: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.Unqualified),\n/* harmony export */   VEREX: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.VEREX),\n/* harmony export */   VERFULLSIZE: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.VERFULLSIZE),\n/* harmony export */   Verfer: () => (/* reexport safe */ _keri_core_verfer_js__WEBPACK_IMPORTED_MODULE_37__.Verfer),\n/* harmony export */   Version: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.Version),\n/* harmony export */   Vrsn_1_0: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.Vrsn_1_0),\n/* harmony export */   Xizage: () => (/* reexport safe */ _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__.Xizage),\n/* harmony export */   ample: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.ample),\n/* harmony export */   arrayEquals: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.arrayEquals),\n/* harmony export */   b: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.b),\n/* harmony export */   b64ToInt: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.b64ToInt),\n/* harmony export */   bytesToInt: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.bytesToInt),\n/* harmony export */   concat: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.concat),\n/* harmony export */   d: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.d),\n/* harmony export */   desiginput: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.desiginput),\n/* harmony export */   designature: () => (/* reexport safe */ _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__.designature),\n/* harmony export */   deversify: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.deversify),\n/* harmony export */   dumps: () => (/* reexport safe */ _keri_core_serder_js__WEBPACK_IMPORTED_MODULE_32__.dumps),\n/* harmony export */   exchange: () => (/* reexport safe */ _keri_app_exchanging_js__WEBPACK_IMPORTED_MODULE_9__.exchange),\n/* harmony export */   extractValues: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.extractValues),\n/* harmony export */   incept: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.incept),\n/* harmony export */   intToB64: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.intToB64),\n/* harmony export */   intToB64b: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.intToB64b),\n/* harmony export */   intToBytes: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.intToBytes),\n/* harmony export */   interact: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.interact),\n/* harmony export */   messagize: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.messagize),\n/* harmony export */   normalize: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.normalize),\n/* harmony export */   nowUTC: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.nowUTC),\n/* harmony export */   openManager: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.openManager),\n/* harmony export */   pad: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.pad),\n/* harmony export */   parseRangeHeaders: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.parseRangeHeaders),\n/* harmony export */   randomNonce: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.randomNonce),\n/* harmony export */   randomPasscode: () => (/* reexport safe */ _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__.randomPasscode),\n/* harmony export */   range: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.range),\n/* harmony export */   readInt: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.readInt),\n/* harmony export */   ready: () => (/* reexport safe */ _ready_js__WEBPACK_IMPORTED_MODULE_0__.ready),\n/* harmony export */   reply: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.reply),\n/* harmony export */   riKey: () => (/* reexport safe */ _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__.riKey),\n/* harmony export */   rotate: () => (/* reexport safe */ _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__.rotate),\n/* harmony export */   serializeACDCAttachment: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.serializeACDCAttachment),\n/* harmony export */   serializeIssExnAttachment: () => (/* reexport safe */ _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__.serializeIssExnAttachment),\n/* harmony export */   siginput: () => (/* reexport safe */ _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__.siginput),\n/* harmony export */   signature: () => (/* reexport safe */ _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__.signature),\n/* harmony export */   sizeify: () => (/* reexport safe */ _keri_core_serder_js__WEBPACK_IMPORTED_MODULE_32__.sizeify),\n/* harmony export */   versify: () => (/* reexport safe */ _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__.versify)\n/* harmony export */ });\n/* harmony import */ var _ready_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ready.js */ \"(ssr)/./node_modules/signify-ts/dist/ready.js\");\n/* harmony import */ var _keri_app_habery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./keri/app/habery.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/habery.js\");\n/* harmony import */ var _keri_app_controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./keri/app/controller.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/controller.js\");\n/* harmony import */ var _keri_app_aiding_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./keri/app/aiding.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/aiding.js\");\n/* harmony import */ var _keri_app_clienting_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./keri/app/clienting.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/clienting.js\");\n/* harmony import */ var _keri_app_contacting_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./keri/app/contacting.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/contacting.js\");\n/* harmony import */ var _keri_app_coring_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./keri/app/coring.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/coring.js\");\n/* harmony import */ var _keri_app_credentialing_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./keri/app/credentialing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/credentialing.js\");\n/* harmony import */ var _keri_app_escrowing_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./keri/app/escrowing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/escrowing.js\");\n/* harmony import */ var _keri_app_exchanging_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./keri/app/exchanging.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/exchanging.js\");\n/* harmony import */ var _keri_app_grouping_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./keri/app/grouping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/grouping.js\");\n/* harmony import */ var _keri_app_notifying_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./keri/app/notifying.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/notifying.js\");\n/* harmony import */ var _keri_core_authing_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./keri/core/authing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/authing.js\");\n/* harmony import */ var _keri_core_cigar_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./keri/core/cigar.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cigar.js\");\n/* harmony import */ var _keri_core_cipher_js__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./keri/core/cipher.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\");\n/* harmony import */ var _keri_core_core_js__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./keri/core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _keri_core_counter_js__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./keri/core/counter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js\");\n/* harmony import */ var _keri_core_decrypter_js__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./keri/core/decrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\");\n/* harmony import */ var _keri_core_diger_js__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./keri/core/diger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\");\n/* harmony import */ var _keri_core_encrypter_js__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./keri/core/encrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js\");\n/* harmony import */ var _keri_core_eventing_js__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./keri/core/eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n/* harmony import */ var _keri_core_httping_js__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./keri/core/httping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\");\n/* harmony import */ var _keri_core_indexer_js__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./keri/core/indexer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/indexer.js\");\n/* harmony import */ var _keri_core_keeping_js__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./keri/core/keeping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/keeping.js\");\n/* harmony import */ var _keri_core_kering_js__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./keri/core/kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _keri_core_manager_js__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./keri/core/manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n/* harmony import */ var _keri_core_matter_js__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./keri/core/matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _keri_core_number_js__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./keri/core/number.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\");\n/* harmony import */ var _keri_core_prefixer_js__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./keri/core/prefixer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\");\n/* harmony import */ var _keri_core_saider_js__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./keri/core/saider.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\");\n/* harmony import */ var _keri_core_salter_js__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./keri/core/salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _keri_core_seqner_js__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./keri/core/seqner.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js\");\n/* harmony import */ var _keri_core_serder_js__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./keri/core/serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _keri_core_siger_js__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./keri/core/siger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js\");\n/* harmony import */ var _keri_core_signer_js__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./keri/core/signer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\");\n/* harmony import */ var _keri_core_tholder_js__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./keri/core/tholder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js\");\n/* harmony import */ var _keri_core_utils_js__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./keri/core/utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n/* harmony import */ var _keri_core_verfer_js__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./keri/core/verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _keri_core_keyState_js__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./keri/core/keyState.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/keyState.js\");\n/* harmony import */ var _keri_end_ending_js__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./keri/end/ending.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/end/ending.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2V4cG9ydHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMkI7QUFDVTtBQUNJO0FBQ0o7QUFDRztBQUNDO0FBQ0o7QUFDTztBQUNKO0FBQ0M7QUFDRjtBQUNDO0FBQ0Q7QUFDRjtBQUNDO0FBQ0Y7QUFDRztBQUNFO0FBQ0o7QUFDSTtBQUNEO0FBQ0Q7QUFDQTtBQUNBO0FBQ0Q7QUFDQztBQUNEO0FBQ0E7QUFDRTtBQUNGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Q7QUFDQztBQUNDO0FBQ0Y7QUFDQztBQUNFO0FBQ0giLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2V4cG9ydHMuanM/ZDk3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgKiBmcm9tIFwiLi9yZWFkeS5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9hcHAvaGFiZXJ5LmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2FwcC9jb250cm9sbGVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2FwcC9haWRpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvYXBwL2NsaWVudGluZy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9hcHAvY29udGFjdGluZy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9hcHAvY29yaW5nLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2FwcC9jcmVkZW50aWFsaW5nLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2FwcC9lc2Nyb3dpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvYXBwL2V4Y2hhbmdpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvYXBwL2dyb3VwaW5nLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2FwcC9ub3RpZnlpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9hdXRoaW5nLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvY2lnYXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9jaXBoZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9jb3JlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvY291bnRlci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL2RlY3J5cHRlci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL2RpZ2VyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvZW5jcnlwdGVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvZXZlbnRpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9odHRwaW5nLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvaW5kZXhlci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL2tlZXBpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9rZXJpbmcuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9tYW5hZ2VyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvbWF0dGVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvbnVtYmVyLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2NvcmUvcHJlZml4ZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9zYWlkZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9zYWx0ZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9zZXFuZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9zZXJkZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS9zaWdlci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL3NpZ25lci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL3Rob2xkZXIuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2tlcmkvY29yZS91dGlscy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL3ZlcmZlci5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4va2VyaS9jb3JlL2tleVN0YXRlLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9rZXJpL2VuZC9lbmRpbmcuanNcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/exports.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/index.js":
/*!***********************************************!*\
  !*** ./node_modules/signify-ts/dist/index.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Agent: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Agent),\n/* harmony export */   Algos: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Algos),\n/* harmony export */   Authenticater: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Authenticater),\n/* harmony export */   B64ChrByIdx: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.B64ChrByIdx),\n/* harmony export */   B64IdxByChr: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.B64IdxByChr),\n/* harmony export */   BexCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.BexCodex),\n/* harmony export */   BexDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.BexDex),\n/* harmony export */   CesrNumber: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.CesrNumber),\n/* harmony export */   Challenges: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Challenges),\n/* harmony export */   Cigar: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Cigar),\n/* harmony export */   Cipher: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Cipher),\n/* harmony export */   Codex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Codex),\n/* harmony export */   Config: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Config),\n/* harmony export */   Contacts: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Contacts),\n/* harmony export */   Controller: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Controller),\n/* harmony export */   Counter: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Counter),\n/* harmony export */   CounterCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.CounterCodex),\n/* harmony export */   Creatory: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Creatory),\n/* harmony export */   CredentialTypes: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.CredentialTypes),\n/* harmony export */   Credentials: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Credentials),\n/* harmony export */   CtrDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.CtrDex),\n/* harmony export */   Decrypter: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Decrypter),\n/* harmony export */   Diger: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Diger),\n/* harmony export */   DigiCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.DigiCodex),\n/* harmony export */   DigiDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.DigiDex),\n/* harmony export */   DipLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.DipLabels),\n/* harmony export */   DrtLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.DrtLabels),\n/* harmony export */   EmptyMaterialError: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.EmptyMaterialError),\n/* harmony export */   Encrypter: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Encrypter),\n/* harmony export */   Escrows: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Escrows),\n/* harmony export */   EventResult: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.EventResult),\n/* harmony export */   Exchanges: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Exchanges),\n/* harmony export */   FALSY: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.FALSY),\n/* harmony export */   GroupIdentifierManager: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.GroupIdentifierManager),\n/* harmony export */   Groups: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Groups),\n/* harmony export */   HEADER_SIG_INPUT: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.HEADER_SIG_INPUT),\n/* harmony export */   HEADER_SIG_TIME: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.HEADER_SIG_TIME),\n/* harmony export */   Hab: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Hab),\n/* harmony export */   Habery: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Habery),\n/* harmony export */   IcpLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IcpLabels),\n/* harmony export */   Identifier: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Identifier),\n/* harmony export */   IdentifierManagerFactory: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IdentifierManagerFactory),\n/* harmony export */   IdrDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IdrDex),\n/* harmony export */   Ids: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Ids),\n/* harmony export */   IdxBthSigDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IdxBthSigDex),\n/* harmony export */   IdxCrtSigDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IdxCrtSigDex),\n/* harmony export */   IdxSigDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IdxSigDex),\n/* harmony export */   Ilks: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Ilks),\n/* harmony export */   IndexedBothSigCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IndexedBothSigCodex),\n/* harmony export */   IndexedCurrentSigCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IndexedCurrentSigCodex),\n/* harmony export */   IndexedSigCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IndexedSigCodex),\n/* harmony export */   Indexer: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Indexer),\n/* harmony export */   IndexerCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IndexerCodex),\n/* harmony export */   Inputage: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Inputage),\n/* harmony export */   Ipex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Ipex),\n/* harmony export */   IxnLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.IxnLabels),\n/* harmony export */   KeyEvents: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.KeyEvents),\n/* harmony export */   KeyStates: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.KeyStates),\n/* harmony export */   KsnLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.KsnLabels),\n/* harmony export */   LargeVrzDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.LargeVrzDex),\n/* harmony export */   MINSIGSIZE: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.MINSIGSIZE),\n/* harmony export */   MINSNIFFSIZE: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.MINSNIFFSIZE),\n/* harmony export */   Manager: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Manager),\n/* harmony export */   Matter: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Matter),\n/* harmony export */   MatterCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.MatterCodex),\n/* harmony export */   MtrDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex),\n/* harmony export */   NonTransCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.NonTransCodex),\n/* harmony export */   NonTransDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.NonTransDex),\n/* harmony export */   Notifications: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Notifications),\n/* harmony export */   NumCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.NumCodex),\n/* harmony export */   NumDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.NumDex),\n/* harmony export */   Oobis: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Oobis),\n/* harmony export */   Operations: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Operations),\n/* harmony export */   Prefixer: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Prefixer),\n/* harmony export */   Protocols: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Protocols),\n/* harmony export */   RandyCreator: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.RandyCreator),\n/* harmony export */   RandyIdentifierManager: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.RandyIdentifierManager),\n/* harmony export */   Registries: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Registries),\n/* harmony export */   RegistryResult: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.RegistryResult),\n/* harmony export */   RotLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.RotLabels),\n/* harmony export */   RpyLabels: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.RpyLabels),\n/* harmony export */   Saider: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Saider),\n/* harmony export */   Salter: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Salter),\n/* harmony export */   SaltyCreator: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator),\n/* harmony export */   SaltyIdentifierManager: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.SaltyIdentifierManager),\n/* harmony export */   Schemas: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Schemas),\n/* harmony export */   Seqner: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Seqner),\n/* harmony export */   Serder: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Serder),\n/* harmony export */   Serials: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Serials),\n/* harmony export */   Siger: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Siger),\n/* harmony export */   Signage: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Signage),\n/* harmony export */   Signer: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Signer),\n/* harmony export */   SignifyClient: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.SignifyClient),\n/* harmony export */   Sizage: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Sizage),\n/* harmony export */   SmallVrzDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.SmallVrzDex),\n/* harmony export */   TRUTHY: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.TRUTHY),\n/* harmony export */   Tholder: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Tholder),\n/* harmony export */   Tier: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Tier),\n/* harmony export */   TraitCodex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.TraitCodex),\n/* harmony export */   TraitDex: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.TraitDex),\n/* harmony export */   Unqualified: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Unqualified),\n/* harmony export */   VEREX: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.VEREX),\n/* harmony export */   VERFULLSIZE: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.VERFULLSIZE),\n/* harmony export */   Verfer: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Verfer),\n/* harmony export */   Version: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Version),\n/* harmony export */   Vrsn_1_0: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Vrsn_1_0),\n/* harmony export */   Xizage: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.Xizage),\n/* harmony export */   ample: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.ample),\n/* harmony export */   arrayEquals: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.arrayEquals),\n/* harmony export */   b: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   b64ToInt: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.b64ToInt),\n/* harmony export */   bytesToInt: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.bytesToInt),\n/* harmony export */   concat: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.concat),\n/* harmony export */   d: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   desiginput: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.desiginput),\n/* harmony export */   designature: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.designature),\n/* harmony export */   deversify: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.deversify),\n/* harmony export */   dumps: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.dumps),\n/* harmony export */   exchange: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.exchange),\n/* harmony export */   extractValues: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.extractValues),\n/* harmony export */   incept: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.incept),\n/* harmony export */   intToB64: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.intToB64),\n/* harmony export */   intToB64b: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.intToB64b),\n/* harmony export */   intToBytes: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.intToBytes),\n/* harmony export */   interact: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.interact),\n/* harmony export */   messagize: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.messagize),\n/* harmony export */   normalize: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.normalize),\n/* harmony export */   nowUTC: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.nowUTC),\n/* harmony export */   openManager: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.openManager),\n/* harmony export */   pad: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.pad),\n/* harmony export */   parseRangeHeaders: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.parseRangeHeaders),\n/* harmony export */   randomNonce: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.randomNonce),\n/* harmony export */   randomPasscode: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.randomPasscode),\n/* harmony export */   range: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.range),\n/* harmony export */   readInt: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.readInt),\n/* harmony export */   ready: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.ready),\n/* harmony export */   reply: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.reply),\n/* harmony export */   riKey: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.riKey),\n/* harmony export */   rotate: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.rotate),\n/* harmony export */   serializeACDCAttachment: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.serializeACDCAttachment),\n/* harmony export */   serializeIssExnAttachment: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.serializeIssExnAttachment),\n/* harmony export */   siginput: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.siginput),\n/* harmony export */   signature: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.signature),\n/* harmony export */   sizeify: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.sizeify),\n/* harmony export */   versify: () => (/* reexport safe */ _exports_js__WEBPACK_IMPORTED_MODULE_0__.versify)\n/* harmony export */ });\n/* harmony import */ var _exports_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./exports.js */ \"(ssr)/./node_modules/signify-ts/dist/exports.js\");\n\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_exports_js__WEBPACK_IMPORTED_MODULE_0__);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2luZGV4LmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFvQztBQUNQO0FBQzdCLGlFQUFlLHdDQUFHLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2luZGV4LmpzPzkzYTYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgZXhwIGZyb20gXCIuL2V4cG9ydHMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2V4cG9ydHMuanNcIjtcbmV4cG9ydCBkZWZhdWx0IGV4cDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/index.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/aiding.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/aiding.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EventResult: () => (/* binding */ EventResult),\n/* harmony export */   Identifier: () => (/* binding */ Identifier)\n/* harmony export */ });\n/* harmony import */ var _core_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n/* harmony import */ var _core_eventing_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _core_tholder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/tholder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js\");\n/* harmony import */ var _core_matter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_httping_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/httping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\");\n\n\n\n\n\n\n/** Identifier */\nclass Identifier {\n    /**\n     * Identifier\n     * @param {IdentifierDeps} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List managed identifiers\n     * @async\n     * @param {number} [start=0] Start index of list of notifications, defaults to 0\n     * @param {number} [end=24] End index of list of notifications, defaults to 24\n     * @returns {Promise<any>} A promise to the list of managed identifiers\n     */\n    async list(start = 0, end = 24) {\n        const extraHeaders = new Headers();\n        extraHeaders.append('Range', `aids=${start}-${end}`);\n        const path = `/identifiers`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data, extraHeaders);\n        const cr = res.headers.get('content-range');\n        const range = (0,_core_httping_js__WEBPACK_IMPORTED_MODULE_5__.parseRangeHeaders)(cr, 'aids');\n        const aids = await res.json();\n        return {\n            start: range.start,\n            end: range.end,\n            total: range.total,\n            aids: aids,\n        };\n    }\n    /**\n     * Get information for a managed identifier\n     * @async\n     * @param {string} name Prefix or alias of the identifier\n     * @returns {Promise<HabState>} A promise to the identifier information\n     */\n    async get(name) {\n        const path = `/identifiers/${encodeURIComponent(name)}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Update managed identifier\n     * @async\n     * @param {string} name Prefix or alias of the identifier\n     * @param {IdentifierInfo} info Information to update for the given identifier\n     * @returns {Promise<HabState>} A promise to the identifier information after updating\n     */\n    async update(name, info) {\n        const path = `/identifiers/${name}`;\n        const method = 'PUT';\n        const res = await this.client.fetch(path, method, info);\n        return await res.json();\n    }\n    /**\n     * Create a managed identifier\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @param {CreateIdentiferArgs} [kargs] Optional parameters to create the identifier\n     * @returns {EventResult} The inception result\n     */\n    async create(name, kargs = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        const algo = kargs.algo == undefined ? _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty : kargs.algo;\n        const transferable = (_a = kargs.transferable) !== null && _a !== void 0 ? _a : true;\n        const isith = (_b = kargs.isith) !== null && _b !== void 0 ? _b : '1';\n        let nsith = (_c = kargs.nsith) !== null && _c !== void 0 ? _c : '1';\n        let wits = (_d = kargs.wits) !== null && _d !== void 0 ? _d : [];\n        const toad = (_e = kargs.toad) !== null && _e !== void 0 ? _e : 0;\n        let dcode = (_f = kargs.dcode) !== null && _f !== void 0 ? _f : _core_matter_js__WEBPACK_IMPORTED_MODULE_4__.MtrDex.Blake3_256;\n        const proxy = kargs.proxy;\n        const delpre = kargs.delpre;\n        const data = kargs.data != undefined ? [kargs.data] : [];\n        const pre = kargs.pre;\n        const states = kargs.states;\n        const rstates = kargs.rstates;\n        const prxs = kargs.prxs;\n        const nxts = kargs.nxts;\n        const mhab = kargs.mhab;\n        const _keys = kargs.keys;\n        const _ndigs = kargs.ndigs;\n        const bran = kargs.bran;\n        const count = kargs.count;\n        let ncount = kargs.ncount;\n        const tier = kargs.tier;\n        const extern_type = kargs.extern_type;\n        const extern = kargs.extern;\n        if (!transferable) {\n            ncount = 0;\n            nsith = 0;\n            dcode = _core_matter_js__WEBPACK_IMPORTED_MODULE_4__.MtrDex.Ed25519N;\n        }\n        const xargs = {\n            transferable: transferable,\n            isith: isith,\n            nsith: nsith,\n            wits: wits,\n            toad: toad,\n            proxy: proxy,\n            delpre: delpre,\n            dcode: dcode,\n            data: data,\n            algo: algo,\n            pre: pre,\n            prxs: prxs,\n            nxts: nxts,\n            mhab: mhab,\n            states: states,\n            rstates: rstates,\n            keys: _keys,\n            ndigs: _ndigs,\n            bran: bran,\n            count: count,\n            ncount: ncount,\n            tier: tier,\n            extern_type: extern_type,\n            extern: extern,\n        };\n        const keeper = this.client.manager.new(algo, this.client.pidx, xargs);\n        const [keys, ndigs] = await keeper.incept(transferable);\n        wits = wits !== undefined ? wits : [];\n        let serder = undefined;\n        if (delpre == undefined) {\n            serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_1__.incept)({\n                keys: keys,\n                isith: isith,\n                ndigs: ndigs,\n                nsith: nsith,\n                toad: toad,\n                wits: wits,\n                cnfg: [],\n                data: data,\n                version: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Vrsn_1_0,\n                kind: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON,\n                code: dcode,\n                intive: false,\n            });\n        }\n        else {\n            serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_1__.incept)({\n                keys: keys,\n                isith: isith,\n                ndigs: ndigs,\n                nsith: nsith,\n                toad: toad,\n                wits: wits,\n                cnfg: [],\n                data: data,\n                version: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Vrsn_1_0,\n                kind: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON,\n                code: dcode,\n                intive: false,\n                delpre: delpre,\n            });\n        }\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(serder.raw));\n        const jsondata = {\n            name: name,\n            icp: serder.sad,\n            sigs: sigs,\n            proxy: proxy,\n            smids: states != undefined\n                ? states.map((state) => state.i)\n                : undefined,\n            rmids: rstates != undefined\n                ? rstates.map((state) => state.i)\n                : undefined,\n        };\n        jsondata[algo] = keeper.params();\n        this.client.pidx = this.client.pidx + 1;\n        const res = await this.client.fetch('/identifiers', 'POST', jsondata);\n        return new EventResult(serder, sigs, res);\n    }\n    /**\n     * Generate an interaction event in a managed identifier\n     * @async\n     * @param {string} name Prefix or alias of the identifier\n     * @param {any} [data] Option data to be anchored in the interaction event\n     * @returns {Promise<EventResult>} A promise to the interaction event result\n     */\n    async interact(name, data) {\n        const { serder, sigs, jsondata } = await this.createInteract(name, data);\n        const res = await this.client.fetch('/identifiers/' + name + '/events', 'POST', jsondata);\n        return new EventResult(serder, sigs, res);\n    }\n    async createInteract(name, data) {\n        const hab = await this.get(name);\n        const pre = hab.prefix;\n        const state = hab.state;\n        const sn = parseInt(state.s, 16);\n        const dig = state.d;\n        data = Array.isArray(data) ? data : [data];\n        const serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_1__.interact)({\n            pre: pre,\n            sn: sn + 1,\n            data: data,\n            dig: dig,\n            version: undefined,\n            kind: undefined,\n        });\n        const keeper = this.client.manager.get(hab);\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(serder.raw));\n        const jsondata = {\n            ixn: serder.sad,\n            sigs: sigs,\n        };\n        jsondata[keeper.algo] = keeper.params();\n        return { serder, sigs, jsondata };\n    }\n    /**\n     * Generate a rotation event in a managed identifier\n     * @param {string} name Name or alias of the identifier\n     * @param {RotateIdentifierArgs} [kargs] Optional parameters requiered to generate the rotation event\n     * @returns {Promise<EventResult>} A promise to the rotation event result\n     */\n    async rotate(name, kargs = {}) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        const transferable = (_a = kargs.transferable) !== null && _a !== void 0 ? _a : true;\n        const ncode = (_b = kargs.ncode) !== null && _b !== void 0 ? _b : _core_matter_js__WEBPACK_IMPORTED_MODULE_4__.MtrDex.Ed25519_Seed;\n        const ncount = (_c = kargs.ncount) !== null && _c !== void 0 ? _c : 1;\n        const hab = await this.get(name);\n        const pre = hab.prefix;\n        const delegated = hab.state.di !== '';\n        const state = hab.state;\n        const count = state.k.length;\n        const dig = state.d;\n        const ridx = parseInt(state.s, 16) + 1;\n        const wits = state.b;\n        let isith = state.nt;\n        let nsith = (_d = kargs.nsith) !== null && _d !== void 0 ? _d : isith;\n        // if isith is None:  # compute default from newly rotated verfers above\n        if (isith == undefined)\n            isith = `${Math.max(1, Math.ceil(count / 2)).toString(16)}`;\n        // if nsith is None:  # compute default from newly rotated digers above\n        if (nsith == undefined)\n            nsith = `${Math.max(1, Math.ceil(ncount / 2)).toString(16)}`;\n        const cst = new _core_tholder_js__WEBPACK_IMPORTED_MODULE_3__.Tholder({ sith: isith }).sith; // current signing threshold\n        const nst = new _core_tholder_js__WEBPACK_IMPORTED_MODULE_3__.Tholder({ sith: nsith }).sith; // next signing threshold\n        // Regenerate next keys to sign rotation event\n        const keeper = this.client.manager.get(hab);\n        // Create new keys for next digests\n        const ncodes = (_e = kargs.ncodes) !== null && _e !== void 0 ? _e : new Array(ncount).fill(ncode);\n        const states = kargs.states == undefined ? [] : kargs.states;\n        const rstates = kargs.rstates == undefined ? [] : kargs.rstates;\n        const [keys, ndigs] = await keeper.rotate(ncodes, transferable, states, rstates);\n        const cuts = (_f = kargs.cuts) !== null && _f !== void 0 ? _f : [];\n        const adds = (_g = kargs.adds) !== null && _g !== void 0 ? _g : [];\n        const data = kargs.data != undefined ? [kargs.data] : [];\n        const toad = kargs.toad;\n        const ilk = delegated ? _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.drt : _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.rot;\n        const serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_1__.rotate)({\n            pre: pre,\n            ilk: ilk,\n            keys: keys,\n            dig: dig,\n            sn: ridx,\n            isith: cst,\n            nsith: nst,\n            ndigs: ndigs,\n            toad: toad,\n            wits: wits,\n            cuts: cuts,\n            adds: adds,\n            data: data,\n        });\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(serder.raw));\n        const jsondata = {\n            rot: serder.sad,\n            sigs: sigs,\n            smids: states != undefined\n                ? states.map((state) => state.i)\n                : undefined,\n            rmids: rstates != undefined\n                ? rstates.map((state) => state.i)\n                : undefined,\n        };\n        jsondata[keeper.algo] = keeper.params();\n        const res = await this.client.fetch('/identifiers/' + name + '/events', 'POST', jsondata);\n        return new EventResult(serder, sigs, res);\n    }\n    /**\n     * Authorize an endpoint provider in a given role for a managed identifier\n     * @remarks\n     * Typically used to authorize the agent to be the endpoint provider for the identifier in the role of `agent`\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @param {string} role Authorized role for eid\n     * @param {string} [eid] Optional qb64 of endpoint provider to be authorized\n     * @param {string} [stamp=now] Optional date-time-stamp RFC-3339 profile of iso8601 datetime. Now is the default if not provided\n     * @returns {Promise<EventResult>} A promise to the result of the authorization\n     */\n    async addEndRole(name, role, eid, stamp) {\n        const hab = await this.get(name);\n        const pre = hab.prefix;\n        const rpy = this.makeEndRole(pre, role, eid, stamp);\n        const keeper = this.client.manager.get(hab);\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(rpy.raw));\n        const jsondata = {\n            rpy: rpy.sad,\n            sigs: sigs,\n        };\n        const res = await this.client.fetch('/identifiers/' + name + '/endroles', 'POST', jsondata);\n        return new EventResult(rpy, sigs, res);\n    }\n    /**\n     * Generate an /end/role/add reply message\n     * @param {string} pre Prefix of the identifier\n     * @param {string} role Authorized role for eid\n     * @param {string} [eid] Optional qb64 of endpoint provider to be authorized\n     * @param {string} [stamp=now] Optional date-time-stamp RFC-3339 profile of iso8601 datetime. Now is the default if not provided\n     * @returns {Serder} The reply message\n     */\n    makeEndRole(pre, role, eid, stamp) {\n        const data = {\n            cid: pre,\n            role: role,\n        };\n        if (eid != undefined) {\n            data.eid = eid;\n        }\n        const route = '/end/role/add';\n        return (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_1__.reply)(route, data, stamp, undefined, _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON);\n    }\n    /**\n     * Get the members of a group identifier\n     * @async\n     * @param {string} name - Name or alias of the identifier\n     * @returns {Promise<any>} - A promise to the list of members\n     */\n    async members(name) {\n        const res = await this.client.fetch('/identifiers/' + name + '/members', 'GET', undefined);\n        return await res.json();\n    }\n}\n/** Event Result */\nclass EventResult {\n    constructor(serder, sigs, response) {\n        this._serder = serder;\n        this._sigs = sigs;\n        this.response = response;\n    }\n    get serder() {\n        return this._serder;\n    }\n    get sigs() {\n        return this._sigs;\n    }\n    async op() {\n        return await this.response.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2FpZGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUEyQztBQUMyQjtBQUNUO0FBQ2hCO0FBQ0Y7QUFDWTtBQUN2RDtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsZ0JBQWdCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsTUFBTSxHQUFHLElBQUk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtRUFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQSxxQ0FBcUMseUJBQXlCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxnQkFBZ0I7QUFDL0IsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxxQkFBcUI7QUFDcEMsaUJBQWlCLGFBQWE7QUFDOUI7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQSwrQ0FBK0MsbURBQUs7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxtREFBTTtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1EQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIseURBQU07QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBUTtBQUNqQyxzQkFBc0Isa0RBQU87QUFDN0I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0EscUJBQXFCLHlEQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbURBQVE7QUFDakMsc0JBQXNCLGtEQUFPO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLHVDQUF1QyxnREFBQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQSxnQkFBZ0IseUJBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLDJEQUFRO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHVDQUF1QyxnREFBQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLHNCQUFzQjtBQUNyQyxpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0EsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQSwwRUFBMEUsbURBQU07QUFDaEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsK0NBQStDO0FBQ3RFO0FBQ0E7QUFDQSx1QkFBdUIsZ0RBQWdEO0FBQ3ZFLHdCQUF3QixxREFBTyxHQUFHLGFBQWEsUUFBUTtBQUN2RCx3QkFBd0IscURBQU8sR0FBRyxhQUFhLFFBQVE7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQywrQ0FBSSxPQUFPLCtDQUFJO0FBQy9DLHVCQUF1Qix5REFBTTtBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx1Q0FBdUMsZ0RBQUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZ0RBQUM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixRQUFRO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSx3REFBSyxnQ0FBZ0Msa0RBQU87QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9hcHAvYWlkaW5nLmpzPzI1MGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxnb3MgfSBmcm9tIFwiLi4vY29yZS9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBpbmNlcHQsIGludGVyYWN0LCByZXBseSwgcm90YXRlIH0gZnJvbSBcIi4uL2NvcmUvZXZlbnRpbmcuanNcIjtcbmltcG9ydCB7IGIsIElsa3MsIFNlcmlhbHMsIFZyc25fMV8wIH0gZnJvbSBcIi4uL2NvcmUvY29yZS5qc1wiO1xuaW1wb3J0IHsgVGhvbGRlciB9IGZyb20gXCIuLi9jb3JlL3Rob2xkZXIuanNcIjtcbmltcG9ydCB7IE10ckRleCB9IGZyb20gXCIuLi9jb3JlL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSYW5nZUhlYWRlcnMgfSBmcm9tIFwiLi4vY29yZS9odHRwaW5nLmpzXCI7XG4vKiogSWRlbnRpZmllciAqL1xuZXhwb3J0IGNsYXNzIElkZW50aWZpZXIge1xuICAgIC8qKlxuICAgICAqIElkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge0lkZW50aWZpZXJEZXBzfSBjbGllbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgbWFuYWdlZCBpZGVudGlmaWVyc1xuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gU3RhcnQgaW5kZXggb2YgbGlzdCBvZiBub3RpZmljYXRpb25zLCBkZWZhdWx0cyB0byAwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9MjRdIEVuZCBpbmRleCBvZiBsaXN0IG9mIG5vdGlmaWNhdGlvbnMsIGRlZmF1bHRzIHRvIDI0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBsaXN0IG9mIG1hbmFnZWQgaWRlbnRpZmllcnNcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0KHN0YXJ0ID0gMCwgZW5kID0gMjQpIHtcbiAgICAgICAgY29uc3QgZXh0cmFIZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgZXh0cmFIZWFkZXJzLmFwcGVuZCgnUmFuZ2UnLCBgYWlkcz0ke3N0YXJ0fS0ke2VuZH1gKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvaWRlbnRpZmllcnNgO1xuICAgICAgICBjb25zdCBkYXRhID0gbnVsbDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSwgZXh0cmFIZWFkZXJzKTtcbiAgICAgICAgY29uc3QgY3IgPSByZXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtcmFuZ2UnKTtcbiAgICAgICAgY29uc3QgcmFuZ2UgPSBwYXJzZVJhbmdlSGVhZGVycyhjciwgJ2FpZHMnKTtcbiAgICAgICAgY29uc3QgYWlkcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCxcbiAgICAgICAgICAgIHRvdGFsOiByYW5nZS50b3RhbCxcbiAgICAgICAgICAgIGFpZHM6IGFpZHMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBpbmZvcm1hdGlvbiBmb3IgYSBtYW5hZ2VkIGlkZW50aWZpZXJcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBQcmVmaXggb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIYWJTdGF0ZT59IEEgcHJvbWlzZSB0byB0aGUgaWRlbnRpZmllciBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGFzeW5jIGdldChuYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2lkZW50aWZpZXJzLyR7ZW5jb2RlVVJJQ29tcG9uZW50KG5hbWUpfWA7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBudWxsO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBtYW5hZ2VkIGlkZW50aWZpZXJcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBQcmVmaXggb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge0lkZW50aWZpZXJJbmZvfSBpbmZvIEluZm9ybWF0aW9uIHRvIHVwZGF0ZSBmb3IgdGhlIGdpdmVuIGlkZW50aWZpZXJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxIYWJTdGF0ZT59IEEgcHJvbWlzZSB0byB0aGUgaWRlbnRpZmllciBpbmZvcm1hdGlvbiBhZnRlciB1cGRhdGluZ1xuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZShuYW1lLCBpbmZvKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2lkZW50aWZpZXJzLyR7bmFtZX1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnUFVUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBpbmZvKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG1hbmFnZWQgaWRlbnRpZmllclxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge0NyZWF0ZUlkZW50aWZlckFyZ3N9IFtrYXJnc10gT3B0aW9uYWwgcGFyYW1ldGVycyB0byBjcmVhdGUgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcmV0dXJucyB7RXZlbnRSZXN1bHR9IFRoZSBpbmNlcHRpb24gcmVzdWx0XG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlKG5hbWUsIGthcmdzID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2Y7XG4gICAgICAgIGNvbnN0IGFsZ28gPSBrYXJncy5hbGdvID09IHVuZGVmaW5lZCA/IEFsZ29zLnNhbHR5IDoga2FyZ3MuYWxnbztcbiAgICAgICAgY29uc3QgdHJhbnNmZXJhYmxlID0gKF9hID0ga2FyZ3MudHJhbnNmZXJhYmxlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0cnVlO1xuICAgICAgICBjb25zdCBpc2l0aCA9IChfYiA9IGthcmdzLmlzaXRoKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAnMSc7XG4gICAgICAgIGxldCBuc2l0aCA9IChfYyA9IGthcmdzLm5zaXRoKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAnMSc7XG4gICAgICAgIGxldCB3aXRzID0gKF9kID0ga2FyZ3Mud2l0cykgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogW107XG4gICAgICAgIGNvbnN0IHRvYWQgPSAoX2UgPSBrYXJncy50b2FkKSAhPT0gbnVsbCAmJiBfZSAhPT0gdm9pZCAwID8gX2UgOiAwO1xuICAgICAgICBsZXQgZGNvZGUgPSAoX2YgPSBrYXJncy5kY29kZSkgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDogTXRyRGV4LkJsYWtlM18yNTY7XG4gICAgICAgIGNvbnN0IHByb3h5ID0ga2FyZ3MucHJveHk7XG4gICAgICAgIGNvbnN0IGRlbHByZSA9IGthcmdzLmRlbHByZTtcbiAgICAgICAgY29uc3QgZGF0YSA9IGthcmdzLmRhdGEgIT0gdW5kZWZpbmVkID8gW2thcmdzLmRhdGFdIDogW107XG4gICAgICAgIGNvbnN0IHByZSA9IGthcmdzLnByZTtcbiAgICAgICAgY29uc3Qgc3RhdGVzID0ga2FyZ3Muc3RhdGVzO1xuICAgICAgICBjb25zdCByc3RhdGVzID0ga2FyZ3MucnN0YXRlcztcbiAgICAgICAgY29uc3QgcHJ4cyA9IGthcmdzLnByeHM7XG4gICAgICAgIGNvbnN0IG54dHMgPSBrYXJncy5ueHRzO1xuICAgICAgICBjb25zdCBtaGFiID0ga2FyZ3MubWhhYjtcbiAgICAgICAgY29uc3QgX2tleXMgPSBrYXJncy5rZXlzO1xuICAgICAgICBjb25zdCBfbmRpZ3MgPSBrYXJncy5uZGlncztcbiAgICAgICAgY29uc3QgYnJhbiA9IGthcmdzLmJyYW47XG4gICAgICAgIGNvbnN0IGNvdW50ID0ga2FyZ3MuY291bnQ7XG4gICAgICAgIGxldCBuY291bnQgPSBrYXJncy5uY291bnQ7XG4gICAgICAgIGNvbnN0IHRpZXIgPSBrYXJncy50aWVyO1xuICAgICAgICBjb25zdCBleHRlcm5fdHlwZSA9IGthcmdzLmV4dGVybl90eXBlO1xuICAgICAgICBjb25zdCBleHRlcm4gPSBrYXJncy5leHRlcm47XG4gICAgICAgIGlmICghdHJhbnNmZXJhYmxlKSB7XG4gICAgICAgICAgICBuY291bnQgPSAwO1xuICAgICAgICAgICAgbnNpdGggPSAwO1xuICAgICAgICAgICAgZGNvZGUgPSBNdHJEZXguRWQyNTUxOU47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeGFyZ3MgPSB7XG4gICAgICAgICAgICB0cmFuc2ZlcmFibGU6IHRyYW5zZmVyYWJsZSxcbiAgICAgICAgICAgIGlzaXRoOiBpc2l0aCxcbiAgICAgICAgICAgIG5zaXRoOiBuc2l0aCxcbiAgICAgICAgICAgIHdpdHM6IHdpdHMsXG4gICAgICAgICAgICB0b2FkOiB0b2FkLFxuICAgICAgICAgICAgcHJveHk6IHByb3h5LFxuICAgICAgICAgICAgZGVscHJlOiBkZWxwcmUsXG4gICAgICAgICAgICBkY29kZTogZGNvZGUsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgYWxnbzogYWxnbyxcbiAgICAgICAgICAgIHByZTogcHJlLFxuICAgICAgICAgICAgcHJ4czogcHJ4cyxcbiAgICAgICAgICAgIG54dHM6IG54dHMsXG4gICAgICAgICAgICBtaGFiOiBtaGFiLFxuICAgICAgICAgICAgc3RhdGVzOiBzdGF0ZXMsXG4gICAgICAgICAgICByc3RhdGVzOiByc3RhdGVzLFxuICAgICAgICAgICAga2V5czogX2tleXMsXG4gICAgICAgICAgICBuZGlnczogX25kaWdzLFxuICAgICAgICAgICAgYnJhbjogYnJhbixcbiAgICAgICAgICAgIGNvdW50OiBjb3VudCxcbiAgICAgICAgICAgIG5jb3VudDogbmNvdW50LFxuICAgICAgICAgICAgdGllcjogdGllcixcbiAgICAgICAgICAgIGV4dGVybl90eXBlOiBleHRlcm5fdHlwZSxcbiAgICAgICAgICAgIGV4dGVybjogZXh0ZXJuLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBrZWVwZXIgPSB0aGlzLmNsaWVudC5tYW5hZ2VyLm5ldyhhbGdvLCB0aGlzLmNsaWVudC5waWR4LCB4YXJncyk7XG4gICAgICAgIGNvbnN0IFtrZXlzLCBuZGlnc10gPSBhd2FpdCBrZWVwZXIuaW5jZXB0KHRyYW5zZmVyYWJsZSk7XG4gICAgICAgIHdpdHMgPSB3aXRzICE9PSB1bmRlZmluZWQgPyB3aXRzIDogW107XG4gICAgICAgIGxldCBzZXJkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChkZWxwcmUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBzZXJkZXIgPSBpbmNlcHQoe1xuICAgICAgICAgICAgICAgIGtleXM6IGtleXMsXG4gICAgICAgICAgICAgICAgaXNpdGg6IGlzaXRoLFxuICAgICAgICAgICAgICAgIG5kaWdzOiBuZGlncyxcbiAgICAgICAgICAgICAgICBuc2l0aDogbnNpdGgsXG4gICAgICAgICAgICAgICAgdG9hZDogdG9hZCxcbiAgICAgICAgICAgICAgICB3aXRzOiB3aXRzLFxuICAgICAgICAgICAgICAgIGNuZmc6IFtdLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogVnJzbl8xXzAsXG4gICAgICAgICAgICAgICAga2luZDogU2VyaWFscy5KU09OLFxuICAgICAgICAgICAgICAgIGNvZGU6IGRjb2RlLFxuICAgICAgICAgICAgICAgIGludGl2ZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNlcmRlciA9IGluY2VwdCh7XG4gICAgICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgICAgICBpc2l0aDogaXNpdGgsXG4gICAgICAgICAgICAgICAgbmRpZ3M6IG5kaWdzLFxuICAgICAgICAgICAgICAgIG5zaXRoOiBuc2l0aCxcbiAgICAgICAgICAgICAgICB0b2FkOiB0b2FkLFxuICAgICAgICAgICAgICAgIHdpdHM6IHdpdHMsXG4gICAgICAgICAgICAgICAgY25mZzogW10sXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBWcnNuXzFfMCxcbiAgICAgICAgICAgICAgICBraW5kOiBTZXJpYWxzLkpTT04sXG4gICAgICAgICAgICAgICAgY29kZTogZGNvZGUsXG4gICAgICAgICAgICAgICAgaW50aXZlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBkZWxwcmU6IGRlbHByZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpZ3MgPSBhd2FpdCBrZWVwZXIuc2lnbihiKHNlcmRlci5yYXcpKTtcbiAgICAgICAgY29uc3QganNvbmRhdGEgPSB7XG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxuICAgICAgICAgICAgaWNwOiBzZXJkZXIuc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIHByb3h5OiBwcm94eSxcbiAgICAgICAgICAgIHNtaWRzOiBzdGF0ZXMgIT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBzdGF0ZXMubWFwKChzdGF0ZSkgPT4gc3RhdGUuaSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHJtaWRzOiByc3RhdGVzICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gcnN0YXRlcy5tYXAoKHN0YXRlKSA9PiBzdGF0ZS5pKVxuICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgICBqc29uZGF0YVthbGdvXSA9IGtlZXBlci5wYXJhbXMoKTtcbiAgICAgICAgdGhpcy5jbGllbnQucGlkeCA9IHRoaXMuY2xpZW50LnBpZHggKyAxO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaCgnL2lkZW50aWZpZXJzJywgJ1BPU1QnLCBqc29uZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgRXZlbnRSZXN1bHQoc2VyZGVyLCBzaWdzLCByZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbiBpbnRlcmFjdGlvbiBldmVudCBpbiBhIG1hbmFnZWQgaWRlbnRpZmllclxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIFByZWZpeCBvciBhbGlhcyBvZiB0aGUgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB7YW55fSBbZGF0YV0gT3B0aW9uIGRhdGEgdG8gYmUgYW5jaG9yZWQgaW4gdGhlIGludGVyYWN0aW9uIGV2ZW50XG4gICAgICogQHJldHVybnMge1Byb21pc2U8RXZlbnRSZXN1bHQ+fSBBIHByb21pc2UgdG8gdGhlIGludGVyYWN0aW9uIGV2ZW50IHJlc3VsdFxuICAgICAqL1xuICAgIGFzeW5jIGludGVyYWN0KG5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBzZXJkZXIsIHNpZ3MsIGpzb25kYXRhIH0gPSBhd2FpdCB0aGlzLmNyZWF0ZUludGVyYWN0KG5hbWUsIGRhdGEpO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaCgnL2lkZW50aWZpZXJzLycgKyBuYW1lICsgJy9ldmVudHMnLCAnUE9TVCcsIGpzb25kYXRhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudFJlc3VsdChzZXJkZXIsIHNpZ3MsIHJlcyk7XG4gICAgfVxuICAgIGFzeW5jIGNyZWF0ZUludGVyYWN0KG5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5nZXQobmFtZSk7XG4gICAgICAgIGNvbnN0IHByZSA9IGhhYi5wcmVmaXg7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGFiLnN0YXRlO1xuICAgICAgICBjb25zdCBzbiA9IHBhcnNlSW50KHN0YXRlLnMsIDE2KTtcbiAgICAgICAgY29uc3QgZGlnID0gc3RhdGUuZDtcbiAgICAgICAgZGF0YSA9IEFycmF5LmlzQXJyYXkoZGF0YSkgPyBkYXRhIDogW2RhdGFdO1xuICAgICAgICBjb25zdCBzZXJkZXIgPSBpbnRlcmFjdCh7XG4gICAgICAgICAgICBwcmU6IHByZSxcbiAgICAgICAgICAgIHNuOiBzbiArIDEsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICAgICAgZGlnOiBkaWcsXG4gICAgICAgICAgICB2ZXJzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBraW5kOiB1bmRlZmluZWQsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBrZWVwZXIgPSB0aGlzLmNsaWVudC5tYW5hZ2VyLmdldChoYWIpO1xuICAgICAgICBjb25zdCBzaWdzID0gYXdhaXQga2VlcGVyLnNpZ24oYihzZXJkZXIucmF3KSk7XG4gICAgICAgIGNvbnN0IGpzb25kYXRhID0ge1xuICAgICAgICAgICAgaXhuOiBzZXJkZXIuc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgfTtcbiAgICAgICAganNvbmRhdGFba2VlcGVyLmFsZ29dID0ga2VlcGVyLnBhcmFtcygpO1xuICAgICAgICByZXR1cm4geyBzZXJkZXIsIHNpZ3MsIGpzb25kYXRhIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlIGEgcm90YXRpb24gZXZlbnQgaW4gYSBtYW5hZ2VkIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9yIGFsaWFzIG9mIHRoZSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHtSb3RhdGVJZGVudGlmaWVyQXJnc30gW2thcmdzXSBPcHRpb25hbCBwYXJhbWV0ZXJzIHJlcXVpZXJlZCB0byBnZW5lcmF0ZSB0aGUgcm90YXRpb24gZXZlbnRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxFdmVudFJlc3VsdD59IEEgcHJvbWlzZSB0byB0aGUgcm90YXRpb24gZXZlbnQgcmVzdWx0XG4gICAgICovXG4gICAgYXN5bmMgcm90YXRlKG5hbWUsIGthcmdzID0ge30pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICBjb25zdCB0cmFuc2ZlcmFibGUgPSAoX2EgPSBrYXJncy50cmFuc2ZlcmFibGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IHRydWU7XG4gICAgICAgIGNvbnN0IG5jb2RlID0gKF9iID0ga2FyZ3MubmNvZGUpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IE10ckRleC5FZDI1NTE5X1NlZWQ7XG4gICAgICAgIGNvbnN0IG5jb3VudCA9IChfYyA9IGthcmdzLm5jb3VudCkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMTtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5nZXQobmFtZSk7XG4gICAgICAgIGNvbnN0IHByZSA9IGhhYi5wcmVmaXg7XG4gICAgICAgIGNvbnN0IGRlbGVnYXRlZCA9IGhhYi5zdGF0ZS5kaSAhPT0gJyc7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGFiLnN0YXRlO1xuICAgICAgICBjb25zdCBjb3VudCA9IHN0YXRlLmsubGVuZ3RoO1xuICAgICAgICBjb25zdCBkaWcgPSBzdGF0ZS5kO1xuICAgICAgICBjb25zdCByaWR4ID0gcGFyc2VJbnQoc3RhdGUucywgMTYpICsgMTtcbiAgICAgICAgY29uc3Qgd2l0cyA9IHN0YXRlLmI7XG4gICAgICAgIGxldCBpc2l0aCA9IHN0YXRlLm50O1xuICAgICAgICBsZXQgbnNpdGggPSAoX2QgPSBrYXJncy5uc2l0aCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogaXNpdGg7XG4gICAgICAgIC8vIGlmIGlzaXRoIGlzIE5vbmU6ICAjIGNvbXB1dGUgZGVmYXVsdCBmcm9tIG5ld2x5IHJvdGF0ZWQgdmVyZmVycyBhYm92ZVxuICAgICAgICBpZiAoaXNpdGggPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgaXNpdGggPSBgJHtNYXRoLm1heCgxLCBNYXRoLmNlaWwoY291bnQgLyAyKSkudG9TdHJpbmcoMTYpfWA7XG4gICAgICAgIC8vIGlmIG5zaXRoIGlzIE5vbmU6ICAjIGNvbXB1dGUgZGVmYXVsdCBmcm9tIG5ld2x5IHJvdGF0ZWQgZGlnZXJzIGFib3ZlXG4gICAgICAgIGlmIChuc2l0aCA9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICBuc2l0aCA9IGAke01hdGgubWF4KDEsIE1hdGguY2VpbChuY291bnQgLyAyKSkudG9TdHJpbmcoMTYpfWA7XG4gICAgICAgIGNvbnN0IGNzdCA9IG5ldyBUaG9sZGVyKHsgc2l0aDogaXNpdGggfSkuc2l0aDsgLy8gY3VycmVudCBzaWduaW5nIHRocmVzaG9sZFxuICAgICAgICBjb25zdCBuc3QgPSBuZXcgVGhvbGRlcih7IHNpdGg6IG5zaXRoIH0pLnNpdGg7IC8vIG5leHQgc2lnbmluZyB0aHJlc2hvbGRcbiAgICAgICAgLy8gUmVnZW5lcmF0ZSBuZXh0IGtleXMgdG8gc2lnbiByb3RhdGlvbiBldmVudFxuICAgICAgICBjb25zdCBrZWVwZXIgPSB0aGlzLmNsaWVudC5tYW5hZ2VyLmdldChoYWIpO1xuICAgICAgICAvLyBDcmVhdGUgbmV3IGtleXMgZm9yIG5leHQgZGlnZXN0c1xuICAgICAgICBjb25zdCBuY29kZXMgPSAoX2UgPSBrYXJncy5uY29kZXMpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IG5ldyBBcnJheShuY291bnQpLmZpbGwobmNvZGUpO1xuICAgICAgICBjb25zdCBzdGF0ZXMgPSBrYXJncy5zdGF0ZXMgPT0gdW5kZWZpbmVkID8gW10gOiBrYXJncy5zdGF0ZXM7XG4gICAgICAgIGNvbnN0IHJzdGF0ZXMgPSBrYXJncy5yc3RhdGVzID09IHVuZGVmaW5lZCA/IFtdIDoga2FyZ3MucnN0YXRlcztcbiAgICAgICAgY29uc3QgW2tleXMsIG5kaWdzXSA9IGF3YWl0IGtlZXBlci5yb3RhdGUobmNvZGVzLCB0cmFuc2ZlcmFibGUsIHN0YXRlcywgcnN0YXRlcyk7XG4gICAgICAgIGNvbnN0IGN1dHMgPSAoX2YgPSBrYXJncy5jdXRzKSAhPT0gbnVsbCAmJiBfZiAhPT0gdm9pZCAwID8gX2YgOiBbXTtcbiAgICAgICAgY29uc3QgYWRkcyA9IChfZyA9IGthcmdzLmFkZHMpICE9PSBudWxsICYmIF9nICE9PSB2b2lkIDAgPyBfZyA6IFtdO1xuICAgICAgICBjb25zdCBkYXRhID0ga2FyZ3MuZGF0YSAhPSB1bmRlZmluZWQgPyBba2FyZ3MuZGF0YV0gOiBbXTtcbiAgICAgICAgY29uc3QgdG9hZCA9IGthcmdzLnRvYWQ7XG4gICAgICAgIGNvbnN0IGlsayA9IGRlbGVnYXRlZCA/IElsa3MuZHJ0IDogSWxrcy5yb3Q7XG4gICAgICAgIGNvbnN0IHNlcmRlciA9IHJvdGF0ZSh7XG4gICAgICAgICAgICBwcmU6IHByZSxcbiAgICAgICAgICAgIGlsazogaWxrLFxuICAgICAgICAgICAga2V5czoga2V5cyxcbiAgICAgICAgICAgIGRpZzogZGlnLFxuICAgICAgICAgICAgc246IHJpZHgsXG4gICAgICAgICAgICBpc2l0aDogY3N0LFxuICAgICAgICAgICAgbnNpdGg6IG5zdCxcbiAgICAgICAgICAgIG5kaWdzOiBuZGlncyxcbiAgICAgICAgICAgIHRvYWQ6IHRvYWQsXG4gICAgICAgICAgICB3aXRzOiB3aXRzLFxuICAgICAgICAgICAgY3V0czogY3V0cyxcbiAgICAgICAgICAgIGFkZHM6IGFkZHMsXG4gICAgICAgICAgICBkYXRhOiBkYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2lncyA9IGF3YWl0IGtlZXBlci5zaWduKGIoc2VyZGVyLnJhdykpO1xuICAgICAgICBjb25zdCBqc29uZGF0YSA9IHtcbiAgICAgICAgICAgIHJvdDogc2VyZGVyLnNhZCxcbiAgICAgICAgICAgIHNpZ3M6IHNpZ3MsXG4gICAgICAgICAgICBzbWlkczogc3RhdGVzICE9IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgID8gc3RhdGVzLm1hcCgoc3RhdGUpID0+IHN0YXRlLmkpXG4gICAgICAgICAgICAgICAgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBybWlkczogcnN0YXRlcyAhPSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IHJzdGF0ZXMubWFwKChzdGF0ZSkgPT4gc3RhdGUuaSlcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZCxcbiAgICAgICAgfTtcbiAgICAgICAganNvbmRhdGFba2VlcGVyLmFsZ29dID0ga2VlcGVyLnBhcmFtcygpO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaCgnL2lkZW50aWZpZXJzLycgKyBuYW1lICsgJy9ldmVudHMnLCAnUE9TVCcsIGpzb25kYXRhKTtcbiAgICAgICAgcmV0dXJuIG5ldyBFdmVudFJlc3VsdChzZXJkZXIsIHNpZ3MsIHJlcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF1dGhvcml6ZSBhbiBlbmRwb2ludCBwcm92aWRlciBpbiBhIGdpdmVuIHJvbGUgZm9yIGEgbWFuYWdlZCBpZGVudGlmaWVyXG4gICAgICogQHJlbWFya3NcbiAgICAgKiBUeXBpY2FsbHkgdXNlZCB0byBhdXRob3JpemUgdGhlIGFnZW50IHRvIGJlIHRoZSBlbmRwb2ludCBwcm92aWRlciBmb3IgdGhlIGlkZW50aWZpZXIgaW4gdGhlIHJvbGUgb2YgYGFnZW50YFxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZSBBdXRob3JpemVkIHJvbGUgZm9yIGVpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZWlkXSBPcHRpb25hbCBxYjY0IG9mIGVuZHBvaW50IHByb3ZpZGVyIHRvIGJlIGF1dGhvcml6ZWRcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0YW1wPW5vd10gT3B0aW9uYWwgZGF0ZS10aW1lLXN0YW1wIFJGQy0zMzM5IHByb2ZpbGUgb2YgaXNvODYwMSBkYXRldGltZS4gTm93IGlzIHRoZSBkZWZhdWx0IGlmIG5vdCBwcm92aWRlZFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPEV2ZW50UmVzdWx0Pn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIGF1dGhvcml6YXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBhZGRFbmRSb2xlKG5hbWUsIHJvbGUsIGVpZCwgc3RhbXApIHtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5nZXQobmFtZSk7XG4gICAgICAgIGNvbnN0IHByZSA9IGhhYi5wcmVmaXg7XG4gICAgICAgIGNvbnN0IHJweSA9IHRoaXMubWFrZUVuZFJvbGUocHJlLCByb2xlLCBlaWQsIHN0YW1wKTtcbiAgICAgICAgY29uc3Qga2VlcGVyID0gdGhpcy5jbGllbnQubWFuYWdlci5nZXQoaGFiKTtcbiAgICAgICAgY29uc3Qgc2lncyA9IGF3YWl0IGtlZXBlci5zaWduKGIocnB5LnJhdykpO1xuICAgICAgICBjb25zdCBqc29uZGF0YSA9IHtcbiAgICAgICAgICAgIHJweTogcnB5LnNhZCxcbiAgICAgICAgICAgIHNpZ3M6IHNpZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKCcvaWRlbnRpZmllcnMvJyArIG5hbWUgKyAnL2VuZHJvbGVzJywgJ1BPU1QnLCBqc29uZGF0YSk7XG4gICAgICAgIHJldHVybiBuZXcgRXZlbnRSZXN1bHQocnB5LCBzaWdzLCByZXMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhbiAvZW5kL3JvbGUvYWRkIHJlcGx5IG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlIFByZWZpeCBvZiB0aGUgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByb2xlIEF1dGhvcml6ZWQgcm9sZSBmb3IgZWlkXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtlaWRdIE9wdGlvbmFsIHFiNjQgb2YgZW5kcG9pbnQgcHJvdmlkZXIgdG8gYmUgYXV0aG9yaXplZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RhbXA9bm93XSBPcHRpb25hbCBkYXRlLXRpbWUtc3RhbXAgUkZDLTMzMzkgcHJvZmlsZSBvZiBpc284NjAxIGRhdGV0aW1lLiBOb3cgaXMgdGhlIGRlZmF1bHQgaWYgbm90IHByb3ZpZGVkXG4gICAgICogQHJldHVybnMge1NlcmRlcn0gVGhlIHJlcGx5IG1lc3NhZ2VcbiAgICAgKi9cbiAgICBtYWtlRW5kUm9sZShwcmUsIHJvbGUsIGVpZCwgc3RhbXApIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIGNpZDogcHJlLFxuICAgICAgICAgICAgcm9sZTogcm9sZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGVpZCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEuZWlkID0gZWlkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJvdXRlID0gJy9lbmQvcm9sZS9hZGQnO1xuICAgICAgICByZXR1cm4gcmVwbHkocm91dGUsIGRhdGEsIHN0YW1wLCB1bmRlZmluZWQsIFNlcmlhbHMuSlNPTik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWVtYmVycyBvZiBhIGdyb3VwIGlkZW50aWZpZXJcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSAtIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSAtIEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiBtZW1iZXJzXG4gICAgICovXG4gICAgYXN5bmMgbWVtYmVycyhuYW1lKSB7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKCcvaWRlbnRpZmllcnMvJyArIG5hbWUgKyAnL21lbWJlcnMnLCAnR0VUJywgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxufVxuLyoqIEV2ZW50IFJlc3VsdCAqL1xuZXhwb3J0IGNsYXNzIEV2ZW50UmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihzZXJkZXIsIHNpZ3MsIHJlc3BvbnNlKSB7XG4gICAgICAgIHRoaXMuX3NlcmRlciA9IHNlcmRlcjtcbiAgICAgICAgdGhpcy5fc2lncyA9IHNpZ3M7XG4gICAgICAgIHRoaXMucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICB9XG4gICAgZ2V0IHNlcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcmRlcjtcbiAgICB9XG4gICAgZ2V0IHNpZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWdzO1xuICAgIH1cbiAgICBhc3luYyBvcCgpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVzcG9uc2UuanNvbigpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/aiding.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/clienting.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/clienting.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SignifyClient: () => (/* binding */ SignifyClient)\n/* harmony export */ });\n/* harmony import */ var _core_authing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/authing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/authing.js\");\n/* harmony import */ var _core_httping_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/httping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\");\n/* harmony import */ var _core_keeping_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/keeping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/keeping.js\");\n/* harmony import */ var _core_salter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _aiding_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./aiding.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/aiding.js\");\n/* harmony import */ var _contacting_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./contacting.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/contacting.js\");\n/* harmony import */ var _controller_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./controller.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/controller.js\");\n/* harmony import */ var _coring_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./coring.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/coring.js\");\n/* harmony import */ var _credentialing_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./credentialing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/credentialing.js\");\n/* harmony import */ var _delegating_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./delegating.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/delegating.js\");\n/* harmony import */ var _escrowing_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./escrowing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/escrowing.js\");\n/* harmony import */ var _exchanging_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./exchanging.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/exchanging.js\");\n/* harmony import */ var _grouping_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./grouping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/grouping.js\");\n/* harmony import */ var _notifying_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./notifying.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/notifying.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_BOOT_URL = 'http://localhost:3903';\nclass State {\n    constructor() {\n        this.agent = null;\n        this.controller = null;\n        this.pidx = 0;\n        this.ridx = 0;\n    }\n}\n/**\n * An in-memory key manager that can connect to a KERIA Agent and use it to\n * receive messages and act as a proxy for multi-signature operations and delegation operations.\n */\nclass SignifyClient {\n    /**\n     * SignifyClient constructor\n     * @param {string} url KERIA admin interface URL\n     * @param {string} bran Base64 21 char string that is used as base material for seed of the client AID\n     * @param {Tier} tier Security tier for generating keys of the client AID (high | mewdium | low)\n     * @param {string} bootUrl KERIA boot interface URL\n     * @param {ExternalModule[]} externalModules list of external modules to load\n     */\n    constructor(url, bran, tier = _core_salter_js__WEBPACK_IMPORTED_MODULE_3__.Tier.low, bootUrl = DEFAULT_BOOT_URL, externalModules = []) {\n        this._identifiers = new _aiding_js__WEBPACK_IMPORTED_MODULE_4__.Identifier(this);\n        this._operations = new _coring_js__WEBPACK_IMPORTED_MODULE_7__.Operations(this);\n        this._keyEvents = new _coring_js__WEBPACK_IMPORTED_MODULE_7__.KeyEvents(this);\n        this._keyStates = new _coring_js__WEBPACK_IMPORTED_MODULE_7__.KeyStates(this);\n        this._oobis = new _coring_js__WEBPACK_IMPORTED_MODULE_7__.Oobis(this);\n        this._config = new _coring_js__WEBPACK_IMPORTED_MODULE_7__.Config(this);\n        this._delegations = new _delegating_js__WEBPACK_IMPORTED_MODULE_9__.Delegations(this);\n        this._exchanges = new _exchanging_js__WEBPACK_IMPORTED_MODULE_11__.Exchanges(this);\n        this._groups = new _grouping_js__WEBPACK_IMPORTED_MODULE_12__.Groups(this);\n        this._escrows = new _escrowing_js__WEBPACK_IMPORTED_MODULE_10__.Escrows(this);\n        this._credentials = new _credentialing_js__WEBPACK_IMPORTED_MODULE_8__.Credentials(this);\n        this._registries = new _credentialing_js__WEBPACK_IMPORTED_MODULE_8__.Registries(this);\n        this._ipex = new _credentialing_js__WEBPACK_IMPORTED_MODULE_8__.Ipex(this);\n        this._notifications = new _notifying_js__WEBPACK_IMPORTED_MODULE_13__.Notifications(this);\n        this._contacts = new _contacting_js__WEBPACK_IMPORTED_MODULE_5__.Contacts(this);\n        this._challenges = new _contacting_js__WEBPACK_IMPORTED_MODULE_5__.Challenges(this);\n        this._schemas = new _credentialing_js__WEBPACK_IMPORTED_MODULE_8__.Schemas(this);\n        this.url = url;\n        if (bran.length < 21) {\n            throw Error('bran must be 21 characters');\n        }\n        this.bran = bran;\n        this.pidx = 0;\n        this.controller = new _controller_js__WEBPACK_IMPORTED_MODULE_6__.Controller(bran, tier);\n        this.authn = null;\n        this.agent = null;\n        this.manager = null;\n        this.tier = tier;\n        this.bootUrl = bootUrl;\n        this.exteralModules = externalModules;\n    }\n    get data() {\n        return [this.url, this.bran, this.pidx, this.authn];\n    }\n    /**\n     * Boot a KERIA agent\n     * @async\n     * @returns {Promise<Response>} A promise to the result of the boot\n     */\n    async boot() {\n        var _a, _b, _c, _d;\n        const [evt, sign] = (_b = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.event) !== null && _b !== void 0 ? _b : [];\n        const data = {\n            icp: evt.sad,\n            sig: sign.qb64,\n            stem: (_c = this.controller) === null || _c === void 0 ? void 0 : _c.stem,\n            pidx: 1,\n            tier: (_d = this.controller) === null || _d === void 0 ? void 0 : _d.tier,\n        };\n        return await fetch(this.bootUrl + '/boot', {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n    /**\n     * Get state of the agent and the client\n     * @async\n     * @returns {Promise<Response>} A promise to the state\n     */\n    async state() {\n        var _a, _b, _c, _d, _e;\n        const caid = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.pre;\n        const res = await fetch(this.url + `/agent/${caid}`);\n        if (res.status == 404) {\n            throw new Error(`agent does not exist for controller ${caid}`);\n        }\n        const data = await res.json();\n        const state = new State();\n        state.agent = (_b = data.agent) !== null && _b !== void 0 ? _b : {};\n        state.controller = (_c = data.controller) !== null && _c !== void 0 ? _c : {};\n        state.ridx = (_d = data.ridx) !== null && _d !== void 0 ? _d : 0;\n        state.pidx = (_e = data.pidx) !== null && _e !== void 0 ? _e : 0;\n        return state;\n    }\n    /**  Connect to a KERIA agent\n     * @async\n     */\n    async connect() {\n        const state = await this.state();\n        this.pidx = state.pidx;\n        //Create controller representing the local client AID\n        this.controller = new _controller_js__WEBPACK_IMPORTED_MODULE_6__.Controller(this.bran, this.tier, 0, state.controller);\n        this.controller.ridx = state.ridx !== undefined ? state.ridx : 0;\n        // Create agent representing the AID of KERIA cloud agent\n        this.agent = new _controller_js__WEBPACK_IMPORTED_MODULE_6__.Agent(state.agent);\n        if (this.agent.anchor != this.controller.pre) {\n            throw Error('commitment to controller AID missing in agent inception event');\n        }\n        if (this.controller.serder.sad.s == 0) {\n            await this.approveDelegation();\n        }\n        this.manager = new _core_keeping_js__WEBPACK_IMPORTED_MODULE_2__.IdentifierManagerFactory(this.controller.salter, this.exteralModules);\n        this.authn = new _core_authing_js__WEBPACK_IMPORTED_MODULE_0__.Authenticater(this.controller.signer, this.agent.verfer);\n    }\n    /**\n     * Fetch a resource from the KERIA agent\n     * @async\n     * @param {string} path Path to the resource\n     * @param {string} method HTTP method\n     * @param {any} data Data to be sent in the body of the resource\n     * @param {Headers} [extraHeaders] Optional extra headers to be sent with the request\n     * @returns {Promise<Response>} A promise to the result of the fetch\n     */\n    async fetch(path, method, data, extraHeaders) {\n        var _a;\n        const headers = new Headers();\n        let signed_headers = new Headers();\n        const final_headers = new Headers();\n        headers.set('Signify-Resource', this.controller.pre);\n        headers.set(_core_httping_js__WEBPACK_IMPORTED_MODULE_1__.HEADER_SIG_TIME, new Date().toISOString().replace('Z', '000+00:00'));\n        headers.set('Content-Type', 'application/json');\n        const _body = method == 'GET' ? null : JSON.stringify(data);\n        if (this.authn) {\n            signed_headers = this.authn.sign(headers, method, path.split('?')[0]);\n        }\n        else {\n            throw new Error('client need to call connect first');\n        }\n        signed_headers.forEach((value, key) => {\n            final_headers.set(key, value);\n        });\n        if (extraHeaders !== undefined) {\n            extraHeaders.forEach((value, key) => {\n                final_headers.append(key, value);\n            });\n        }\n        const res = await fetch(this.url + path, {\n            method: method,\n            body: _body,\n            headers: final_headers,\n        });\n        if (!res.ok) {\n            const error = await res.text();\n            const message = `HTTP ${method} ${path} - ${res.status} ${res.statusText} - ${error}`;\n            throw new Error(message);\n        }\n        const isSameAgent = ((_a = this.agent) === null || _a === void 0 ? void 0 : _a.pre) === res.headers.get('signify-resource');\n        if (!isSameAgent) {\n            throw new Error('message from a different remote agent');\n        }\n        const verification = this.authn.verify(res.headers, method, path.split('?')[0]);\n        if (verification) {\n            return res;\n        }\n        else {\n            throw new Error('response verification failed');\n        }\n    }\n    /**\n     * Create a Signed Request to fetch a resource from an external URL with headers signed by an AID\n     * @async\n     * @param {string} aidName Name or alias of the AID to be used for signing\n     * @param {string} url URL of the requested resource\n     * @param {RequestInit} req Request options should include:\n     *     - method: HTTP method\n     *     - data Data to be sent in the body of the resource.\n     *              If the data is a CESR JSON string then you should also set contentType to 'application/json+cesr'\n     *              If the data is a FormData object then you should not set the contentType and the browser will set it to 'multipart/form-data'\n     *              If the data is an object then you should use JSON.stringify to convert it to a string and set the contentType to 'application/json'\n     *     - contentType Content type of the request.\n     * @returns {Promise<Request>} A promise to the created Request\n     */\n    async createSignedRequest(aidName, url, req) {\n        var _a;\n        const hab = await this.identifiers().get(aidName);\n        const keeper = this.manager.get(hab);\n        const authenticator = new _core_authing_js__WEBPACK_IMPORTED_MODULE_0__.Authenticater(keeper.signers[0], keeper.signers[0].verfer);\n        const headers = new Headers(req.headers);\n        headers.set('Signify-Resource', hab['prefix']);\n        headers.set(_core_httping_js__WEBPACK_IMPORTED_MODULE_1__.HEADER_SIG_TIME, new Date().toISOString().replace('Z', '000+00:00'));\n        const signed_headers = authenticator.sign(new Headers(headers), (_a = req.method) !== null && _a !== void 0 ? _a : 'GET', new URL(url).pathname);\n        req.headers = signed_headers;\n        return new Request(url, req);\n    }\n    /**\n     * Approve the delegation of the client AID to the KERIA agent\n     * @async\n     * @returns {Promise<Response>} A promise to the result of the approval\n     */\n    async approveDelegation() {\n        const sigs = this.controller.approveDelegation(this.agent);\n        const data = {\n            ixn: this.controller.serder.sad,\n            sigs: sigs,\n        };\n        return await fetch(this.url + '/agent/' + this.controller.pre + '?type=ixn', {\n            method: 'PUT',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n    /**\n     * Save old client passcode in KERIA agent\n     * @async\n     * @param {string} passcode Passcode to be saved\n     * @returns {Promise<Response>} A promise to the result of the save\n     */\n    async saveOldPasscode(passcode) {\n        var _a;\n        const caid = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.pre;\n        const body = { salt: passcode };\n        return await fetch(this.url + '/salt/' + caid, {\n            method: 'PUT',\n            body: JSON.stringify(body),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n    /**\n     * Delete a saved passcode from KERIA agent\n     * @async\n     * @returns {Promise<Response>} A promise to the result of the deletion\n     */\n    async deletePasscode() {\n        var _a;\n        const caid = (_a = this.controller) === null || _a === void 0 ? void 0 : _a.pre;\n        return await fetch(this.url + '/salt/' + caid, {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n    /**\n     * Rotate the client AID\n     * @async\n     * @param {string} nbran Base64 21 char string that is used as base material for the new seed\n     * @param {Array<string>} aids List of managed AIDs to be rotated\n     * @returns {Promise<Response>} A promise to the result of the rotation\n     */\n    async rotate(nbran, aids) {\n        const data = this.controller.rotate(nbran, aids);\n        return await fetch(this.url + '/agent/' + this.controller.pre, {\n            method: 'PUT',\n            body: JSON.stringify(data),\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        });\n    }\n    /**\n     * Get identifiers resource\n     * @returns {Identifier}\n     */\n    identifiers() {\n        return this._identifiers;\n    }\n    /**\n     * Get OOBIs resource\n     * @returns {Oobis}\n     */\n    oobis() {\n        return this._oobis;\n    }\n    /**\n     * Get operations resource\n     * @returns {Operations}\n     */\n    operations() {\n        return this._operations;\n    }\n    /**\n     * Get keyEvents resource\n     * @returns {KeyEvents}\n     */\n    keyEvents() {\n        return this._keyEvents;\n    }\n    /**\n     * Get keyStates resource\n     * @returns {KeyStates}\n     */\n    keyStates() {\n        return this._keyStates;\n    }\n    /**\n     * Get credentials resource\n     * @returns {Credentials}\n     */\n    credentials() {\n        return this._credentials;\n    }\n    /**\n     * Get IPEX resource\n     * @returns {Ipex}\n     */\n    ipex() {\n        return this._ipex;\n    }\n    /**\n     * Get registries resource\n     * @returns {Registries}\n     */\n    registries() {\n        return this._registries;\n    }\n    /**\n     * Get schemas resource\n     * @returns {Schemas}\n     */\n    schemas() {\n        return this._schemas;\n    }\n    /**\n     * Get challenges resource\n     * @returns {Challenges}\n     */\n    challenges() {\n        return this._challenges;\n    }\n    /**\n     * Get contacts resource\n     * @returns {Contacts}\n     */\n    contacts() {\n        return this._contacts;\n    }\n    /**\n     * Get notifications resource\n     * @returns {Notifications}\n     */\n    notifications() {\n        return this._notifications;\n    }\n    /**\n     * Get escrows resource\n     * @returns {Escrows}\n     */\n    escrows() {\n        return this._escrows;\n    }\n    /**\n     * Get groups resource\n     * @returns {Groups}\n     */\n    groups() {\n        return this._groups;\n    }\n    /**\n     * Get exchange resource\n     * @returns {Exchanges}\n     */\n    exchanges() {\n        return this._exchanges;\n    }\n    /**\n     * Get delegations resource\n     * @returns {Delegations}\n     */\n    delegations() {\n        return this._delegations;\n    }\n    /**\n     * Get agent config resource\n     * @returns {Config}\n     */\n    config() {\n        return this._config;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NsaWVudGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBbUQ7QUFDRTtBQUNTO0FBQ3JCO0FBQ0E7QUFDYztBQUNIO0FBQzBCO0FBQ0Y7QUFDOUI7QUFDTDtBQUNHO0FBQ0w7QUFDUTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxNQUFNO0FBQ3JCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGtCQUFrQjtBQUNqQztBQUNBLGtDQUFrQyxpREFBSTtBQUN0QyxnQ0FBZ0Msa0RBQVU7QUFDMUMsK0JBQStCLGtEQUFVO0FBQ3pDLDhCQUE4QixpREFBUztBQUN2Qyw4QkFBOEIsaURBQVM7QUFDdkMsMEJBQTBCLDZDQUFLO0FBQy9CLDJCQUEyQiw4Q0FBTTtBQUNqQyxnQ0FBZ0MsdURBQVc7QUFDM0MsOEJBQThCLHNEQUFTO0FBQ3ZDLDJCQUEyQixpREFBTTtBQUNqQyw0QkFBNEIsbURBQU87QUFDbkMsZ0NBQWdDLDBEQUFXO0FBQzNDLCtCQUErQix5REFBVTtBQUN6Qyx5QkFBeUIsbURBQUk7QUFDN0Isa0NBQWtDLHlEQUFhO0FBQy9DLDZCQUE2QixvREFBUTtBQUNyQywrQkFBK0Isc0RBQVU7QUFDekMsNEJBQTRCLHNEQUFPO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixzREFBVTtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRCxLQUFLO0FBQzFEO0FBQ0EsbUVBQW1FLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsc0RBQVU7QUFDeEM7QUFDQTtBQUNBLHlCQUF5QixpREFBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsc0VBQXdCO0FBQ25ELHlCQUF5QiwyREFBYTtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxLQUFLO0FBQ3BCLGVBQWUsU0FBUztBQUN4QixpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDZEQUFlO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxvQ0FBb0MsUUFBUSxFQUFFLE1BQU0sSUFBSSxZQUFZLEVBQUUsZ0JBQWdCLElBQUksTUFBTTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLGFBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGtCQUFrQjtBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLDJEQUFhO0FBQy9DO0FBQ0E7QUFDQSxvQkFBb0IsNkRBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsbUJBQW1CO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxlQUFlO0FBQzlCLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2FwcC9jbGllbnRpbmcuanM/ZDRiYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRoZW50aWNhdGVyIH0gZnJvbSBcIi4uL2NvcmUvYXV0aGluZy5qc1wiO1xuaW1wb3J0IHsgSEVBREVSX1NJR19USU1FIH0gZnJvbSBcIi4uL2NvcmUvaHR0cGluZy5qc1wiO1xuaW1wb3J0IHsgSWRlbnRpZmllck1hbmFnZXJGYWN0b3J5IH0gZnJvbSBcIi4uL2NvcmUva2VlcGluZy5qc1wiO1xuaW1wb3J0IHsgVGllciB9IGZyb20gXCIuLi9jb3JlL3NhbHRlci5qc1wiO1xuaW1wb3J0IHsgSWRlbnRpZmllciB9IGZyb20gXCIuL2FpZGluZy5qc1wiO1xuaW1wb3J0IHsgQ29udGFjdHMsIENoYWxsZW5nZXMgfSBmcm9tIFwiLi9jb250YWN0aW5nLmpzXCI7XG5pbXBvcnQgeyBBZ2VudCwgQ29udHJvbGxlciB9IGZyb20gXCIuL2NvbnRyb2xsZXIuanNcIjtcbmltcG9ydCB7IE9vYmlzLCBPcGVyYXRpb25zLCBLZXlFdmVudHMsIEtleVN0YXRlcywgQ29uZmlnIH0gZnJvbSBcIi4vY29yaW5nLmpzXCI7XG5pbXBvcnQgeyBDcmVkZW50aWFscywgSXBleCwgUmVnaXN0cmllcywgU2NoZW1hcyB9IGZyb20gXCIuL2NyZWRlbnRpYWxpbmcuanNcIjtcbmltcG9ydCB7IERlbGVnYXRpb25zIH0gZnJvbSBcIi4vZGVsZWdhdGluZy5qc1wiO1xuaW1wb3J0IHsgRXNjcm93cyB9IGZyb20gXCIuL2VzY3Jvd2luZy5qc1wiO1xuaW1wb3J0IHsgRXhjaGFuZ2VzIH0gZnJvbSBcIi4vZXhjaGFuZ2luZy5qc1wiO1xuaW1wb3J0IHsgR3JvdXBzIH0gZnJvbSBcIi4vZ3JvdXBpbmcuanNcIjtcbmltcG9ydCB7IE5vdGlmaWNhdGlvbnMgfSBmcm9tIFwiLi9ub3RpZnlpbmcuanNcIjtcbmNvbnN0IERFRkFVTFRfQk9PVF9VUkwgPSAnaHR0cDovL2xvY2FsaG9zdDozOTAzJztcbmNsYXNzIFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hZ2VudCA9IG51bGw7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG51bGw7XG4gICAgICAgIHRoaXMucGlkeCA9IDA7XG4gICAgICAgIHRoaXMucmlkeCA9IDA7XG4gICAgfVxufVxuLyoqXG4gKiBBbiBpbi1tZW1vcnkga2V5IG1hbmFnZXIgdGhhdCBjYW4gY29ubmVjdCB0byBhIEtFUklBIEFnZW50IGFuZCB1c2UgaXQgdG9cbiAqIHJlY2VpdmUgbWVzc2FnZXMgYW5kIGFjdCBhcyBhIHByb3h5IGZvciBtdWx0aS1zaWduYXR1cmUgb3BlcmF0aW9ucyBhbmQgZGVsZWdhdGlvbiBvcGVyYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgU2lnbmlmeUNsaWVudCB7XG4gICAgLyoqXG4gICAgICogU2lnbmlmeUNsaWVudCBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgS0VSSUEgYWRtaW4gaW50ZXJmYWNlIFVSTFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBicmFuIEJhc2U2NCAyMSBjaGFyIHN0cmluZyB0aGF0IGlzIHVzZWQgYXMgYmFzZSBtYXRlcmlhbCBmb3Igc2VlZCBvZiB0aGUgY2xpZW50IEFJRFxuICAgICAqIEBwYXJhbSB7VGllcn0gdGllciBTZWN1cml0eSB0aWVyIGZvciBnZW5lcmF0aW5nIGtleXMgb2YgdGhlIGNsaWVudCBBSUQgKGhpZ2ggfCBtZXdkaXVtIHwgbG93KVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBib290VXJsIEtFUklBIGJvb3QgaW50ZXJmYWNlIFVSTFxuICAgICAqIEBwYXJhbSB7RXh0ZXJuYWxNb2R1bGVbXX0gZXh0ZXJuYWxNb2R1bGVzIGxpc3Qgb2YgZXh0ZXJuYWwgbW9kdWxlcyB0byBsb2FkXG4gICAgICovXG4gICAgY29uc3RydWN0b3IodXJsLCBicmFuLCB0aWVyID0gVGllci5sb3csIGJvb3RVcmwgPSBERUZBVUxUX0JPT1RfVVJMLCBleHRlcm5hbE1vZHVsZXMgPSBbXSkge1xuICAgICAgICB0aGlzLl9pZGVudGlmaWVycyA9IG5ldyBJZGVudGlmaWVyKHRoaXMpO1xuICAgICAgICB0aGlzLl9vcGVyYXRpb25zID0gbmV3IE9wZXJhdGlvbnModGhpcyk7XG4gICAgICAgIHRoaXMuX2tleUV2ZW50cyA9IG5ldyBLZXlFdmVudHModGhpcyk7XG4gICAgICAgIHRoaXMuX2tleVN0YXRlcyA9IG5ldyBLZXlTdGF0ZXModGhpcyk7XG4gICAgICAgIHRoaXMuX29vYmlzID0gbmV3IE9vYmlzKHRoaXMpO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBuZXcgQ29uZmlnKHRoaXMpO1xuICAgICAgICB0aGlzLl9kZWxlZ2F0aW9ucyA9IG5ldyBEZWxlZ2F0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5fZXhjaGFuZ2VzID0gbmV3IEV4Y2hhbmdlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5fZ3JvdXBzID0gbmV3IEdyb3Vwcyh0aGlzKTtcbiAgICAgICAgdGhpcy5fZXNjcm93cyA9IG5ldyBFc2Nyb3dzKHRoaXMpO1xuICAgICAgICB0aGlzLl9jcmVkZW50aWFscyA9IG5ldyBDcmVkZW50aWFscyh0aGlzKTtcbiAgICAgICAgdGhpcy5fcmVnaXN0cmllcyA9IG5ldyBSZWdpc3RyaWVzKHRoaXMpO1xuICAgICAgICB0aGlzLl9pcGV4ID0gbmV3IElwZXgodGhpcyk7XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbnMgPSBuZXcgTm90aWZpY2F0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5fY29udGFjdHMgPSBuZXcgQ29udGFjdHModGhpcyk7XG4gICAgICAgIHRoaXMuX2NoYWxsZW5nZXMgPSBuZXcgQ2hhbGxlbmdlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5fc2NoZW1hcyA9IG5ldyBTY2hlbWFzKHRoaXMpO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICAgICAgaWYgKGJyYW4ubGVuZ3RoIDwgMjEpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdicmFuIG11c3QgYmUgMjEgY2hhcmFjdGVycycpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYnJhbiA9IGJyYW47XG4gICAgICAgIHRoaXMucGlkeCA9IDA7XG4gICAgICAgIHRoaXMuY29udHJvbGxlciA9IG5ldyBDb250cm9sbGVyKGJyYW4sIHRpZXIpO1xuICAgICAgICB0aGlzLmF1dGhuID0gbnVsbDtcbiAgICAgICAgdGhpcy5hZ2VudCA9IG51bGw7XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG4gICAgICAgIHRoaXMudGllciA9IHRpZXI7XG4gICAgICAgIHRoaXMuYm9vdFVybCA9IGJvb3RVcmw7XG4gICAgICAgIHRoaXMuZXh0ZXJhbE1vZHVsZXMgPSBleHRlcm5hbE1vZHVsZXM7XG4gICAgfVxuICAgIGdldCBkYXRhKCkge1xuICAgICAgICByZXR1cm4gW3RoaXMudXJsLCB0aGlzLmJyYW4sIHRoaXMucGlkeCwgdGhpcy5hdXRobl07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJvb3QgYSBLRVJJQSBhZ2VudFxuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIGJvb3RcbiAgICAgKi9cbiAgICBhc3luYyBib290KCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIGNvbnN0IFtldnQsIHNpZ25dID0gKF9iID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZXZlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgaWNwOiBldnQuc2FkLFxuICAgICAgICAgICAgc2lnOiBzaWduLnFiNjQsXG4gICAgICAgICAgICBzdGVtOiAoX2MgPSB0aGlzLmNvbnRyb2xsZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5zdGVtLFxuICAgICAgICAgICAgcGlkeDogMSxcbiAgICAgICAgICAgIHRpZXI6IChfZCA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLnRpZXIsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBhd2FpdCBmZXRjaCh0aGlzLmJvb3RVcmwgKyAnL2Jvb3QnLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHN0YXRlIG9mIHRoZSBhZ2VudCBhbmQgdGhlIGNsaWVudFxuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gQSBwcm9taXNlIHRvIHRoZSBzdGF0ZVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXRlKCkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lO1xuICAgICAgICBjb25zdCBjYWlkID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJlO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCBmZXRjaCh0aGlzLnVybCArIGAvYWdlbnQvJHtjYWlkfWApO1xuICAgICAgICBpZiAocmVzLnN0YXR1cyA9PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWdlbnQgZG9lcyBub3QgZXhpc3QgZm9yIGNvbnRyb2xsZXIgJHtjYWlkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpO1xuICAgICAgICBjb25zdCBzdGF0ZSA9IG5ldyBTdGF0ZSgpO1xuICAgICAgICBzdGF0ZS5hZ2VudCA9IChfYiA9IGRhdGEuYWdlbnQpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9O1xuICAgICAgICBzdGF0ZS5jb250cm9sbGVyID0gKF9jID0gZGF0YS5jb250cm9sbGVyKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiB7fTtcbiAgICAgICAgc3RhdGUucmlkeCA9IChfZCA9IGRhdGEucmlkeCkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogMDtcbiAgICAgICAgc3RhdGUucGlkeCA9IChfZSA9IGRhdGEucGlkeCkgIT09IG51bGwgJiYgX2UgIT09IHZvaWQgMCA/IF9lIDogMDtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICAvKiogIENvbm5lY3QgdG8gYSBLRVJJQSBhZ2VudFxuICAgICAqIEBhc3luY1xuICAgICAqL1xuICAgIGFzeW5jIGNvbm5lY3QoKSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gYXdhaXQgdGhpcy5zdGF0ZSgpO1xuICAgICAgICB0aGlzLnBpZHggPSBzdGF0ZS5waWR4O1xuICAgICAgICAvL0NyZWF0ZSBjb250cm9sbGVyIHJlcHJlc2VudGluZyB0aGUgbG9jYWwgY2xpZW50IEFJRFxuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQ29udHJvbGxlcih0aGlzLmJyYW4sIHRoaXMudGllciwgMCwgc3RhdGUuY29udHJvbGxlcik7XG4gICAgICAgIHRoaXMuY29udHJvbGxlci5yaWR4ID0gc3RhdGUucmlkeCAhPT0gdW5kZWZpbmVkID8gc3RhdGUucmlkeCA6IDA7XG4gICAgICAgIC8vIENyZWF0ZSBhZ2VudCByZXByZXNlbnRpbmcgdGhlIEFJRCBvZiBLRVJJQSBjbG91ZCBhZ2VudFxuICAgICAgICB0aGlzLmFnZW50ID0gbmV3IEFnZW50KHN0YXRlLmFnZW50KTtcbiAgICAgICAgaWYgKHRoaXMuYWdlbnQuYW5jaG9yICE9IHRoaXMuY29udHJvbGxlci5wcmUpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdjb21taXRtZW50IHRvIGNvbnRyb2xsZXIgQUlEIG1pc3NpbmcgaW4gYWdlbnQgaW5jZXB0aW9uIGV2ZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29udHJvbGxlci5zZXJkZXIuc2FkLnMgPT0gMCkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5hcHByb3ZlRGVsZWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubWFuYWdlciA9IG5ldyBJZGVudGlmaWVyTWFuYWdlckZhY3RvcnkodGhpcy5jb250cm9sbGVyLnNhbHRlciwgdGhpcy5leHRlcmFsTW9kdWxlcyk7XG4gICAgICAgIHRoaXMuYXV0aG4gPSBuZXcgQXV0aGVudGljYXRlcih0aGlzLmNvbnRyb2xsZXIuc2lnbmVyLCB0aGlzLmFnZW50LnZlcmZlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoIGEgcmVzb3VyY2UgZnJvbSB0aGUgS0VSSUEgYWdlbnRcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBQYXRoIHRvIHRoZSByZXNvdXJjZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBtZXRob2QgSFRUUCBtZXRob2RcbiAgICAgKiBAcGFyYW0ge2FueX0gZGF0YSBEYXRhIHRvIGJlIHNlbnQgaW4gdGhlIGJvZHkgb2YgdGhlIHJlc291cmNlXG4gICAgICogQHBhcmFtIHtIZWFkZXJzfSBbZXh0cmFIZWFkZXJzXSBPcHRpb25hbCBleHRyYSBoZWFkZXJzIHRvIGJlIHNlbnQgd2l0aCB0aGUgcmVxdWVzdFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIGZldGNoXG4gICAgICovXG4gICAgYXN5bmMgZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhLCBleHRyYUhlYWRlcnMpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgbGV0IHNpZ25lZF9oZWFkZXJzID0gbmV3IEhlYWRlcnMoKTtcbiAgICAgICAgY29uc3QgZmluYWxfaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgICAgIGhlYWRlcnMuc2V0KCdTaWduaWZ5LVJlc291cmNlJywgdGhpcy5jb250cm9sbGVyLnByZSk7XG4gICAgICAgIGhlYWRlcnMuc2V0KEhFQURFUl9TSUdfVElNRSwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCAnMDAwKzAwOjAwJykpO1xuICAgICAgICBoZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICAgICAgY29uc3QgX2JvZHkgPSBtZXRob2QgPT0gJ0dFVCcgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGlmICh0aGlzLmF1dGhuKSB7XG4gICAgICAgICAgICBzaWduZWRfaGVhZGVycyA9IHRoaXMuYXV0aG4uc2lnbihoZWFkZXJzLCBtZXRob2QsIHBhdGguc3BsaXQoJz8nKVswXSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsaWVudCBuZWVkIHRvIGNhbGwgY29ubmVjdCBmaXJzdCcpO1xuICAgICAgICB9XG4gICAgICAgIHNpZ25lZF9oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGZpbmFsX2hlYWRlcnMuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGV4dHJhSGVhZGVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBleHRyYUhlYWRlcnMuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbmFsX2hlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2godGhpcy51cmwgKyBwYXRoLCB7XG4gICAgICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgICAgIGJvZHk6IF9ib2R5LFxuICAgICAgICAgICAgaGVhZGVyczogZmluYWxfaGVhZGVycyxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghcmVzLm9rKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGF3YWl0IHJlcy50ZXh0KCk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gYEhUVFAgJHttZXRob2R9ICR7cGF0aH0gLSAke3Jlcy5zdGF0dXN9ICR7cmVzLnN0YXR1c1RleHR9IC0gJHtlcnJvcn1gO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzU2FtZUFnZW50ID0gKChfYSA9IHRoaXMuYWdlbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5wcmUpID09PSByZXMuaGVhZGVycy5nZXQoJ3NpZ25pZnktcmVzb3VyY2UnKTtcbiAgICAgICAgaWYgKCFpc1NhbWVBZ2VudCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtZXNzYWdlIGZyb20gYSBkaWZmZXJlbnQgcmVtb3RlIGFnZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmVyaWZpY2F0aW9uID0gdGhpcy5hdXRobi52ZXJpZnkocmVzLmhlYWRlcnMsIG1ldGhvZCwgcGF0aC5zcGxpdCgnPycpWzBdKTtcbiAgICAgICAgaWYgKHZlcmlmaWNhdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVzcG9uc2UgdmVyaWZpY2F0aW9uIGZhaWxlZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIFNpZ25lZCBSZXF1ZXN0IHRvIGZldGNoIGEgcmVzb3VyY2UgZnJvbSBhbiBleHRlcm5hbCBVUkwgd2l0aCBoZWFkZXJzIHNpZ25lZCBieSBhbiBBSURcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gYWlkTmFtZSBOYW1lIG9yIGFsaWFzIG9mIHRoZSBBSUQgdG8gYmUgdXNlZCBmb3Igc2lnbmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgVVJMIG9mIHRoZSByZXF1ZXN0ZWQgcmVzb3VyY2VcbiAgICAgKiBAcGFyYW0ge1JlcXVlc3RJbml0fSByZXEgUmVxdWVzdCBvcHRpb25zIHNob3VsZCBpbmNsdWRlOlxuICAgICAqICAgICAtIG1ldGhvZDogSFRUUCBtZXRob2RcbiAgICAgKiAgICAgLSBkYXRhIERhdGEgdG8gYmUgc2VudCBpbiB0aGUgYm9keSBvZiB0aGUgcmVzb3VyY2UuXG4gICAgICogICAgICAgICAgICAgIElmIHRoZSBkYXRhIGlzIGEgQ0VTUiBKU09OIHN0cmluZyB0aGVuIHlvdSBzaG91bGQgYWxzbyBzZXQgY29udGVudFR5cGUgdG8gJ2FwcGxpY2F0aW9uL2pzb24rY2VzcidcbiAgICAgKiAgICAgICAgICAgICAgSWYgdGhlIGRhdGEgaXMgYSBGb3JtRGF0YSBvYmplY3QgdGhlbiB5b3Ugc2hvdWxkIG5vdCBzZXQgdGhlIGNvbnRlbnRUeXBlIGFuZCB0aGUgYnJvd3NlciB3aWxsIHNldCBpdCB0byAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgKiAgICAgICAgICAgICAgSWYgdGhlIGRhdGEgaXMgYW4gb2JqZWN0IHRoZW4geW91IHNob3VsZCB1c2UgSlNPTi5zdHJpbmdpZnkgdG8gY29udmVydCBpdCB0byBhIHN0cmluZyBhbmQgc2V0IHRoZSBjb250ZW50VHlwZSB0byAnYXBwbGljYXRpb24vanNvbidcbiAgICAgKiAgICAgLSBjb250ZW50VHlwZSBDb250ZW50IHR5cGUgb2YgdGhlIHJlcXVlc3QuXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVxdWVzdD59IEEgcHJvbWlzZSB0byB0aGUgY3JlYXRlZCBSZXF1ZXN0XG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlU2lnbmVkUmVxdWVzdChhaWROYW1lLCB1cmwsIHJlcSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGhhYiA9IGF3YWl0IHRoaXMuaWRlbnRpZmllcnMoKS5nZXQoYWlkTmFtZSk7XG4gICAgICAgIGNvbnN0IGtlZXBlciA9IHRoaXMubWFuYWdlci5nZXQoaGFiKTtcbiAgICAgICAgY29uc3QgYXV0aGVudGljYXRvciA9IG5ldyBBdXRoZW50aWNhdGVyKGtlZXBlci5zaWduZXJzWzBdLCBrZWVwZXIuc2lnbmVyc1swXS52ZXJmZXIpO1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gbmV3IEhlYWRlcnMocmVxLmhlYWRlcnMpO1xuICAgICAgICBoZWFkZXJzLnNldCgnU2lnbmlmeS1SZXNvdXJjZScsIGhhYlsncHJlZml4J10pO1xuICAgICAgICBoZWFkZXJzLnNldChIRUFERVJfU0lHX1RJTUUsIG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdaJywgJzAwMCswMDowMCcpKTtcbiAgICAgICAgY29uc3Qgc2lnbmVkX2hlYWRlcnMgPSBhdXRoZW50aWNhdG9yLnNpZ24obmV3IEhlYWRlcnMoaGVhZGVycyksIChfYSA9IHJlcS5tZXRob2QpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICdHRVQnLCBuZXcgVVJMKHVybCkucGF0aG5hbWUpO1xuICAgICAgICByZXEuaGVhZGVycyA9IHNpZ25lZF9oZWFkZXJzO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCByZXEpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHByb3ZlIHRoZSBkZWxlZ2F0aW9uIG9mIHRoZSBjbGllbnQgQUlEIHRvIHRoZSBLRVJJQSBhZ2VudFxuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIGFwcHJvdmFsXG4gICAgICovXG4gICAgYXN5bmMgYXBwcm92ZURlbGVnYXRpb24oKSB7XG4gICAgICAgIGNvbnN0IHNpZ3MgPSB0aGlzLmNvbnRyb2xsZXIuYXBwcm92ZURlbGVnYXRpb24odGhpcy5hZ2VudCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBpeG46IHRoaXMuY29udHJvbGxlci5zZXJkZXIuc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoKHRoaXMudXJsICsgJy9hZ2VudC8nICsgdGhpcy5jb250cm9sbGVyLnByZSArICc/dHlwZT1peG4nLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZGF0YSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTYXZlIG9sZCBjbGllbnQgcGFzc2NvZGUgaW4gS0VSSUEgYWdlbnRcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGFzc2NvZGUgUGFzc2NvZGUgdG8gYmUgc2F2ZWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxSZXNwb25zZT59IEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBzYXZlXG4gICAgICovXG4gICAgYXN5bmMgc2F2ZU9sZFBhc3Njb2RlKHBhc3Njb2RlKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgY2FpZCA9IChfYSA9IHRoaXMuY29udHJvbGxlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnByZTtcbiAgICAgICAgY29uc3QgYm9keSA9IHsgc2FsdDogcGFzc2NvZGUgfTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoKHRoaXMudXJsICsgJy9zYWx0LycgKyBjYWlkLCB7XG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBzYXZlZCBwYXNzY29kZSBmcm9tIEtFUklBIGFnZW50XG4gICAgICogQGFzeW5jXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzcG9uc2U+fSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdCBvZiB0aGUgZGVsZXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGVQYXNzY29kZSgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBjb25zdCBjYWlkID0gKF9hID0gdGhpcy5jb250cm9sbGVyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EucHJlO1xuICAgICAgICByZXR1cm4gYXdhaXQgZmV0Y2godGhpcy51cmwgKyAnL3NhbHQvJyArIGNhaWQsIHtcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSb3RhdGUgdGhlIGNsaWVudCBBSURcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmJyYW4gQmFzZTY0IDIxIGNoYXIgc3RyaW5nIHRoYXQgaXMgdXNlZCBhcyBiYXNlIG1hdGVyaWFsIGZvciB0aGUgbmV3IHNlZWRcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGFpZHMgTGlzdCBvZiBtYW5hZ2VkIEFJRHMgdG8gYmUgcm90YXRlZFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlc3BvbnNlPn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIHJvdGF0aW9uXG4gICAgICovXG4gICAgYXN5bmMgcm90YXRlKG5icmFuLCBhaWRzKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmNvbnRyb2xsZXIucm90YXRlKG5icmFuLCBhaWRzKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGZldGNoKHRoaXMudXJsICsgJy9hZ2VudC8nICsgdGhpcy5jb250cm9sbGVyLnByZSwge1xuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGlkZW50aWZpZXJzIHJlc291cmNlXG4gICAgICogQHJldHVybnMge0lkZW50aWZpZXJ9XG4gICAgICovXG4gICAgaWRlbnRpZmllcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pZGVudGlmaWVycztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IE9PQklzIHJlc291cmNlXG4gICAgICogQHJldHVybnMge09vYmlzfVxuICAgICAqL1xuICAgIG9vYmlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb29iaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBvcGVyYXRpb25zIHJlc291cmNlXG4gICAgICogQHJldHVybnMge09wZXJhdGlvbnN9XG4gICAgICovXG4gICAgb3BlcmF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX29wZXJhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBrZXlFdmVudHMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7S2V5RXZlbnRzfVxuICAgICAqL1xuICAgIGtleUV2ZW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleUV2ZW50cztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGtleVN0YXRlcyByZXNvdXJjZVxuICAgICAqIEByZXR1cm5zIHtLZXlTdGF0ZXN9XG4gICAgICovXG4gICAga2V5U3RhdGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5U3RhdGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgY3JlZGVudGlhbHMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7Q3JlZGVudGlhbHN9XG4gICAgICovXG4gICAgY3JlZGVudGlhbHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVkZW50aWFscztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IElQRVggcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7SXBleH1cbiAgICAgKi9cbiAgICBpcGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXBleDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHJlZ2lzdHJpZXMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7UmVnaXN0cmllc31cbiAgICAgKi9cbiAgICByZWdpc3RyaWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVnaXN0cmllcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHNjaGVtYXMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7U2NoZW1hc31cbiAgICAgKi9cbiAgICBzY2hlbWFzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2NoZW1hcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGNoYWxsZW5nZXMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7Q2hhbGxlbmdlc31cbiAgICAgKi9cbiAgICBjaGFsbGVuZ2VzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2hhbGxlbmdlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGNvbnRhY3RzIHJlc291cmNlXG4gICAgICogQHJldHVybnMge0NvbnRhY3RzfVxuICAgICAqL1xuICAgIGNvbnRhY3RzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29udGFjdHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBub3RpZmljYXRpb25zIHJlc291cmNlXG4gICAgICogQHJldHVybnMge05vdGlmaWNhdGlvbnN9XG4gICAgICovXG4gICAgbm90aWZpY2F0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX25vdGlmaWNhdGlvbnM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBlc2Nyb3dzIHJlc291cmNlXG4gICAgICogQHJldHVybnMge0VzY3Jvd3N9XG4gICAgICovXG4gICAgZXNjcm93cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VzY3Jvd3M7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBncm91cHMgcmVzb3VyY2VcbiAgICAgKiBAcmV0dXJucyB7R3JvdXBzfVxuICAgICAqL1xuICAgIGdyb3VwcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dyb3VwcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGV4Y2hhbmdlIHJlc291cmNlXG4gICAgICogQHJldHVybnMge0V4Y2hhbmdlc31cbiAgICAgKi9cbiAgICBleGNoYW5nZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leGNoYW5nZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBkZWxlZ2F0aW9ucyByZXNvdXJjZVxuICAgICAqIEByZXR1cm5zIHtEZWxlZ2F0aW9uc31cbiAgICAgKi9cbiAgICBkZWxlZ2F0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlbGVnYXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYWdlbnQgY29uZmlnIHJlc291cmNlXG4gICAgICogQHJldHVybnMge0NvbmZpZ31cbiAgICAgKi9cbiAgICBjb25maWcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/clienting.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/contacting.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/contacting.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Challenges: () => (/* binding */ Challenges),\n/* harmony export */   Contacts: () => (/* binding */ Contacts)\n/* harmony export */ });\n/**\n * Contacts\n */\nclass Contacts {\n    /**\n     * Contacts\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List contacts\n     * @async\n     * @param {string} [group] Optional group name to filter contacts\n     * @param {string} [filterField] Optional field name to filter contacts\n     * @param {string} [filterValue] Optional field value to filter contacts\n     * @returns {Promise<any>} A promise to the list of contacts\n     */\n    async list(group, filterField, filterValue) {\n        const params = new URLSearchParams();\n        if (group !== undefined) {\n            params.append('group', group);\n        }\n        if (filterField !== undefined && filterValue !== undefined) {\n            params.append('filter_field', filterField);\n            params.append('filter_value', filterValue);\n        }\n        const path = `/contacts` + '?' + params.toString();\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Get a contact\n     * @async\n     * @param {string} pre Prefix of the contact\n     * @returns {Promise<any>} A promise to the contact\n     */\n    async get(pre) {\n        const path = `/contacts/` + pre;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Add a contact\n     * @async\n     * @param pre Prefix of the contact\n     * @param info Information about the contact\n     * @returns A promise to the result of the addition\n     */\n    async add(pre, info) {\n        const path = `/contacts/` + pre;\n        const method = 'POST';\n        const res = await this.client.fetch(path, method, info);\n        return await res.json();\n    }\n    /**\n     * Delete a contact\n     * @async\n     * @param {string} pre Prefix of the contact\n     * @returns {Promise<void>}\n     */\n    async delete(pre) {\n        const path = `/contacts/` + pre;\n        const method = 'DELETE';\n        await this.client.fetch(path, method, undefined);\n    }\n    /**\n     * Update a contact\n     * @async\n     * @param {string} pre Prefix of the contact\n     * @param {any} info Updated information about the contact\n     * @returns {Promise<any>} A promise to the result of the update\n     */\n    async update(pre, info) {\n        const path = `/contacts/` + pre;\n        const method = 'PUT';\n        const res = await this.client.fetch(path, method, info);\n        return await res.json();\n    }\n}\n/**\n * Challenges\n */\nclass Challenges {\n    /**\n     * Challenges\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Generate a random challenge word list based on BIP39\n     * @async\n     * @param {number} strength Integer representing the strength of the challenge. Typically 128 or 256\n     * @returns {Promise<any>} A promise to the list of random words\n     */\n    async generate(strength = 128) {\n        const path = `/challenges?strength=${strength.toString()}`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Respond to a challenge by signing a message with the list of words\n     * @async\n     * @param name Name or alias of the identifier\n     * @param recipient Prefix of the recipient of the response\n     * @param words List of words to embed in the signed response\n     * @returns A promise to the result of the response\n     */\n    async respond(name, recipient, words) {\n        const hab = await this.client.identifiers().get(name);\n        const exchanges = this.client.exchanges();\n        const resp = await exchanges.send(name, 'challenge', hab, '/challenge/response', { words: words }, {}, [recipient]);\n        return resp;\n    }\n    /**\n     * Ask Agent to verify a given sender signed the provided words\n     * @param source Prefix of the identifier that was challenged\n     * @param words List of challenge words to check for\n     * @returns A promise to the long running operation\n     */\n    async verify(source, words) {\n        const path = `/challenges_verify/${source}`;\n        const method = 'POST';\n        const data = {\n            words: words,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Mark challenge response as signed and accepted\n     * @param source Prefix of the identifier that was challenged\n     * @param said qb64 AID of exn message representing the signed response\n     * @returns {Promise<Response>} A promise to the result\n     */\n    async responded(source, said) {\n        const path = `/challenges_verify/${source}`;\n        const method = 'PUT';\n        const data = {\n            said: said,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return res;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NvbnRhY3RpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQSw2Q0FBNkMsb0JBQW9CO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJGQUEyRixjQUFjLElBQUk7QUFDN0c7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLE9BQU87QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBLDJDQUEyQyxPQUFPO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NvbnRhY3RpbmcuanM/Y2JkOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbnRhY3RzXG4gKi9cbmV4cG9ydCBjbGFzcyBDb250YWN0cyB7XG4gICAgLyoqXG4gICAgICogQ29udGFjdHNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBjb250YWN0c1xuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbZ3JvdXBdIE9wdGlvbmFsIGdyb3VwIG5hbWUgdG8gZmlsdGVyIGNvbnRhY3RzXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtmaWx0ZXJGaWVsZF0gT3B0aW9uYWwgZmllbGQgbmFtZSB0byBmaWx0ZXIgY29udGFjdHNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2ZpbHRlclZhbHVlXSBPcHRpb25hbCBmaWVsZCB2YWx1ZSB0byBmaWx0ZXIgY29udGFjdHNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIGxpc3Qgb2YgY29udGFjdHNcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0KGdyb3VwLCBmaWx0ZXJGaWVsZCwgZmlsdGVyVmFsdWUpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBpZiAoZ3JvdXAgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZ3JvdXAnLCBncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbHRlckZpZWxkICE9PSB1bmRlZmluZWQgJiYgZmlsdGVyVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZmlsdGVyX2ZpZWxkJywgZmlsdGVyRmllbGQpO1xuICAgICAgICAgICAgcGFyYW1zLmFwcGVuZCgnZmlsdGVyX3ZhbHVlJywgZmlsdGVyVmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2NvbnRhY3RzYCArICc/JyArIHBhcmFtcy50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGNvbnRhY3RcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcHJlIFByZWZpeCBvZiB0aGUgY29udGFjdFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUgY29udGFjdFxuICAgICAqL1xuICAgIGFzeW5jIGdldChwcmUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvY29udGFjdHMvYCArIHByZTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBjb250YWN0XG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHByZSBQcmVmaXggb2YgdGhlIGNvbnRhY3RcbiAgICAgKiBAcGFyYW0gaW5mbyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgY29udGFjdFxuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0byB0aGUgcmVzdWx0IG9mIHRoZSBhZGRpdGlvblxuICAgICAqL1xuICAgIGFzeW5jIGFkZChwcmUsIGluZm8pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvY29udGFjdHMvYCArIHByZTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIGluZm8pO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgY29udGFjdFxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwcmUgUHJlZml4IG9mIHRoZSBjb250YWN0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8dm9pZD59XG4gICAgICovXG4gICAgYXN5bmMgZGVsZXRlKHByZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9jb250YWN0cy9gICsgcHJlO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnREVMRVRFJztcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSBjb250YWN0XG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZSBQcmVmaXggb2YgdGhlIGNvbnRhY3RcbiAgICAgKiBAcGFyYW0ge2FueX0gaW5mbyBVcGRhdGVkIGluZm9ybWF0aW9uIGFib3V0IHRoZSBjb250YWN0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIHVwZGF0ZVxuICAgICAqL1xuICAgIGFzeW5jIHVwZGF0ZShwcmUsIGluZm8pIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvY29udGFjdHMvYCArIHByZTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BVVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgaW5mbyk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbi8qKlxuICogQ2hhbGxlbmdlc1xuICovXG5leHBvcnQgY2xhc3MgQ2hhbGxlbmdlcyB7XG4gICAgLyoqXG4gICAgICogQ2hhbGxlbmdlc1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZSBhIHJhbmRvbSBjaGFsbGVuZ2Ugd29yZCBsaXN0IGJhc2VkIG9uIEJJUDM5XG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoIEludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBzdHJlbmd0aCBvZiB0aGUgY2hhbGxlbmdlLiBUeXBpY2FsbHkgMTI4IG9yIDI1NlxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiByYW5kb20gd29yZHNcbiAgICAgKi9cbiAgICBhc3luYyBnZW5lcmF0ZShzdHJlbmd0aCA9IDEyOCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9jaGFsbGVuZ2VzP3N0cmVuZ3RoPSR7c3RyZW5ndGgudG9TdHJpbmcoKX1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3BvbmQgdG8gYSBjaGFsbGVuZ2UgYnkgc2lnbmluZyBhIG1lc3NhZ2Ugd2l0aCB0aGUgbGlzdCBvZiB3b3Jkc1xuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSBuYW1lIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gcmVjaXBpZW50IFByZWZpeCBvZiB0aGUgcmVjaXBpZW50IG9mIHRoZSByZXNwb25zZVxuICAgICAqIEBwYXJhbSB3b3JkcyBMaXN0IG9mIHdvcmRzIHRvIGVtYmVkIGluIHRoZSBzaWduZWQgcmVzcG9uc2VcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdG8gdGhlIHJlc3VsdCBvZiB0aGUgcmVzcG9uc2VcbiAgICAgKi9cbiAgICBhc3luYyByZXNwb25kKG5hbWUsIHJlY2lwaWVudCwgd29yZHMpIHtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5jbGllbnQuaWRlbnRpZmllcnMoKS5nZXQobmFtZSk7XG4gICAgICAgIGNvbnN0IGV4Y2hhbmdlcyA9IHRoaXMuY2xpZW50LmV4Y2hhbmdlcygpO1xuICAgICAgICBjb25zdCByZXNwID0gYXdhaXQgZXhjaGFuZ2VzLnNlbmQobmFtZSwgJ2NoYWxsZW5nZScsIGhhYiwgJy9jaGFsbGVuZ2UvcmVzcG9uc2UnLCB7IHdvcmRzOiB3b3JkcyB9LCB7fSwgW3JlY2lwaWVudF0pO1xuICAgICAgICByZXR1cm4gcmVzcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXNrIEFnZW50IHRvIHZlcmlmeSBhIGdpdmVuIHNlbmRlciBzaWduZWQgdGhlIHByb3ZpZGVkIHdvcmRzXG4gICAgICogQHBhcmFtIHNvdXJjZSBQcmVmaXggb2YgdGhlIGlkZW50aWZpZXIgdGhhdCB3YXMgY2hhbGxlbmdlZFxuICAgICAqIEBwYXJhbSB3b3JkcyBMaXN0IG9mIGNoYWxsZW5nZSB3b3JkcyB0byBjaGVjayBmb3JcbiAgICAgKiBAcmV0dXJucyBBIHByb21pc2UgdG8gdGhlIGxvbmcgcnVubmluZyBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyB2ZXJpZnkoc291cmNlLCB3b3Jkcykge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9jaGFsbGVuZ2VzX3ZlcmlmeS8ke3NvdXJjZX1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICB3b3Jkczogd29yZHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNYXJrIGNoYWxsZW5nZSByZXNwb25zZSBhcyBzaWduZWQgYW5kIGFjY2VwdGVkXG4gICAgICogQHBhcmFtIHNvdXJjZSBQcmVmaXggb2YgdGhlIGlkZW50aWZpZXIgdGhhdCB3YXMgY2hhbGxlbmdlZFxuICAgICAqIEBwYXJhbSBzYWlkIHFiNjQgQUlEIG9mIGV4biBtZXNzYWdlIHJlcHJlc2VudGluZyB0aGUgc2lnbmVkIHJlc3BvbnNlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmVzcG9uc2U+fSBBIHByb21pc2UgdG8gdGhlIHJlc3VsdFxuICAgICAqL1xuICAgIGFzeW5jIHJlc3BvbmRlZChzb3VyY2UsIHNhaWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvY2hhbGxlbmdlc192ZXJpZnkvJHtzb3VyY2V9YDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BVVCc7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBzYWlkOiBzYWlkLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIGRhdGEpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/contacting.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/controller.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/controller.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Agent: () => (/* binding */ Agent),\n/* harmony export */   Controller: () => (/* binding */ Controller)\n/* harmony export */ });\n/* harmony import */ var _core_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n/* harmony import */ var _core_salter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _core_matter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_diger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/diger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\");\n/* harmony import */ var _core_eventing_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n/* harmony import */ var _core_serder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _core_tholder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/tholder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js\");\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _core_verfer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _core_encrypter_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../core/encrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js\");\n/* harmony import */ var _core_decrypter_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../core/decrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\");\n/* harmony import */ var _core_cipher_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../core/cipher.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\");\n/* harmony import */ var _core_seqner_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../core/seqner.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js\");\n/* harmony import */ var _core_number_js__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../core/number.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/**\n * Agent is a custodial entity that can be used in conjuntion with a local Client to establish the\n * KERI \"signing at the edge\" semantic\n */\nclass Agent {\n    constructor(agent) {\n        this.pre = '';\n        this.anchor = '';\n        this.verfer = null;\n        this.state = null;\n        this.sn = 0;\n        this.said = '';\n        this.parse(agent);\n    }\n    parse(agent) {\n        const [state, verfer] = this.event(agent);\n        this.sn = new _core_number_js__WEBPACK_IMPORTED_MODULE_13__.CesrNumber({}, undefined, state['s']).num;\n        this.said = state['d'];\n        if (state['et'] !== _core_core_js__WEBPACK_IMPORTED_MODULE_7__.Ilks.dip) {\n            throw new Error(`invalid inception event type ${state['et']}`);\n        }\n        this.pre = state['i'];\n        if (!state['di']) {\n            throw new Error('no anchor to controller AID');\n        }\n        this.anchor = state['di'];\n        this.verfer = verfer;\n        this.state = state;\n    }\n    event(evt) {\n        if (evt['k'].length !== 1) {\n            throw new Error(`agent inception event can only have one key`);\n        }\n        const verfer = new _core_verfer_js__WEBPACK_IMPORTED_MODULE_8__.Verfer({ qb64: evt['k'][0] });\n        if (evt['n'].length !== 1) {\n            throw new Error(`agent inception event can only have one next key`);\n        }\n        const diger = new _core_diger_js__WEBPACK_IMPORTED_MODULE_3__.Diger({ qb64: evt['n'][0] });\n        const tholder = new _core_tholder_js__WEBPACK_IMPORTED_MODULE_6__.Tholder({ sith: evt['kt'] });\n        if (tholder.num !== 1) {\n            throw new Error(`invalid threshold ${tholder.num}, must be 1`);\n        }\n        const ntholder = new _core_tholder_js__WEBPACK_IMPORTED_MODULE_6__.Tholder({ sith: evt['nt'] });\n        if (ntholder.num !== 1) {\n            throw new Error(`invalid next threshold ${ntholder.num}, must be 1`);\n        }\n        return [evt, verfer, diger];\n    }\n}\n/**\n * Controller is responsible for managing signing keys for the client and agent.  The client\n * signing key represents the Account for the client on the agent\n */\nclass Controller {\n    /**\n     * Creates a Signify Controller starting at key index 0 that generates keys in\n     * memory based on the provided seed, or bran, the tier, and the rotation index.\n     *\n     * The rotation index is used as follows:\n     *\n     * @param bran\n     * @param tier\n     * @param ridx\n     * @param state\n     */\n    constructor(bran, tier, ridx = 0, state = null) {\n        this.bran = _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Salt_128 + 'A' + bran.substring(0, 21); // qb64 salt for seed\n        this.stem = 'signify:controller';\n        this.tier = tier;\n        this.ridx = ridx;\n        const codes = undefined; // Defines the types of seeds that the SaltyCreator will create. Defaults to undefined.\n        const keyCount = 1; // The number of keys to create. Defaults to 1.\n        const transferable = true; // Whether the keys are transferable. Defaults to true.\n        const code = _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed; // The type  cryptographic seed to create by default when not overiddeen by \"codes\".\n        const pidx = 0; // The index of this identifier prefix of all managed identifiers created for this SignifyClient Controller. Defaults to 0.\n        const kidx = 0; // The overall starting key index for the first key this rotation set of keys. This is not a local index to this set of keys but an index in the overall set of keys for all keys in this sequence.\n        // Defaults to 0. Multiply rotation index (ridx) times key count to get the overall key index.\n        this.salter = new _core_salter_js__WEBPACK_IMPORTED_MODULE_1__.Salter({ qb64: this.bran, tier: this.tier });\n        const creator = new _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(this.salter.qb64, this.tier, this.stem);\n        // Creates the first key pair used to sign the inception event.\n        // noinspection UnnecessaryLocalVariableJS\n        const initialKeyIndex = ridx; // will be zero for inception\n        this.signer = creator\n            .create(codes, keyCount, code, transferable, pidx, initialKeyIndex, kidx)\n            .signers.pop(); // assumes only one key pair is created because keyCount is 1\n        // Creates the second key pair which a digest of the public key is committed to in the inception event.\n        const nextKeyIndex = ridx + 1;\n        this.nsigner = creator\n            .create(codes, keyCount, code, transferable, pidx, nextKeyIndex, kidx)\n            .signers.pop(); // assumes only one key pair is created because keyCount is 1\n        this.keys = [this.signer.verfer.qb64];\n        this.ndigs = [\n            new _core_diger_js__WEBPACK_IMPORTED_MODULE_3__.Diger({ code: _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Blake3_256 }, this.nsigner.verfer.qb64b)\n                .qb64,\n        ];\n        if (state == null || state['ee']['s'] == 0) {\n            this.serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_4__.incept)({\n                keys: this.keys,\n                isith: '1',\n                nsith: '1',\n                ndigs: this.ndigs,\n                code: _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Blake3_256,\n                toad: '0',\n                wits: [],\n            });\n        }\n        else {\n            this.serder = new _core_serder_js__WEBPACK_IMPORTED_MODULE_5__.Serder(state['ee']);\n        }\n    }\n    approveDelegation(_agent) {\n        const seqner = new _core_seqner_js__WEBPACK_IMPORTED_MODULE_12__.Seqner({ sn: _agent.sn });\n        const anchor = { i: _agent.pre, s: seqner.snh, d: _agent.said };\n        const sn = new _core_number_js__WEBPACK_IMPORTED_MODULE_13__.CesrNumber({}, undefined, this.serder.sad['s']).num + 1;\n        this.serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_4__.interact)({\n            pre: this.serder.pre,\n            dig: this.serder.sad['d'],\n            sn: sn,\n            data: [anchor],\n            version: _core_core_js__WEBPACK_IMPORTED_MODULE_7__.Vrsn_1_0,\n            kind: _core_core_js__WEBPACK_IMPORTED_MODULE_7__.Serials.JSON,\n        });\n        return [this.signer.sign(this.serder.raw, 0).qb64];\n    }\n    get pre() {\n        return this.serder.pre;\n    }\n    get event() {\n        const siger = this.signer.sign(this.serder.raw, 0);\n        return [this.serder, siger];\n    }\n    get verfers() {\n        return this.signer.verfer();\n    }\n    derive(state) {\n        if (state != undefined && state['ee']['s'] === '0') {\n            return (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_4__.incept)({\n                keys: this.keys,\n                isith: '1',\n                nsith: '1',\n                ndigs: this.ndigs,\n                code: _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Blake3_256,\n                toad: '0',\n                wits: [],\n            });\n        }\n        else {\n            return new _core_serder_js__WEBPACK_IMPORTED_MODULE_5__.Serder({ sad: state.controller['ee'] });\n        }\n    }\n    rotate(bran, aids) {\n        const nbran = _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Salt_128 + 'A' + bran.substring(0, 21); // qb64 salt for seed\n        const nsalter = new _core_salter_js__WEBPACK_IMPORTED_MODULE_1__.Salter({ qb64: nbran, tier: this.tier });\n        const nsigner = this.salter.signer(undefined, false);\n        const creator = new _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(this.salter.qb64, this.tier, this.stem);\n        const signer = creator\n            .create(undefined, 1, _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed, true, 0, this.ridx + 1, 0, false)\n            .signers.pop();\n        const ncreator = new _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(nsalter.qb64, this.tier, this.stem);\n        this.signer = ncreator\n            .create(undefined, 1, _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed, true, 0, this.ridx, 0, false)\n            .signers.pop();\n        this.nsigner = ncreator\n            .create(undefined, 1, _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed, true, 0, this.ridx + 1, 0, false)\n            .signers.pop();\n        this.keys = [this.signer.verfer.qb64, signer === null || signer === void 0 ? void 0 : signer.verfer.qb64];\n        this.ndigs = [new _core_diger_js__WEBPACK_IMPORTED_MODULE_3__.Diger({}, this.nsigner.verfer.qb64b).qb64];\n        const rot = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_4__.rotate)({\n            pre: this.pre,\n            keys: this.keys,\n            dig: this.serder.sad['d'],\n            isith: ['1', '0'],\n            nsith: '1',\n            ndigs: this.ndigs,\n        });\n        const sigs = [\n            signer === null || signer === void 0 ? void 0 : signer.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(rot.raw), 1, false, 0).qb64,\n            this.signer.sign(rot.raw, 0).qb64,\n        ];\n        const encrypter = new _core_encrypter_js__WEBPACK_IMPORTED_MODULE_9__.Encrypter({}, (0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(nsigner.verfer.qb64));\n        const decrypter = new _core_decrypter_js__WEBPACK_IMPORTED_MODULE_10__.Decrypter({}, nsigner.qb64b);\n        const sxlt = encrypter.encrypt((0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(this.bran)).qb64;\n        const keys = {};\n        for (const aid of aids) {\n            const pre = aid['prefix'];\n            if ('salty' in aid) {\n                const salty = aid['salty'];\n                const cipher = new _core_cipher_js__WEBPACK_IMPORTED_MODULE_11__.Cipher({ qb64: salty['sxlt'] });\n                const dnxt = decrypter.decrypt(null, cipher).qb64;\n                // Now we have the AID salt, use it to verify against the current public keys\n                const acreator = new _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(dnxt, salty['tier'], salty['stem']);\n                const signers = acreator.create(salty['icodes'], undefined, _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed, salty['transferable'], salty['pidx'], 0, salty['kidx'], false);\n                const _signers = [];\n                for (const signer of signers.signers) {\n                    _signers.push(signer.verfer.qb64);\n                }\n                const pubs = aid['state']['k'];\n                if (pubs.join(',') != _signers.join(',')) {\n                    throw new Error('Invalid Salty AID');\n                }\n                const asxlt = encrypter.encrypt((0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(dnxt)).qb64;\n                keys[pre] = {\n                    sxlt: asxlt,\n                };\n            }\n            else if ('randy' in aid) {\n                const randy = aid['randy'];\n                const prxs = randy['prxs'];\n                const nxts = randy['nxts'];\n                const nprxs = [];\n                const signers = [];\n                for (const prx of prxs) {\n                    const cipher = new _core_cipher_js__WEBPACK_IMPORTED_MODULE_11__.Cipher({ qb64: prx });\n                    const dsigner = decrypter.decrypt(null, cipher, true);\n                    signers.push(dsigner);\n                    nprxs.push(encrypter.encrypt((0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(dsigner.qb64)).qb64);\n                }\n                const pubs = aid['state']['k'];\n                const _signers = [];\n                for (const signer of signers) {\n                    _signers.push(signer.verfer.qb64);\n                }\n                if (pubs.join(',') != _signers.join(',')) {\n                    throw new Error(`unable to rotate, validation of encrypted public keys ${pubs} failed`);\n                }\n                const nnxts = [];\n                for (const nxt of nxts) {\n                    nnxts.push(this.recrypt(nxt, decrypter, encrypter));\n                }\n                keys[pre] = {\n                    prxs: nprxs,\n                    nxts: nnxts,\n                };\n            }\n            else {\n                throw new Error('invalid aid type ');\n            }\n        }\n        const data = {\n            rot: rot.sad,\n            sigs: sigs,\n            sxlt: sxlt,\n            keys: keys,\n        };\n        return data;\n    }\n    recrypt(enc, decrypter, encrypter) {\n        const cipher = new _core_cipher_js__WEBPACK_IMPORTED_MODULE_11__.Cipher({ qb64: enc });\n        const dnxt = decrypter.decrypt(null, cipher).qb64;\n        return encrypter.encrypt((0,_core_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(dnxt)).qb64;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NvbnRyb2xsZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFrRDtBQUNQO0FBQ0E7QUFDRjtBQUNzQjtBQUNwQjtBQUNFO0FBQ2dCO0FBQ2xCO0FBQ007QUFDQTtBQUNOO0FBQ0E7QUFDSTtBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix3REFBVSxHQUFHO0FBQ25DO0FBQ0EsNEJBQTRCLCtDQUFJO0FBQ2hDLDREQUE0RCxZQUFZO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLG1EQUFNLEdBQUcsbUJBQW1CO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixpREFBSyxHQUFHLG1CQUFtQjtBQUNyRCw0QkFBNEIscURBQU8sR0FBRyxpQkFBaUI7QUFDdkQ7QUFDQSxpREFBaUQsWUFBWTtBQUM3RDtBQUNBLDZCQUE2QixxREFBTyxHQUFHLGlCQUFpQjtBQUN4RDtBQUNBLHNEQUFzRCxhQUFhO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtREFBTSx5Q0FBeUM7QUFDbkU7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDRCQUE0QjtBQUM1QixtQ0FBbUM7QUFDbkMscUJBQXFCLG1EQUFNLGVBQWU7QUFDMUMsd0JBQXdCO0FBQ3hCLHdCQUF3QjtBQUN4QjtBQUNBLDBCQUEwQixtREFBTSxHQUFHLGtDQUFrQztBQUNyRSw0QkFBNEIsMERBQVk7QUFDeEM7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSxnQkFBZ0IsaURBQUssR0FBRyxNQUFNLG1EQUFNLGFBQWE7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLHlEQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFNO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLDhCQUE4QixtREFBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0RBQU0sR0FBRyxlQUFlO0FBQ25ELHlCQUF5QjtBQUN6Qix1QkFBdUIsd0RBQVUsR0FBRztBQUNwQyxzQkFBc0IsMkRBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsbURBQVE7QUFDN0Isa0JBQWtCLGtEQUFPO0FBQ3pCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLHlEQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1EQUFNO0FBQzVCO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLHVCQUF1QixtREFBTSxHQUFHLDZCQUE2QjtBQUM3RDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQU0seUNBQXlDO0FBQ3JFLDRCQUE0QixtREFBTSxHQUFHLDhCQUE4QjtBQUNuRTtBQUNBLDRCQUE0QiwwREFBWTtBQUN4QztBQUNBLGtDQUFrQyxtREFBTTtBQUN4QztBQUNBLDZCQUE2QiwwREFBWTtBQUN6QztBQUNBLGtDQUFrQyxtREFBTTtBQUN4QztBQUNBO0FBQ0Esa0NBQWtDLG1EQUFNO0FBQ3hDO0FBQ0E7QUFDQSwwQkFBMEIsaURBQUssR0FBRztBQUNsQyxvQkFBb0IseURBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0Esd0VBQXdFLGdEQUFDO0FBQ3pFO0FBQ0E7QUFDQSw4QkFBOEIseURBQVMsR0FBRyxFQUFFLGdEQUFDO0FBQzdDLDhCQUE4QiwwREFBUyxHQUFHO0FBQzFDLHVDQUF1QyxnREFBQztBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLG9EQUFNLEdBQUcscUJBQXFCO0FBQ2pFO0FBQ0E7QUFDQSxxQ0FBcUMsMERBQVk7QUFDakQsNEVBQTRFLG1EQUFNO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsZ0RBQUM7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxvREFBTSxHQUFHLFdBQVc7QUFDM0Q7QUFDQTtBQUNBLGlEQUFpRCxnREFBQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZGQUE2RixNQUFNO0FBQ25HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsb0RBQU0sR0FBRyxXQUFXO0FBQy9DO0FBQ0EsaUNBQWlDLGdEQUFDO0FBQ2xDO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NvbnRyb2xsZXIuanM/Yjc3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTYWx0eUNyZWF0b3IgfSBmcm9tIFwiLi4vY29yZS9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBTYWx0ZXIgfSBmcm9tIFwiLi4vY29yZS9zYWx0ZXIuanNcIjtcbmltcG9ydCB7IE10ckRleCB9IGZyb20gXCIuLi9jb3JlL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgRGlnZXIgfSBmcm9tIFwiLi4vY29yZS9kaWdlci5qc1wiO1xuaW1wb3J0IHsgaW5jZXB0LCByb3RhdGUsIGludGVyYWN0IH0gZnJvbSBcIi4uL2NvcmUvZXZlbnRpbmcuanNcIjtcbmltcG9ydCB7IFNlcmRlciB9IGZyb20gXCIuLi9jb3JlL3NlcmRlci5qc1wiO1xuaW1wb3J0IHsgVGhvbGRlciB9IGZyb20gXCIuLi9jb3JlL3Rob2xkZXIuanNcIjtcbmltcG9ydCB7IElsa3MsIGIsIFNlcmlhbHMsIFZyc25fMV8wIH0gZnJvbSBcIi4uL2NvcmUvY29yZS5qc1wiO1xuaW1wb3J0IHsgVmVyZmVyIH0gZnJvbSBcIi4uL2NvcmUvdmVyZmVyLmpzXCI7XG5pbXBvcnQgeyBFbmNyeXB0ZXIgfSBmcm9tIFwiLi4vY29yZS9lbmNyeXB0ZXIuanNcIjtcbmltcG9ydCB7IERlY3J5cHRlciB9IGZyb20gXCIuLi9jb3JlL2RlY3J5cHRlci5qc1wiO1xuaW1wb3J0IHsgQ2lwaGVyIH0gZnJvbSBcIi4uL2NvcmUvY2lwaGVyLmpzXCI7XG5pbXBvcnQgeyBTZXFuZXIgfSBmcm9tIFwiLi4vY29yZS9zZXFuZXIuanNcIjtcbmltcG9ydCB7IENlc3JOdW1iZXIgfSBmcm9tIFwiLi4vY29yZS9udW1iZXIuanNcIjtcbi8qKlxuICogQWdlbnQgaXMgYSBjdXN0b2RpYWwgZW50aXR5IHRoYXQgY2FuIGJlIHVzZWQgaW4gY29uanVudGlvbiB3aXRoIGEgbG9jYWwgQ2xpZW50IHRvIGVzdGFibGlzaCB0aGVcbiAqIEtFUkkgXCJzaWduaW5nIGF0IHRoZSBlZGdlXCIgc2VtYW50aWNcbiAqL1xuZXhwb3J0IGNsYXNzIEFnZW50IHtcbiAgICBjb25zdHJ1Y3RvcihhZ2VudCkge1xuICAgICAgICB0aGlzLnByZSA9ICcnO1xuICAgICAgICB0aGlzLmFuY2hvciA9ICcnO1xuICAgICAgICB0aGlzLnZlcmZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnNuID0gMDtcbiAgICAgICAgdGhpcy5zYWlkID0gJyc7XG4gICAgICAgIHRoaXMucGFyc2UoYWdlbnQpO1xuICAgIH1cbiAgICBwYXJzZShhZ2VudCkge1xuICAgICAgICBjb25zdCBbc3RhdGUsIHZlcmZlcl0gPSB0aGlzLmV2ZW50KGFnZW50KTtcbiAgICAgICAgdGhpcy5zbiA9IG5ldyBDZXNyTnVtYmVyKHt9LCB1bmRlZmluZWQsIHN0YXRlWydzJ10pLm51bTtcbiAgICAgICAgdGhpcy5zYWlkID0gc3RhdGVbJ2QnXTtcbiAgICAgICAgaWYgKHN0YXRlWydldCddICE9PSBJbGtzLmRpcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBpbnZhbGlkIGluY2VwdGlvbiBldmVudCB0eXBlICR7c3RhdGVbJ2V0J119YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcmUgPSBzdGF0ZVsnaSddO1xuICAgICAgICBpZiAoIXN0YXRlWydkaSddKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGFuY2hvciB0byBjb250cm9sbGVyIEFJRCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5jaG9yID0gc3RhdGVbJ2RpJ107XG4gICAgICAgIHRoaXMudmVyZmVyID0gdmVyZmVyO1xuICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgfVxuICAgIGV2ZW50KGV2dCkge1xuICAgICAgICBpZiAoZXZ0WydrJ10ubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGFnZW50IGluY2VwdGlvbiBldmVudCBjYW4gb25seSBoYXZlIG9uZSBrZXlgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJmZXIgPSBuZXcgVmVyZmVyKHsgcWI2NDogZXZ0WydrJ11bMF0gfSk7XG4gICAgICAgIGlmIChldnRbJ24nXS5sZW5ndGggIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWdlbnQgaW5jZXB0aW9uIGV2ZW50IGNhbiBvbmx5IGhhdmUgb25lIG5leHQga2V5YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZGlnZXIgPSBuZXcgRGlnZXIoeyBxYjY0OiBldnRbJ24nXVswXSB9KTtcbiAgICAgICAgY29uc3QgdGhvbGRlciA9IG5ldyBUaG9sZGVyKHsgc2l0aDogZXZ0WydrdCddIH0pO1xuICAgICAgICBpZiAodGhvbGRlci5udW0gIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCB0aHJlc2hvbGQgJHt0aG9sZGVyLm51bX0sIG11c3QgYmUgMWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG50aG9sZGVyID0gbmV3IFRob2xkZXIoeyBzaXRoOiBldnRbJ250J10gfSk7XG4gICAgICAgIGlmIChudGhvbGRlci5udW0gIT09IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgaW52YWxpZCBuZXh0IHRocmVzaG9sZCAke250aG9sZGVyLm51bX0sIG11c3QgYmUgMWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbZXZ0LCB2ZXJmZXIsIGRpZ2VyXTtcbiAgICB9XG59XG4vKipcbiAqIENvbnRyb2xsZXIgaXMgcmVzcG9uc2libGUgZm9yIG1hbmFnaW5nIHNpZ25pbmcga2V5cyBmb3IgdGhlIGNsaWVudCBhbmQgYWdlbnQuICBUaGUgY2xpZW50XG4gKiBzaWduaW5nIGtleSByZXByZXNlbnRzIHRoZSBBY2NvdW50IGZvciB0aGUgY2xpZW50IG9uIHRoZSBhZ2VudFxuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbGxlciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIFNpZ25pZnkgQ29udHJvbGxlciBzdGFydGluZyBhdCBrZXkgaW5kZXggMCB0aGF0IGdlbmVyYXRlcyBrZXlzIGluXG4gICAgICogbWVtb3J5IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBzZWVkLCBvciBicmFuLCB0aGUgdGllciwgYW5kIHRoZSByb3RhdGlvbiBpbmRleC5cbiAgICAgKlxuICAgICAqIFRoZSByb3RhdGlvbiBpbmRleCBpcyB1c2VkIGFzIGZvbGxvd3M6XG4gICAgICpcbiAgICAgKiBAcGFyYW0gYnJhblxuICAgICAqIEBwYXJhbSB0aWVyXG4gICAgICogQHBhcmFtIHJpZHhcbiAgICAgKiBAcGFyYW0gc3RhdGVcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihicmFuLCB0aWVyLCByaWR4ID0gMCwgc3RhdGUgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuYnJhbiA9IE10ckRleC5TYWx0XzEyOCArICdBJyArIGJyYW4uc3Vic3RyaW5nKDAsIDIxKTsgLy8gcWI2NCBzYWx0IGZvciBzZWVkXG4gICAgICAgIHRoaXMuc3RlbSA9ICdzaWduaWZ5OmNvbnRyb2xsZXInO1xuICAgICAgICB0aGlzLnRpZXIgPSB0aWVyO1xuICAgICAgICB0aGlzLnJpZHggPSByaWR4O1xuICAgICAgICBjb25zdCBjb2RlcyA9IHVuZGVmaW5lZDsgLy8gRGVmaW5lcyB0aGUgdHlwZXMgb2Ygc2VlZHMgdGhhdCB0aGUgU2FsdHlDcmVhdG9yIHdpbGwgY3JlYXRlLiBEZWZhdWx0cyB0byB1bmRlZmluZWQuXG4gICAgICAgIGNvbnN0IGtleUNvdW50ID0gMTsgLy8gVGhlIG51bWJlciBvZiBrZXlzIHRvIGNyZWF0ZS4gRGVmYXVsdHMgdG8gMS5cbiAgICAgICAgY29uc3QgdHJhbnNmZXJhYmxlID0gdHJ1ZTsgLy8gV2hldGhlciB0aGUga2V5cyBhcmUgdHJhbnNmZXJhYmxlLiBEZWZhdWx0cyB0byB0cnVlLlxuICAgICAgICBjb25zdCBjb2RlID0gTXRyRGV4LkVkMjU1MTlfU2VlZDsgLy8gVGhlIHR5cGUgIGNyeXB0b2dyYXBoaWMgc2VlZCB0byBjcmVhdGUgYnkgZGVmYXVsdCB3aGVuIG5vdCBvdmVyaWRkZWVuIGJ5IFwiY29kZXNcIi5cbiAgICAgICAgY29uc3QgcGlkeCA9IDA7IC8vIFRoZSBpbmRleCBvZiB0aGlzIGlkZW50aWZpZXIgcHJlZml4IG9mIGFsbCBtYW5hZ2VkIGlkZW50aWZpZXJzIGNyZWF0ZWQgZm9yIHRoaXMgU2lnbmlmeUNsaWVudCBDb250cm9sbGVyLiBEZWZhdWx0cyB0byAwLlxuICAgICAgICBjb25zdCBraWR4ID0gMDsgLy8gVGhlIG92ZXJhbGwgc3RhcnRpbmcga2V5IGluZGV4IGZvciB0aGUgZmlyc3Qga2V5IHRoaXMgcm90YXRpb24gc2V0IG9mIGtleXMuIFRoaXMgaXMgbm90IGEgbG9jYWwgaW5kZXggdG8gdGhpcyBzZXQgb2Yga2V5cyBidXQgYW4gaW5kZXggaW4gdGhlIG92ZXJhbGwgc2V0IG9mIGtleXMgZm9yIGFsbCBrZXlzIGluIHRoaXMgc2VxdWVuY2UuXG4gICAgICAgIC8vIERlZmF1bHRzIHRvIDAuIE11bHRpcGx5IHJvdGF0aW9uIGluZGV4IChyaWR4KSB0aW1lcyBrZXkgY291bnQgdG8gZ2V0IHRoZSBvdmVyYWxsIGtleSBpbmRleC5cbiAgICAgICAgdGhpcy5zYWx0ZXIgPSBuZXcgU2FsdGVyKHsgcWI2NDogdGhpcy5icmFuLCB0aWVyOiB0aGlzLnRpZXIgfSk7XG4gICAgICAgIGNvbnN0IGNyZWF0b3IgPSBuZXcgU2FsdHlDcmVhdG9yKHRoaXMuc2FsdGVyLnFiNjQsIHRoaXMudGllciwgdGhpcy5zdGVtKTtcbiAgICAgICAgLy8gQ3JlYXRlcyB0aGUgZmlyc3Qga2V5IHBhaXIgdXNlZCB0byBzaWduIHRoZSBpbmNlcHRpb24gZXZlbnQuXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBVbm5lY2Vzc2FyeUxvY2FsVmFyaWFibGVKU1xuICAgICAgICBjb25zdCBpbml0aWFsS2V5SW5kZXggPSByaWR4OyAvLyB3aWxsIGJlIHplcm8gZm9yIGluY2VwdGlvblxuICAgICAgICB0aGlzLnNpZ25lciA9IGNyZWF0b3JcbiAgICAgICAgICAgIC5jcmVhdGUoY29kZXMsIGtleUNvdW50LCBjb2RlLCB0cmFuc2ZlcmFibGUsIHBpZHgsIGluaXRpYWxLZXlJbmRleCwga2lkeClcbiAgICAgICAgICAgIC5zaWduZXJzLnBvcCgpOyAvLyBhc3N1bWVzIG9ubHkgb25lIGtleSBwYWlyIGlzIGNyZWF0ZWQgYmVjYXVzZSBrZXlDb3VudCBpcyAxXG4gICAgICAgIC8vIENyZWF0ZXMgdGhlIHNlY29uZCBrZXkgcGFpciB3aGljaCBhIGRpZ2VzdCBvZiB0aGUgcHVibGljIGtleSBpcyBjb21taXR0ZWQgdG8gaW4gdGhlIGluY2VwdGlvbiBldmVudC5cbiAgICAgICAgY29uc3QgbmV4dEtleUluZGV4ID0gcmlkeCArIDE7XG4gICAgICAgIHRoaXMubnNpZ25lciA9IGNyZWF0b3JcbiAgICAgICAgICAgIC5jcmVhdGUoY29kZXMsIGtleUNvdW50LCBjb2RlLCB0cmFuc2ZlcmFibGUsIHBpZHgsIG5leHRLZXlJbmRleCwga2lkeClcbiAgICAgICAgICAgIC5zaWduZXJzLnBvcCgpOyAvLyBhc3N1bWVzIG9ubHkgb25lIGtleSBwYWlyIGlzIGNyZWF0ZWQgYmVjYXVzZSBrZXlDb3VudCBpcyAxXG4gICAgICAgIHRoaXMua2V5cyA9IFt0aGlzLnNpZ25lci52ZXJmZXIucWI2NF07XG4gICAgICAgIHRoaXMubmRpZ3MgPSBbXG4gICAgICAgICAgICBuZXcgRGlnZXIoeyBjb2RlOiBNdHJEZXguQmxha2UzXzI1NiB9LCB0aGlzLm5zaWduZXIudmVyZmVyLnFiNjRiKVxuICAgICAgICAgICAgICAgIC5xYjY0LFxuICAgICAgICBdO1xuICAgICAgICBpZiAoc3RhdGUgPT0gbnVsbCB8fCBzdGF0ZVsnZWUnXVsncyddID09IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2VyZGVyID0gaW5jZXB0KHtcbiAgICAgICAgICAgICAgICBrZXlzOiB0aGlzLmtleXMsXG4gICAgICAgICAgICAgICAgaXNpdGg6ICcxJyxcbiAgICAgICAgICAgICAgICBuc2l0aDogJzEnLFxuICAgICAgICAgICAgICAgIG5kaWdzOiB0aGlzLm5kaWdzLFxuICAgICAgICAgICAgICAgIGNvZGU6IE10ckRleC5CbGFrZTNfMjU2LFxuICAgICAgICAgICAgICAgIHRvYWQ6ICcwJyxcbiAgICAgICAgICAgICAgICB3aXRzOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zZXJkZXIgPSBuZXcgU2VyZGVyKHN0YXRlWydlZSddKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcHByb3ZlRGVsZWdhdGlvbihfYWdlbnQpIHtcbiAgICAgICAgY29uc3Qgc2VxbmVyID0gbmV3IFNlcW5lcih7IHNuOiBfYWdlbnQuc24gfSk7XG4gICAgICAgIGNvbnN0IGFuY2hvciA9IHsgaTogX2FnZW50LnByZSwgczogc2VxbmVyLnNuaCwgZDogX2FnZW50LnNhaWQgfTtcbiAgICAgICAgY29uc3Qgc24gPSBuZXcgQ2Vzck51bWJlcih7fSwgdW5kZWZpbmVkLCB0aGlzLnNlcmRlci5zYWRbJ3MnXSkubnVtICsgMTtcbiAgICAgICAgdGhpcy5zZXJkZXIgPSBpbnRlcmFjdCh7XG4gICAgICAgICAgICBwcmU6IHRoaXMuc2VyZGVyLnByZSxcbiAgICAgICAgICAgIGRpZzogdGhpcy5zZXJkZXIuc2FkWydkJ10sXG4gICAgICAgICAgICBzbjogc24sXG4gICAgICAgICAgICBkYXRhOiBbYW5jaG9yXSxcbiAgICAgICAgICAgIHZlcnNpb246IFZyc25fMV8wLFxuICAgICAgICAgICAga2luZDogU2VyaWFscy5KU09OLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFt0aGlzLnNpZ25lci5zaWduKHRoaXMuc2VyZGVyLnJhdywgMCkucWI2NF07XG4gICAgfVxuICAgIGdldCBwcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcmRlci5wcmU7XG4gICAgfVxuICAgIGdldCBldmVudCgpIHtcbiAgICAgICAgY29uc3Qgc2lnZXIgPSB0aGlzLnNpZ25lci5zaWduKHRoaXMuc2VyZGVyLnJhdywgMCk7XG4gICAgICAgIHJldHVybiBbdGhpcy5zZXJkZXIsIHNpZ2VyXTtcbiAgICB9XG4gICAgZ2V0IHZlcmZlcnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZ25lci52ZXJmZXIoKTtcbiAgICB9XG4gICAgZGVyaXZlKHN0YXRlKSB7XG4gICAgICAgIGlmIChzdGF0ZSAhPSB1bmRlZmluZWQgJiYgc3RhdGVbJ2VlJ11bJ3MnXSA9PT0gJzAnKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5jZXB0KHtcbiAgICAgICAgICAgICAgICBrZXlzOiB0aGlzLmtleXMsXG4gICAgICAgICAgICAgICAgaXNpdGg6ICcxJyxcbiAgICAgICAgICAgICAgICBuc2l0aDogJzEnLFxuICAgICAgICAgICAgICAgIG5kaWdzOiB0aGlzLm5kaWdzLFxuICAgICAgICAgICAgICAgIGNvZGU6IE10ckRleC5CbGFrZTNfMjU2LFxuICAgICAgICAgICAgICAgIHRvYWQ6ICcwJyxcbiAgICAgICAgICAgICAgICB3aXRzOiBbXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTZXJkZXIoeyBzYWQ6IHN0YXRlLmNvbnRyb2xsZXJbJ2VlJ10gfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcm90YXRlKGJyYW4sIGFpZHMpIHtcbiAgICAgICAgY29uc3QgbmJyYW4gPSBNdHJEZXguU2FsdF8xMjggKyAnQScgKyBicmFuLnN1YnN0cmluZygwLCAyMSk7IC8vIHFiNjQgc2FsdCBmb3Igc2VlZFxuICAgICAgICBjb25zdCBuc2FsdGVyID0gbmV3IFNhbHRlcih7IHFiNjQ6IG5icmFuLCB0aWVyOiB0aGlzLnRpZXIgfSk7XG4gICAgICAgIGNvbnN0IG5zaWduZXIgPSB0aGlzLnNhbHRlci5zaWduZXIodW5kZWZpbmVkLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGNyZWF0b3IgPSBuZXcgU2FsdHlDcmVhdG9yKHRoaXMuc2FsdGVyLnFiNjQsIHRoaXMudGllciwgdGhpcy5zdGVtKTtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gY3JlYXRvclxuICAgICAgICAgICAgLmNyZWF0ZSh1bmRlZmluZWQsIDEsIE10ckRleC5FZDI1NTE5X1NlZWQsIHRydWUsIDAsIHRoaXMucmlkeCArIDEsIDAsIGZhbHNlKVxuICAgICAgICAgICAgLnNpZ25lcnMucG9wKCk7XG4gICAgICAgIGNvbnN0IG5jcmVhdG9yID0gbmV3IFNhbHR5Q3JlYXRvcihuc2FsdGVyLnFiNjQsIHRoaXMudGllciwgdGhpcy5zdGVtKTtcbiAgICAgICAgdGhpcy5zaWduZXIgPSBuY3JlYXRvclxuICAgICAgICAgICAgLmNyZWF0ZSh1bmRlZmluZWQsIDEsIE10ckRleC5FZDI1NTE5X1NlZWQsIHRydWUsIDAsIHRoaXMucmlkeCwgMCwgZmFsc2UpXG4gICAgICAgICAgICAuc2lnbmVycy5wb3AoKTtcbiAgICAgICAgdGhpcy5uc2lnbmVyID0gbmNyZWF0b3JcbiAgICAgICAgICAgIC5jcmVhdGUodW5kZWZpbmVkLCAxLCBNdHJEZXguRWQyNTUxOV9TZWVkLCB0cnVlLCAwLCB0aGlzLnJpZHggKyAxLCAwLCBmYWxzZSlcbiAgICAgICAgICAgIC5zaWduZXJzLnBvcCgpO1xuICAgICAgICB0aGlzLmtleXMgPSBbdGhpcy5zaWduZXIudmVyZmVyLnFiNjQsIHNpZ25lciA9PT0gbnVsbCB8fCBzaWduZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpZ25lci52ZXJmZXIucWI2NF07XG4gICAgICAgIHRoaXMubmRpZ3MgPSBbbmV3IERpZ2VyKHt9LCB0aGlzLm5zaWduZXIudmVyZmVyLnFiNjRiKS5xYjY0XTtcbiAgICAgICAgY29uc3Qgcm90ID0gcm90YXRlKHtcbiAgICAgICAgICAgIHByZTogdGhpcy5wcmUsXG4gICAgICAgICAgICBrZXlzOiB0aGlzLmtleXMsXG4gICAgICAgICAgICBkaWc6IHRoaXMuc2VyZGVyLnNhZFsnZCddLFxuICAgICAgICAgICAgaXNpdGg6IFsnMScsICcwJ10sXG4gICAgICAgICAgICBuc2l0aDogJzEnLFxuICAgICAgICAgICAgbmRpZ3M6IHRoaXMubmRpZ3MsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBzaWdzID0gW1xuICAgICAgICAgICAgc2lnbmVyID09PSBudWxsIHx8IHNpZ25lciA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2lnbmVyLnNpZ24oYihyb3QucmF3KSwgMSwgZmFsc2UsIDApLnFiNjQsXG4gICAgICAgICAgICB0aGlzLnNpZ25lci5zaWduKHJvdC5yYXcsIDApLnFiNjQsXG4gICAgICAgIF07XG4gICAgICAgIGNvbnN0IGVuY3J5cHRlciA9IG5ldyBFbmNyeXB0ZXIoe30sIGIobnNpZ25lci52ZXJmZXIucWI2NCkpO1xuICAgICAgICBjb25zdCBkZWNyeXB0ZXIgPSBuZXcgRGVjcnlwdGVyKHt9LCBuc2lnbmVyLnFiNjRiKTtcbiAgICAgICAgY29uc3Qgc3hsdCA9IGVuY3J5cHRlci5lbmNyeXB0KGIodGhpcy5icmFuKSkucWI2NDtcbiAgICAgICAgY29uc3Qga2V5cyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGFpZCBvZiBhaWRzKSB7XG4gICAgICAgICAgICBjb25zdCBwcmUgPSBhaWRbJ3ByZWZpeCddO1xuICAgICAgICAgICAgaWYgKCdzYWx0eScgaW4gYWlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2FsdHkgPSBhaWRbJ3NhbHR5J107XG4gICAgICAgICAgICAgICAgY29uc3QgY2lwaGVyID0gbmV3IENpcGhlcih7IHFiNjQ6IHNhbHR5WydzeGx0J10gfSk7XG4gICAgICAgICAgICAgICAgY29uc3QgZG54dCA9IGRlY3J5cHRlci5kZWNyeXB0KG51bGwsIGNpcGhlcikucWI2NDtcbiAgICAgICAgICAgICAgICAvLyBOb3cgd2UgaGF2ZSB0aGUgQUlEIHNhbHQsIHVzZSBpdCB0byB2ZXJpZnkgYWdhaW5zdCB0aGUgY3VycmVudCBwdWJsaWMga2V5c1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjcmVhdG9yID0gbmV3IFNhbHR5Q3JlYXRvcihkbnh0LCBzYWx0eVsndGllciddLCBzYWx0eVsnc3RlbSddKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZXJzID0gYWNyZWF0b3IuY3JlYXRlKHNhbHR5WydpY29kZXMnXSwgdW5kZWZpbmVkLCBNdHJEZXguRWQyNTUxOV9TZWVkLCBzYWx0eVsndHJhbnNmZXJhYmxlJ10sIHNhbHR5WydwaWR4J10sIDAsIHNhbHR5WydraWR4J10sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2lnbmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2lnbmVyIG9mIHNpZ25lcnMuc2lnbmVycykge1xuICAgICAgICAgICAgICAgICAgICBfc2lnbmVycy5wdXNoKHNpZ25lci52ZXJmZXIucWI2NCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHB1YnMgPSBhaWRbJ3N0YXRlJ11bJ2snXTtcbiAgICAgICAgICAgICAgICBpZiAocHVicy5qb2luKCcsJykgIT0gX3NpZ25lcnMuam9pbignLCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBTYWx0eSBBSUQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgYXN4bHQgPSBlbmNyeXB0ZXIuZW5jcnlwdChiKGRueHQpKS5xYjY0O1xuICAgICAgICAgICAgICAgIGtleXNbcHJlXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgc3hsdDogYXN4bHQsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCdyYW5keScgaW4gYWlkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZHkgPSBhaWRbJ3JhbmR5J107XG4gICAgICAgICAgICAgICAgY29uc3QgcHJ4cyA9IHJhbmR5WydwcnhzJ107XG4gICAgICAgICAgICAgICAgY29uc3Qgbnh0cyA9IHJhbmR5WydueHRzJ107XG4gICAgICAgICAgICAgICAgY29uc3QgbnByeHMgPSBbXTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZXJzID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcnggb2YgcHJ4cykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjaXBoZXIgPSBuZXcgQ2lwaGVyKHsgcWI2NDogcHJ4IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBkc2lnbmVyID0gZGVjcnlwdGVyLmRlY3J5cHQobnVsbCwgY2lwaGVyLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmVycy5wdXNoKGRzaWduZXIpO1xuICAgICAgICAgICAgICAgICAgICBucHJ4cy5wdXNoKGVuY3J5cHRlci5lbmNyeXB0KGIoZHNpZ25lci5xYjY0KSkucWI2NCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHB1YnMgPSBhaWRbJ3N0YXRlJ11bJ2snXTtcbiAgICAgICAgICAgICAgICBjb25zdCBfc2lnbmVycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc2lnbmVyIG9mIHNpZ25lcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgX3NpZ25lcnMucHVzaChzaWduZXIudmVyZmVyLnFiNjQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocHVicy5qb2luKCcsJykgIT0gX3NpZ25lcnMuam9pbignLCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5hYmxlIHRvIHJvdGF0ZSwgdmFsaWRhdGlvbiBvZiBlbmNyeXB0ZWQgcHVibGljIGtleXMgJHtwdWJzfSBmYWlsZWRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3Qgbm54dHMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG54dCBvZiBueHRzKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ueHRzLnB1c2godGhpcy5yZWNyeXB0KG54dCwgZGVjcnlwdGVyLCBlbmNyeXB0ZXIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAga2V5c1twcmVdID0ge1xuICAgICAgICAgICAgICAgICAgICBwcnhzOiBucHJ4cyxcbiAgICAgICAgICAgICAgICAgICAgbnh0czogbm54dHMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBhaWQgdHlwZSAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgcm90OiByb3Quc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIHN4bHQ6IHN4bHQsXG4gICAgICAgICAgICBrZXlzOiBrZXlzLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgcmVjcnlwdChlbmMsIGRlY3J5cHRlciwgZW5jcnlwdGVyKSB7XG4gICAgICAgIGNvbnN0IGNpcGhlciA9IG5ldyBDaXBoZXIoeyBxYjY0OiBlbmMgfSk7XG4gICAgICAgIGNvbnN0IGRueHQgPSBkZWNyeXB0ZXIuZGVjcnlwdChudWxsLCBjaXBoZXIpLnFiNjQ7XG4gICAgICAgIHJldHVybiBlbmNyeXB0ZXIuZW5jcnlwdChiKGRueHQpKS5xYjY0O1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/controller.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/coring.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/coring.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Config: () => (/* binding */ Config),\n/* harmony export */   KeyEvents: () => (/* binding */ KeyEvents),\n/* harmony export */   KeyStates: () => (/* binding */ KeyStates),\n/* harmony export */   Oobis: () => (/* binding */ Oobis),\n/* harmony export */   Operations: () => (/* binding */ Operations),\n/* harmony export */   randomNonce: () => (/* binding */ randomNonce),\n/* harmony export */   randomPasscode: () => (/* binding */ randomPasscode)\n/* harmony export */ });\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n/* harmony import */ var _core_salter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _core_matter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n\n\n\nfunction randomPasscode() {\n    const raw = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.randombytes_buf(16);\n    const salter = new _core_salter_js__WEBPACK_IMPORTED_MODULE_1__.Salter({ raw: raw });\n    // https://github.com/WebOfTrust/signify-ts/issues/242\n    return salter.qb64.substring(2, 23);\n}\nfunction randomNonce() {\n    const seed = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.randombytes_buf(libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_SEEDBYTES);\n    const seedqb64 = new _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.Matter({ raw: seed, code: _core_matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed });\n    return seedqb64.qb64;\n}\nclass Oobis {\n    /**\n     * Oobis\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Get the OOBI(s) for a managed indentifier for a given role\n     * @param {string} name Name or alias of the identifier\n     * @param {string} role Authorized role\n     * @returns {Promise<any>} A promise to the OOBI(s)\n     */\n    async get(name, role = 'agent') {\n        const path = `/identifiers/${name}/oobis?role=${role}`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Resolve an OOBI\n     * @async\n     * @param {string} oobi The OOBI to be resolver\n     * @param {string} [alias] Optional name or alias to link the OOBI resolution to a contact\n     * @returns {Promise<any>} A promise to the long-running operation\n     */\n    async resolve(oobi, alias) {\n        const path = `/oobis`;\n        const data = {\n            url: oobi,\n        };\n        if (alias !== undefined) {\n            data.oobialias = alias;\n        }\n        const method = 'POST';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n}\n/**\n * Operations\n * @remarks\n * Operations represent the status and result of long running tasks performed by KERIA agent\n */\nclass Operations {\n    /**\n     * Operations\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Get operation status\n     * @async\n     * @param {string} name Name of the operation\n     * @returns {Promise<Operation>} A promise to the status of the operation\n     */\n    async get(name) {\n        const path = `/operations/${name}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * List operations\n     * @async\n     * @param {string} type Select operations by type\n     * @returns {Promise<Operation[]>} A list of operations\n     */\n    async list(type) {\n        const params = new URLSearchParams();\n        if (type !== undefined) {\n            params.append('type', type);\n        }\n        const path = `/operations?${params.toString()}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Delete operation\n     * @async\n     * @param {string} name Name of the operation\n     */\n    async delete(name) {\n        const path = `/operations/${name}`;\n        const data = null;\n        const method = 'DELETE';\n        await this.client.fetch(path, method, data);\n    }\n    /**\n     * Poll for operation to become completed.\n     */\n    async wait(op, options = {}) {\n        var _a, _b, _c, _d, _e, _f;\n        const minSleep = (_a = options.minSleep) !== null && _a !== void 0 ? _a : 10;\n        const maxSleep = (_b = options.maxSleep) !== null && _b !== void 0 ? _b : 10000;\n        const increaseFactor = (_c = options.increaseFactor) !== null && _c !== void 0 ? _c : 50;\n        if (((_e = (_d = op.metadata) === null || _d === void 0 ? void 0 : _d.depends) === null || _e === void 0 ? void 0 : _e.done) === false) {\n            await this.wait(op.metadata.depends, options);\n        }\n        if (op.done === true) {\n            return op;\n        }\n        let retries = 0;\n        while (true) {\n            op = await this.get(op.name);\n            const delay = Math.max(minSleep, Math.min(maxSleep, 2 ** retries * increaseFactor));\n            retries++;\n            if (op.done === true) {\n                return op;\n            }\n            await new Promise((resolve) => setTimeout(resolve, delay));\n            (_f = options.signal) === null || _f === void 0 ? void 0 : _f.throwIfAborted();\n        }\n    }\n}\n/**\n * KeyEvents\n */\nclass KeyEvents {\n    /**\n     * KeyEvents\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Retrieve key events for an identifier\n     * @async\n     * @param {string} pre Identifier prefix\n     * @returns {Promise<any>} A promise to the key events\n     */\n    async get(pre) {\n        const path = `/events?pre=${pre}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n}\n/**\n * KeyStates\n */\nclass KeyStates {\n    /**\n     * KeyStates\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Retriene the key state for an identifier\n     * @async\n     * @param {string} pre Identifier prefix\n     * @returns {Promise<any>} A promise to the key states\n     */\n    async get(pre) {\n        const path = `/states?pre=${pre}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Retrieve the key state for a list of identifiers\n     * @async\n     * @param {Array<string>} pres List of identifier prefixes\n     * @returns {Promise<any>} A promise to the key states\n     */\n    async list(pres) {\n        const path = `/states?${pres.map((pre) => `pre=${pre}`).join('&')}`;\n        const data = null;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Query the key state of an identifier for a given sequence number or anchor\n     * @async\n     * @param {string} pre Identifier prefix\n     * @param {number} [sn] Optional sequence number\n     * @param {any} [anchor] Optional anchor\n     * @returns {Promise<any>} A promise to the long-running operation\n     */\n    async query(pre, sn, anchor) {\n        const path = `/queries`;\n        const data = {\n            pre: pre,\n        };\n        if (sn !== undefined) {\n            data.sn = sn;\n        }\n        if (anchor !== undefined) {\n            data.anchor = anchor;\n        }\n        const method = 'POST';\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n}\nclass Config {\n    /**\n     * Config\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    async get() {\n        const path = `/config`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NvcmluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ0w7QUFDUTtBQUM1QztBQUNQLGdCQUFnQixvRUFBeUI7QUFDekMsdUJBQXVCLG1EQUFNLEdBQUcsVUFBVTtBQUMxQztBQUNBO0FBQ0E7QUFDTztBQUNQLGlCQUFpQixvRUFBeUIsQ0FBQywwRUFBK0I7QUFDMUUseUJBQXlCLG1EQUFNLEdBQUcsaUJBQWlCLG1EQUFNLGVBQWU7QUFDeEU7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQSxxQ0FBcUMsS0FBSyxjQUFjLEtBQUs7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixvQkFBb0I7QUFDckM7QUFDQTtBQUNBLG9DQUFvQyxLQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLHNCQUFzQjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBLG9DQUFvQyxLQUFLO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBLG9DQUFvQyxJQUFJO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0Esb0NBQW9DLElBQUk7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QixpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0EsZ0NBQWdDLHlCQUF5QixJQUFJLGFBQWE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxLQUFLO0FBQ3BCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9hcHAvY29yaW5nLmpzPzdiZGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxpYnNvZGl1bSBmcm9tICdsaWJzb2RpdW0td3JhcHBlcnMtc3Vtbyc7XG5pbXBvcnQgeyBTYWx0ZXIgfSBmcm9tIFwiLi4vY29yZS9zYWx0ZXIuanNcIjtcbmltcG9ydCB7IE1hdHRlciwgTXRyRGV4IH0gZnJvbSBcIi4uL2NvcmUvbWF0dGVyLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tUGFzc2NvZGUoKSB7XG4gICAgY29uc3QgcmF3ID0gbGlic29kaXVtLnJhbmRvbWJ5dGVzX2J1ZigxNik7XG4gICAgY29uc3Qgc2FsdGVyID0gbmV3IFNhbHRlcih7IHJhdzogcmF3IH0pO1xuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9XZWJPZlRydXN0L3NpZ25pZnktdHMvaXNzdWVzLzI0MlxuICAgIHJldHVybiBzYWx0ZXIucWI2NC5zdWJzdHJpbmcoMiwgMjMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmRvbU5vbmNlKCkge1xuICAgIGNvbnN0IHNlZWQgPSBsaWJzb2RpdW0ucmFuZG9tYnl0ZXNfYnVmKGxpYnNvZGl1bS5jcnlwdG9fc2lnbl9TRUVEQllURVMpO1xuICAgIGNvbnN0IHNlZWRxYjY0ID0gbmV3IE1hdHRlcih7IHJhdzogc2VlZCwgY29kZTogTXRyRGV4LkVkMjU1MTlfU2VlZCB9KTtcbiAgICByZXR1cm4gc2VlZHFiNjQucWI2NDtcbn1cbmV4cG9ydCBjbGFzcyBPb2JpcyB7XG4gICAgLyoqXG4gICAgICogT29iaXNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBPT0JJKHMpIGZvciBhIG1hbmFnZWQgaW5kZW50aWZpZXIgZm9yIGEgZ2l2ZW4gcm9sZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcm9sZSBBdXRob3JpemVkIHJvbGVcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIE9PQkkocylcbiAgICAgKi9cbiAgICBhc3luYyBnZXQobmFtZSwgcm9sZSA9ICdhZ2VudCcpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvaWRlbnRpZmllcnMvJHtuYW1lfS9vb2Jpcz9yb2xlPSR7cm9sZX1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc29sdmUgYW4gT09CSVxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBvb2JpIFRoZSBPT0JJIHRvIGJlIHJlc29sdmVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFthbGlhc10gT3B0aW9uYWwgbmFtZSBvciBhbGlhcyB0byBsaW5rIHRoZSBPT0JJIHJlc29sdXRpb24gdG8gYSBjb250YWN0XG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBsb25nLXJ1bm5pbmcgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYXN5bmMgcmVzb2x2ZShvb2JpLCBhbGlhcykge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9vb2Jpc2A7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICB1cmw6IG9vYmksXG4gICAgICAgIH07XG4gICAgICAgIGlmIChhbGlhcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkYXRhLm9vYmlhbGlhcyA9IGFsaWFzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxufVxuLyoqXG4gKiBPcGVyYXRpb25zXG4gKiBAcmVtYXJrc1xuICogT3BlcmF0aW9ucyByZXByZXNlbnQgdGhlIHN0YXR1cyBhbmQgcmVzdWx0IG9mIGxvbmcgcnVubmluZyB0YXNrcyBwZXJmb3JtZWQgYnkgS0VSSUEgYWdlbnRcbiAqL1xuZXhwb3J0IGNsYXNzIE9wZXJhdGlvbnMge1xuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbnNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IG9wZXJhdGlvbiBzdGF0dXNcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBvcGVyYXRpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxPcGVyYXRpb24+fSBBIHByb21pc2UgdG8gdGhlIHN0YXR1cyBvZiB0aGUgb3BlcmF0aW9uXG4gICAgICovXG4gICAgYXN5bmMgZ2V0KG5hbWUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvb3BlcmF0aW9ucy8ke25hbWV9YDtcbiAgICAgICAgY29uc3QgZGF0YSA9IG51bGw7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIGRhdGEpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBvcGVyYXRpb25zXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGUgU2VsZWN0IG9wZXJhdGlvbnMgYnkgdHlwZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPE9wZXJhdGlvbltdPn0gQSBsaXN0IG9mIG9wZXJhdGlvbnNcbiAgICAgKi9cbiAgICBhc3luYyBsaXN0KHR5cGUpIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBpZiAodHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCd0eXBlJywgdHlwZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGF0aCA9IGAvb3BlcmF0aW9ucz8ke3BhcmFtcy50b1N0cmluZygpfWA7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBudWxsO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBvcGVyYXRpb25cbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9mIHRoZSBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGUobmFtZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9vcGVyYXRpb25zLyR7bmFtZX1gO1xuICAgICAgICBjb25zdCBkYXRhID0gbnVsbDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgICAgIGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBvbGwgZm9yIG9wZXJhdGlvbiB0byBiZWNvbWUgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGFzeW5jIHdhaXQob3AsIG9wdGlvbnMgPSB7fSkge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgICAgICAgY29uc3QgbWluU2xlZXAgPSAoX2EgPSBvcHRpb25zLm1pblNsZWVwKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAxMDtcbiAgICAgICAgY29uc3QgbWF4U2xlZXAgPSAoX2IgPSBvcHRpb25zLm1heFNsZWVwKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiAxMDAwMDtcbiAgICAgICAgY29uc3QgaW5jcmVhc2VGYWN0b3IgPSAoX2MgPSBvcHRpb25zLmluY3JlYXNlRmFjdG9yKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiA1MDtcbiAgICAgICAgaWYgKCgoX2UgPSAoX2QgPSBvcC5tZXRhZGF0YSkgPT09IG51bGwgfHwgX2QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kLmRlcGVuZHMpID09PSBudWxsIHx8IF9lID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZS5kb25lKSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMud2FpdChvcC5tZXRhZGF0YS5kZXBlbmRzLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3AuZG9uZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG9wO1xuICAgICAgICB9XG4gICAgICAgIGxldCByZXRyaWVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgIG9wID0gYXdhaXQgdGhpcy5nZXQob3AubmFtZSk7XG4gICAgICAgICAgICBjb25zdCBkZWxheSA9IE1hdGgubWF4KG1pblNsZWVwLCBNYXRoLm1pbihtYXhTbGVlcCwgMiAqKiByZXRyaWVzICogaW5jcmVhc2VGYWN0b3IpKTtcbiAgICAgICAgICAgIHJldHJpZXMrKztcbiAgICAgICAgICAgIGlmIChvcC5kb25lID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgZGVsYXkpKTtcbiAgICAgICAgICAgIChfZiA9IG9wdGlvbnMuc2lnbmFsKSA9PT0gbnVsbCB8fCBfZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2YudGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogS2V5RXZlbnRzXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXlFdmVudHMge1xuICAgIC8qKlxuICAgICAqIEtleUV2ZW50c1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBrZXkgZXZlbnRzIGZvciBhbiBpZGVudGlmaWVyXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZSBJZGVudGlmaWVyIHByZWZpeFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUga2V5IGV2ZW50c1xuICAgICAqL1xuICAgIGFzeW5jIGdldChwcmUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvZXZlbnRzP3ByZT0ke3ByZX1gO1xuICAgICAgICBjb25zdCBkYXRhID0gbnVsbDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbi8qKlxuICogS2V5U3RhdGVzXG4gKi9cbmV4cG9ydCBjbGFzcyBLZXlTdGF0ZXMge1xuICAgIC8qKlxuICAgICAqIEtleVN0YXRlc1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWVuZSB0aGUga2V5IHN0YXRlIGZvciBhbiBpZGVudGlmaWVyXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZSBJZGVudGlmaWVyIHByZWZpeFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUga2V5IHN0YXRlc1xuICAgICAqL1xuICAgIGFzeW5jIGdldChwcmUpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvc3RhdGVzP3ByZT0ke3ByZX1gO1xuICAgICAgICBjb25zdCBkYXRhID0gbnVsbDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUga2V5IHN0YXRlIGZvciBhIGxpc3Qgb2YgaWRlbnRpZmllcnNcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IHByZXMgTGlzdCBvZiBpZGVudGlmaWVyIHByZWZpeGVzXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBrZXkgc3RhdGVzXG4gICAgICovXG4gICAgYXN5bmMgbGlzdChwcmVzKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL3N0YXRlcz8ke3ByZXMubWFwKChwcmUpID0+IGBwcmU9JHtwcmV9YCkuam9pbignJicpfWA7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBudWxsO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXJ5IHRoZSBrZXkgc3RhdGUgb2YgYW4gaWRlbnRpZmllciBmb3IgYSBnaXZlbiBzZXF1ZW5jZSBudW1iZXIgb3IgYW5jaG9yXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHByZSBJZGVudGlmaWVyIHByZWZpeFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc25dIE9wdGlvbmFsIHNlcXVlbmNlIG51bWJlclxuICAgICAqIEBwYXJhbSB7YW55fSBbYW5jaG9yXSBPcHRpb25hbCBhbmNob3JcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIGxvbmctcnVubmluZyBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBxdWVyeShwcmUsIHNuLCBhbmNob3IpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvcXVlcmllc2A7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBwcmU6IHByZSxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHNuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEuc24gPSBzbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYW5jaG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEuYW5jaG9yID0gYW5jaG9yO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbmZpZyB7XG4gICAgLyoqXG4gICAgICogQ29uZmlnXG4gICAgICogQHBhcmFtIHtTaWduaWZ5Q2xpZW50fSBjbGllbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIGFzeW5jIGdldCgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvY29uZmlnYDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/coring.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/credentialing.js":
/*!****************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/credentialing.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CredentialTypes: () => (/* binding */ CredentialTypes),\n/* harmony export */   Credentials: () => (/* binding */ Credentials),\n/* harmony export */   Ipex: () => (/* binding */ Ipex),\n/* harmony export */   Registries: () => (/* binding */ Registries),\n/* harmony export */   RegistryResult: () => (/* binding */ RegistryResult),\n/* harmony export */   Schemas: () => (/* binding */ Schemas)\n/* harmony export */ });\n/* harmony import */ var _core_eventing_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n/* harmony import */ var _core_vdring_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/vdring.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/vdring.js\");\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _core_saider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/saider.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\");\n/* harmony import */ var _core_serder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _core_siger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/siger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js\");\n/* harmony import */ var _habery_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./habery.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/habery.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n\n\n\n\n\n\n\n\n/** Types of credentials */\nclass CredentialTypes {\n}\nCredentialTypes.issued = 'issued';\nCredentialTypes.received = 'received';\n/**\n * Credentials\n */\nclass Credentials {\n    /**\n     * Credentials\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List credentials\n     * @async\n     * @param {CredentialFilter} [kargs] Optional parameters to filter the credentials\n     * @returns {Promise<CredentialResult[]>} A promise to the list of credentials\n     */\n    async list(kargs = {}) {\n        const path = `/credentials/query`;\n        const filtr = kargs.filter === undefined ? {} : kargs.filter;\n        const sort = kargs.sort === undefined ? [] : kargs.sort;\n        const limit = kargs.limit === undefined ? 25 : kargs.limit;\n        const skip = kargs.skip === undefined ? 0 : kargs.skip;\n        const data = {\n            filter: filtr,\n            sort: sort,\n            skip: skip,\n            limit: limit,\n        };\n        const method = 'POST';\n        const res = await this.client.fetch(path, method, data, undefined);\n        return await res.json();\n    }\n    async get(said, includeCESR = false) {\n        const path = `/credentials/${said}`;\n        const method = 'GET';\n        const headers = includeCESR\n            ? new Headers({ Accept: 'application/json+cesr' })\n            : new Headers({ Accept: 'application/json' });\n        const res = await this.client.fetch(path, method, null, headers);\n        return includeCESR ? await res.text() : await res.json();\n    }\n    /**\n     * Delete a credential from the DB\n     * @async\n     * @param {string} said - SAID of the credential\n     * @returns {Promise<void>}\n     */\n    async delete(said) {\n        const path = `/credentials/${said}`;\n        const method = 'DELETE';\n        await this.client.fetch(path, method, undefined);\n    }\n    /**\n     * Get the state of a credential\n     * @async\n     * @param {string} ri - management registry identifier\n     * @param {string} said - SAID of the credential\n     * @returns {Promise<CredentialState>} A promise to the credential registry state\n     */\n    async state(ri, said) {\n        const path = `/registries/${ri}/${said}`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return res.json();\n    }\n    /**\n     * Creates a credential in the specified registry to be GRANTed with IPEX to the intended recipient\n     */\n    async issue(name, args) {\n        var _a, _b;\n        const hab = await this.client.identifiers().get(name);\n        const estOnly = hab.state.c !== undefined && hab.state.c.includes('EO');\n        if (estOnly) {\n            // TODO implement rotation event\n            throw new Error('Establishment only not implemented');\n        }\n        if (!this.client.manager) {\n            throw new Error('No manager on client');\n        }\n        const keeper = this.client.manager.get(hab);\n        const [, subject] = _core_saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider.saidify(Object.assign(Object.assign({ d: '' }, args.a), { dt: (_a = args.a.dt) !== null && _a !== void 0 ? _a : new Date().toISOString().replace('Z', '000+00:00') }));\n        const [, acdc] = _core_saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider.saidify({\n            v: (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.versify)(_core_core_js__WEBPACK_IMPORTED_MODULE_2__.Protocols.ACDC, undefined, _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON, 0),\n            d: '',\n            u: args.u,\n            i: (_b = args.i) !== null && _b !== void 0 ? _b : hab.prefix,\n            ri: args.ri,\n            s: args.s,\n            a: subject,\n            e: args.e,\n            r: args.r,\n        });\n        const [, iss] = _core_saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider.saidify({\n            v: (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.versify)(_core_core_js__WEBPACK_IMPORTED_MODULE_2__.Protocols.KERI, undefined, _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON, 0),\n            t: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.iss,\n            d: '',\n            i: acdc.d,\n            s: '0',\n            ri: args.ri,\n            dt: subject.dt,\n        });\n        const sn = parseInt(hab.state.s, 16);\n        const anc = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_0__.interact)({\n            pre: hab.prefix,\n            sn: sn + 1,\n            data: [\n                {\n                    i: iss.i,\n                    s: iss.s,\n                    d: iss.d,\n                },\n            ],\n            dig: hab.state.d,\n            version: undefined,\n            kind: undefined,\n        });\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(anc.raw));\n        const path = `/identifiers/${hab.name}/credentials`;\n        const method = 'POST';\n        const body = {\n            acdc: acdc,\n            iss: iss,\n            ixn: anc.sad,\n            sigs,\n            [keeper.algo]: keeper.params(),\n        };\n        const res = await this.client.fetch(path, method, body);\n        const op = await res.json();\n        return {\n            acdc: new _core_serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(acdc),\n            iss: new _core_serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(iss),\n            anc,\n            op,\n        };\n    }\n    /**\n     * Revoke credential\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @param {string} said SAID of the credential\n     * @param {string} datetime date time of revocation\n     * @returns {Promise<RevokeCredentialResult>} A promise to the long-running operation\n     */\n    async revoke(name, said, datetime) {\n        const hab = await this.client.identifiers().get(name);\n        const pre = hab.prefix;\n        const vs = (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.versify)(_core_core_js__WEBPACK_IMPORTED_MODULE_2__.Protocols.KERI, undefined, _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON, 0);\n        const dt = datetime !== null && datetime !== void 0 ? datetime : new Date().toISOString().replace('Z', '000+00:00');\n        const cred = await this.get(said);\n        let registryId;\n        if ('ri' in cred.sad && cred.sad.ri !== undefined) {\n            registryId = cred.sad.ri;\n        }\n        else if ('rd' in cred.sad && cred.sad.rd !== undefined) {\n            registryId = cred.sad.rd;\n        }\n        else {\n            throw new Error('Neither ri nor rd property found in credential');\n        }\n        // Create rev\n        const _rev = {\n            v: vs,\n            t: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.rev,\n            d: '',\n            i: said,\n            s: '1',\n            ri: registryId,\n            p: cred.status.d,\n            dt: dt,\n        };\n        const [, rev] = _core_saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider.saidify(_rev);\n        // create ixn\n        let ixn = {};\n        let sigs = [];\n        const state = hab.state;\n        if (state.c !== undefined && state.c.includes('EO')) {\n            var estOnly = true;\n        }\n        else {\n            var estOnly = false;\n        }\n        const sn = parseInt(state.s, 16);\n        const dig = state.d;\n        const data = [\n            {\n                i: rev.i,\n                s: rev.s,\n                d: rev.d,\n            },\n        ];\n        const keeper = this.client.manager.get(hab);\n        if (estOnly) {\n            // TODO implement rotation event\n            throw new Error('Establishment only not implemented');\n        }\n        else {\n            const serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_0__.interact)({\n                pre: pre,\n                sn: sn + 1,\n                data: data,\n                dig: dig,\n                version: undefined,\n                kind: undefined,\n            });\n            sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(serder.raw));\n            ixn = serder.sad;\n        }\n        const body = {\n            rev: rev,\n            ixn: ixn,\n            sigs: sigs,\n            [keeper.algo]: keeper.params(),\n        };\n        const path = `/identifiers/${name}/credentials/${said}`;\n        const method = 'DELETE';\n        const res = await this.client.fetch(path, method, body);\n        const op = await res.json();\n        return {\n            rev: new _core_serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(rev),\n            anc: new _core_serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(ixn),\n            op,\n        };\n    }\n}\nclass RegistryResult {\n    constructor(regser, serder, sigs, promise) {\n        this._regser = regser;\n        this._serder = serder;\n        this._sigs = sigs;\n        this.promise = promise;\n    }\n    get regser() {\n        return this._regser;\n    }\n    get serder() {\n        return this._serder;\n    }\n    get sigs() {\n        return this._sigs;\n    }\n    async op() {\n        const res = await this.promise;\n        return await res.json();\n    }\n}\n/**\n * Registries\n */\nclass Registries {\n    /**\n     * Registries\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List registries\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @returns {Promise<Registry[]>} A promise to the list of registries\n     */\n    async list(name) {\n        const path = `/identifiers/${name}/registries`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Create a registry\n     * @async\n     * @param {CreateRegistryArgs}\n     * @returns {Promise<[any, Serder, any[], object]> } A promise to the long-running operation\n     */\n    async create({ name, registryName, noBackers = true, toad = 0, baks = [], nonce, }) {\n        const hab = await this.client.identifiers().get(name);\n        const pre = hab.prefix;\n        const cnfg = [];\n        if (noBackers) {\n            cnfg.push(_habery_js__WEBPACK_IMPORTED_MODULE_6__.TraitDex.NoBackers);\n        }\n        const state = hab.state;\n        const estOnly = state.c !== undefined && state.c.includes('EO');\n        if (estOnly) {\n            cnfg.push(_habery_js__WEBPACK_IMPORTED_MODULE_6__.TraitDex.EstOnly);\n        }\n        const regser = _core_vdring_js__WEBPACK_IMPORTED_MODULE_1__.vdr.incept({ pre, baks, toad, nonce, cnfg });\n        if (estOnly) {\n            throw new Error('establishment only not implemented');\n        }\n        else {\n            const state = hab.state;\n            const sn = parseInt(state.s, 16);\n            const dig = state.d;\n            const data = [\n                {\n                    i: regser.pre,\n                    s: '0',\n                    d: regser.pre,\n                },\n            ];\n            const serder = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_0__.interact)({\n                pre: pre,\n                sn: sn + 1,\n                data: data,\n                dig: dig,\n                version: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Vrsn_1_0,\n                kind: _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON,\n            });\n            const keeper = this.client.manager.get(hab);\n            const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(serder.raw));\n            const res = this.createFromEvents(hab, name, registryName, regser.sad, serder.sad, sigs);\n            return new RegistryResult(regser, serder, sigs, res);\n        }\n    }\n    createFromEvents(hab, name, registryName, vcp, ixn, sigs) {\n        const path = `/identifiers/${name}/registries`;\n        const method = 'POST';\n        const data = {\n            name: registryName,\n            vcp: vcp,\n            ixn: ixn,\n            sigs: sigs,\n        };\n        const keeper = this.client.manager.get(hab);\n        data[keeper.algo] = keeper.params();\n        return this.client.fetch(path, method, data);\n    }\n    /**\n     * Rename a registry\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @param {string} registryName Current registry name\n     * @param {string} newName New registry name\n     * @returns {Promise<Registry>} A promise to the registry record\n     */\n    async rename(name, registryName, newName) {\n        const path = `/identifiers/${name}/registries/${registryName}`;\n        const method = 'PUT';\n        const data = {\n            name: newName,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n}\n/**\n * Schemas\n */\nclass Schemas {\n    /**\n     * Schemas\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Get a schema\n     * @async\n     * @param {string} said SAID of the schema\n     * @returns {Promise<Schema>} A promise to the schema\n     */\n    async get(said) {\n        const path = `/schema/${said}`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * List schemas\n     * @async\n     * @returns {Promise<Schema[]>} A promise to the list of schemas\n     */\n    async list() {\n        const path = `/schema`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n}\n/**\n * Ipex\n */\nclass Ipex {\n    /**\n     * Schemas\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Create an IPEX apply EXN message\n     */\n    async apply(args) {\n        var _a, _b;\n        const hab = await this.client.identifiers().get(args.senderName);\n        const data = {\n            m: (_a = args.message) !== null && _a !== void 0 ? _a : '',\n            s: args.schemaSaid,\n            a: (_b = args.attributes) !== null && _b !== void 0 ? _b : {},\n        };\n        return this.client\n            .exchanges()\n            .createExchangeMessage(hab, '/ipex/apply', data, {}, args.recipient, args.datetime, undefined);\n    }\n    async submitApply(name, exn, sigs, recp) {\n        const body = {\n            exn: exn.sad,\n            sigs,\n            rec: recp,\n        };\n        const response = await this.client.fetch(`/identifiers/${name}/ipex/apply`, 'POST', body);\n        return response.json();\n    }\n    /**\n     * Create an IPEX offer EXN message\n     */\n    async offer(args) {\n        var _a;\n        const hab = await this.client.identifiers().get(args.senderName);\n        const data = {\n            m: (_a = args.message) !== null && _a !== void 0 ? _a : '',\n        };\n        return this.client\n            .exchanges()\n            .createExchangeMessage(hab, '/ipex/offer', data, { acdc: [args.acdc, undefined] }, args.recipient, args.datetime, args.applySaid);\n    }\n    async submitOffer(name, exn, sigs, atc, recp) {\n        const body = {\n            exn: exn.sad,\n            sigs,\n            atc,\n            rec: recp,\n        };\n        const response = await this.client.fetch(`/identifiers/${name}/ipex/offer`, 'POST', body);\n        return response.json();\n    }\n    /**\n     * Create an IPEX agree EXN message\n     */\n    async agree(args) {\n        var _a;\n        const hab = await this.client.identifiers().get(args.senderName);\n        const data = {\n            m: (_a = args.message) !== null && _a !== void 0 ? _a : '',\n        };\n        return this.client\n            .exchanges()\n            .createExchangeMessage(hab, '/ipex/agree', data, {}, args.recipient, args.datetime, args.offerSaid);\n    }\n    async submitAgree(name, exn, sigs, recp) {\n        const body = {\n            exn: exn.sad,\n            sigs,\n            rec: recp,\n        };\n        const response = await this.client.fetch(`/identifiers/${name}/ipex/agree`, 'POST', body);\n        return response.json();\n    }\n    /**\n     * Create an IPEX grant EXN message\n     */\n    async grant(args) {\n        var _a;\n        const hab = await this.client.identifiers().get(args.senderName);\n        const data = {\n            m: (_a = args.message) !== null && _a !== void 0 ? _a : '',\n        };\n        let atc = args.ancAttachment;\n        if (atc === undefined) {\n            const keeper = this.client.manager.get(hab);\n            const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(args.anc.raw));\n            const sigers = sigs.map((sig) => new _core_siger_js__WEBPACK_IMPORTED_MODULE_5__.Siger({ qb64: sig }));\n            const ims = (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.d)((0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_0__.messagize)(args.anc, sigers));\n            atc = ims.substring(args.anc.size);\n        }\n        const acdcAtc = args.acdcAttachment === undefined\n            ? (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.d)((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializeACDCAttachment)(args.iss))\n            : args.acdcAttachment;\n        const issAtc = args.issAttachment === undefined\n            ? (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.d)((0,_core_utils_js__WEBPACK_IMPORTED_MODULE_7__.serializeIssExnAttachment)(args.anc))\n            : args.issAttachment;\n        const embeds = {\n            acdc: [args.acdc, acdcAtc],\n            iss: [args.iss, issAtc],\n            anc: [args.anc, atc],\n        };\n        return this.client\n            .exchanges()\n            .createExchangeMessage(hab, '/ipex/grant', data, embeds, args.recipient, args.datetime, args.agreeSaid);\n    }\n    async submitGrant(name, exn, sigs, atc, recp) {\n        const body = {\n            exn: exn.sad,\n            sigs: sigs,\n            atc: atc,\n            rec: recp,\n        };\n        const response = await this.client.fetch(`/identifiers/${name}/ipex/grant`, 'POST', body);\n        return response.json();\n    }\n    /**\n     * Create an IPEX admit EXN message\n     */\n    async admit(args) {\n        const hab = await this.client.identifiers().get(args.senderName);\n        const data = {\n            m: args.message,\n        };\n        return this.client\n            .exchanges()\n            .createExchangeMessage(hab, '/ipex/admit', data, {}, args.recipient, args.datetime, args.grantSaid);\n    }\n    async submitAdmit(name, exn, sigs, atc, recp) {\n        const body = {\n            exn: exn.sad,\n            sigs: sigs,\n            atc: atc,\n            rec: recp,\n        };\n        const response = await this.client.fetch(`/identifiers/${name}/ipex/admit`, 'POST', body);\n        return response.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NyZWRlbnRpYWxpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBMEQ7QUFDbEI7QUFDNkM7QUFDMUM7QUFDQTtBQUNGO0FBQ0Y7QUFDZ0Q7QUFDdkY7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0JBQWtCO0FBQ2pDLGlCQUFpQiw2QkFBNkI7QUFDOUM7QUFDQSx5QkFBeUI7QUFDekI7QUFDQSxzREFBc0Q7QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxLQUFLO0FBQzFDO0FBQ0E7QUFDQSw0QkFBNEIsaUNBQWlDO0FBQzdELDRCQUE0Qiw0QkFBNEI7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsMEJBQTBCO0FBQzNDO0FBQ0E7QUFDQSxvQ0FBb0MsR0FBRyxHQUFHLEtBQUs7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsbURBQU0sdUNBQXVDLE9BQU8sYUFBYSwwR0FBMEc7QUFDdk0seUJBQXlCLG1EQUFNO0FBQy9CLGVBQWUsc0RBQU8sQ0FBQyxvREFBUyxrQkFBa0Isa0RBQU87QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCx3QkFBd0IsbURBQU07QUFDOUIsZUFBZSxzREFBTyxDQUFDLG9EQUFTLGtCQUFrQixrREFBTztBQUN6RCxlQUFlLCtDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxvQkFBb0IsMkRBQVE7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsdUNBQXVDLGdEQUFDO0FBQ3hDLHFDQUFxQyxTQUFTO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsbURBQU07QUFDNUIscUJBQXFCLG1EQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGlDQUFpQztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixzREFBTyxDQUFDLG9EQUFTLGtCQUFrQixrREFBTztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLCtDQUFJO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLG1EQUFNO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMkRBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLHFDQUFxQyxnREFBQztBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUssZUFBZSxLQUFLO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLG1EQUFNO0FBQzNCLHFCQUFxQixtREFBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLGVBQWUsZUFBZTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIscUJBQXFCO0FBQ3RDO0FBQ0E7QUFDQSxxQ0FBcUMsS0FBSztBQUMxQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZixpQkFBaUIsd0NBQXdDO0FBQ3pEO0FBQ0EsbUJBQW1CLG1FQUFtRTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBUTtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixnREFBUTtBQUM5QjtBQUNBLHVCQUF1QixnREFBRyxVQUFVLDhCQUE4QjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSwyQkFBMkIsMkRBQVE7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsbURBQVE7QUFDakMsc0JBQXNCLGtEQUFPO0FBQzdCLGFBQWE7QUFDYjtBQUNBLDJDQUEyQyxnREFBQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixtQkFBbUI7QUFDcEM7QUFDQTtBQUNBLHFDQUFxQyxLQUFLLGNBQWMsYUFBYTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixpQkFBaUI7QUFDbEM7QUFDQTtBQUNBLGdDQUFnQyxLQUFLO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLG1CQUFtQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBLCtEQUErRDtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSxLQUFLO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStELDhCQUE4QjtBQUM3RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0Q7QUFDL0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsS0FBSztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDLGdEQUFDO0FBQzVDLGlEQUFpRCxpREFBSyxHQUFHLFdBQVc7QUFDcEUsd0JBQXdCLGdEQUFDLENBQUMsNERBQVM7QUFDbkM7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnREFBQyxDQUFDLHVFQUF1QjtBQUN2QztBQUNBO0FBQ0EsY0FBYyxnREFBQyxDQUFDLHlFQUF5QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLEtBQUs7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpRUFBaUUsS0FBSztBQUN0RTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2NyZWRlbnRpYWxpbmcuanM/NDNlOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbnRlcmFjdCwgbWVzc2FnaXplIH0gZnJvbSBcIi4uL2NvcmUvZXZlbnRpbmcuanNcIjtcbmltcG9ydCB7IHZkciB9IGZyb20gXCIuLi9jb3JlL3ZkcmluZy5qc1wiO1xuaW1wb3J0IHsgYiwgZCwgUHJvdG9jb2xzLCBJbGtzLCBTZXJpYWxzLCB2ZXJzaWZ5LCBWcnNuXzFfMCwgfSBmcm9tIFwiLi4vY29yZS9jb3JlLmpzXCI7XG5pbXBvcnQgeyBTYWlkZXIgfSBmcm9tIFwiLi4vY29yZS9zYWlkZXIuanNcIjtcbmltcG9ydCB7IFNlcmRlciB9IGZyb20gXCIuLi9jb3JlL3NlcmRlci5qc1wiO1xuaW1wb3J0IHsgU2lnZXIgfSBmcm9tIFwiLi4vY29yZS9zaWdlci5qc1wiO1xuaW1wb3J0IHsgVHJhaXREZXggfSBmcm9tIFwiLi9oYWJlcnkuanNcIjtcbmltcG9ydCB7IHNlcmlhbGl6ZUFDRENBdHRhY2htZW50LCBzZXJpYWxpemVJc3NFeG5BdHRhY2htZW50LCB9IGZyb20gXCIuLi9jb3JlL3V0aWxzLmpzXCI7XG4vKiogVHlwZXMgb2YgY3JlZGVudGlhbHMgKi9cbmV4cG9ydCBjbGFzcyBDcmVkZW50aWFsVHlwZXMge1xufVxuQ3JlZGVudGlhbFR5cGVzLmlzc3VlZCA9ICdpc3N1ZWQnO1xuQ3JlZGVudGlhbFR5cGVzLnJlY2VpdmVkID0gJ3JlY2VpdmVkJztcbi8qKlxuICogQ3JlZGVudGlhbHNcbiAqL1xuZXhwb3J0IGNsYXNzIENyZWRlbnRpYWxzIHtcbiAgICAvKipcbiAgICAgKiBDcmVkZW50aWFsc1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IGNyZWRlbnRpYWxzXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtDcmVkZW50aWFsRmlsdGVyfSBba2FyZ3NdIE9wdGlvbmFsIHBhcmFtZXRlcnMgdG8gZmlsdGVyIHRoZSBjcmVkZW50aWFsc1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENyZWRlbnRpYWxSZXN1bHRbXT59IEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiBjcmVkZW50aWFsc1xuICAgICAqL1xuICAgIGFzeW5jIGxpc3Qoa2FyZ3MgPSB7fSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9jcmVkZW50aWFscy9xdWVyeWA7XG4gICAgICAgIGNvbnN0IGZpbHRyID0ga2FyZ3MuZmlsdGVyID09PSB1bmRlZmluZWQgPyB7fSA6IGthcmdzLmZpbHRlcjtcbiAgICAgICAgY29uc3Qgc29ydCA9IGthcmdzLnNvcnQgPT09IHVuZGVmaW5lZCA/IFtdIDoga2FyZ3Muc29ydDtcbiAgICAgICAgY29uc3QgbGltaXQgPSBrYXJncy5saW1pdCA9PT0gdW5kZWZpbmVkID8gMjUgOiBrYXJncy5saW1pdDtcbiAgICAgICAgY29uc3Qgc2tpcCA9IGthcmdzLnNraXAgPT09IHVuZGVmaW5lZCA/IDAgOiBrYXJncy5za2lwO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgZmlsdGVyOiBmaWx0cixcbiAgICAgICAgICAgIHNvcnQ6IHNvcnQsXG4gICAgICAgICAgICBza2lwOiBza2lwLFxuICAgICAgICAgICAgbGltaXQ6IGxpbWl0LFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldChzYWlkLCBpbmNsdWRlQ0VTUiA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2NyZWRlbnRpYWxzLyR7c2FpZH1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IGluY2x1ZGVDRVNSXG4gICAgICAgICAgICA/IG5ldyBIZWFkZXJzKHsgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbitjZXNyJyB9KVxuICAgICAgICAgICAgOiBuZXcgSGVhZGVycyh7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIG51bGwsIGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gaW5jbHVkZUNFU1IgPyBhd2FpdCByZXMudGV4dCgpIDogYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgY3JlZGVudGlhbCBmcm9tIHRoZSBEQlxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzYWlkIC0gU0FJRCBvZiB0aGUgY3JlZGVudGlhbFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICAgICAqL1xuICAgIGFzeW5jIGRlbGV0ZShzYWlkKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2NyZWRlbnRpYWxzLyR7c2FpZH1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnREVMRVRFJztcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIHN0YXRlIG9mIGEgY3JlZGVudGlhbFxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSByaSAtIG1hbmFnZW1lbnQgcmVnaXN0cnkgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzYWlkIC0gU0FJRCBvZiB0aGUgY3JlZGVudGlhbFxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPENyZWRlbnRpYWxTdGF0ZT59IEEgcHJvbWlzZSB0byB0aGUgY3JlZGVudGlhbCByZWdpc3RyeSBzdGF0ZVxuICAgICAqL1xuICAgIGFzeW5jIHN0YXRlKHJpLCBzYWlkKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL3JlZ2lzdHJpZXMvJHtyaX0vJHtzYWlkfWA7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIG51bGwpO1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNyZWRlbnRpYWwgaW4gdGhlIHNwZWNpZmllZCByZWdpc3RyeSB0byBiZSBHUkFOVGVkIHdpdGggSVBFWCB0byB0aGUgaW50ZW5kZWQgcmVjaXBpZW50XG4gICAgICovXG4gICAgYXN5bmMgaXNzdWUobmFtZSwgYXJncykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBjb25zdCBoYWIgPSBhd2FpdCB0aGlzLmNsaWVudC5pZGVudGlmaWVycygpLmdldChuYW1lKTtcbiAgICAgICAgY29uc3QgZXN0T25seSA9IGhhYi5zdGF0ZS5jICE9PSB1bmRlZmluZWQgJiYgaGFiLnN0YXRlLmMuaW5jbHVkZXMoJ0VPJyk7XG4gICAgICAgIGlmIChlc3RPbmx5KSB7XG4gICAgICAgICAgICAvLyBUT0RPIGltcGxlbWVudCByb3RhdGlvbiBldmVudFxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFc3RhYmxpc2htZW50IG9ubHkgbm90IGltcGxlbWVudGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmNsaWVudC5tYW5hZ2VyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIG1hbmFnZXIgb24gY2xpZW50Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qga2VlcGVyID0gdGhpcy5jbGllbnQubWFuYWdlci5nZXQoaGFiKTtcbiAgICAgICAgY29uc3QgWywgc3ViamVjdF0gPSBTYWlkZXIuc2FpZGlmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oeyBkOiAnJyB9LCBhcmdzLmEpLCB7IGR0OiAoX2EgPSBhcmdzLmEuZHQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdaJywgJzAwMCswMDowMCcpIH0pKTtcbiAgICAgICAgY29uc3QgWywgYWNkY10gPSBTYWlkZXIuc2FpZGlmeSh7XG4gICAgICAgICAgICB2OiB2ZXJzaWZ5KFByb3RvY29scy5BQ0RDLCB1bmRlZmluZWQsIFNlcmlhbHMuSlNPTiwgMCksXG4gICAgICAgICAgICBkOiAnJyxcbiAgICAgICAgICAgIHU6IGFyZ3MudSxcbiAgICAgICAgICAgIGk6IChfYiA9IGFyZ3MuaSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogaGFiLnByZWZpeCxcbiAgICAgICAgICAgIHJpOiBhcmdzLnJpLFxuICAgICAgICAgICAgczogYXJncy5zLFxuICAgICAgICAgICAgYTogc3ViamVjdCxcbiAgICAgICAgICAgIGU6IGFyZ3MuZSxcbiAgICAgICAgICAgIHI6IGFyZ3MucixcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IFssIGlzc10gPSBTYWlkZXIuc2FpZGlmeSh7XG4gICAgICAgICAgICB2OiB2ZXJzaWZ5KFByb3RvY29scy5LRVJJLCB1bmRlZmluZWQsIFNlcmlhbHMuSlNPTiwgMCksXG4gICAgICAgICAgICB0OiBJbGtzLmlzcyxcbiAgICAgICAgICAgIGQ6ICcnLFxuICAgICAgICAgICAgaTogYWNkYy5kLFxuICAgICAgICAgICAgczogJzAnLFxuICAgICAgICAgICAgcmk6IGFyZ3MucmksXG4gICAgICAgICAgICBkdDogc3ViamVjdC5kdCxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IHNuID0gcGFyc2VJbnQoaGFiLnN0YXRlLnMsIDE2KTtcbiAgICAgICAgY29uc3QgYW5jID0gaW50ZXJhY3Qoe1xuICAgICAgICAgICAgcHJlOiBoYWIucHJlZml4LFxuICAgICAgICAgICAgc246IHNuICsgMSxcbiAgICAgICAgICAgIGRhdGE6IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGk6IGlzcy5pLFxuICAgICAgICAgICAgICAgICAgICBzOiBpc3MucyxcbiAgICAgICAgICAgICAgICAgICAgZDogaXNzLmQsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBkaWc6IGhhYi5zdGF0ZS5kLFxuICAgICAgICAgICAgdmVyc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAga2luZDogdW5kZWZpbmVkLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgc2lncyA9IGF3YWl0IGtlZXBlci5zaWduKGIoYW5jLnJhdykpO1xuICAgICAgICBjb25zdCBwYXRoID0gYC9pZGVudGlmaWVycy8ke2hhYi5uYW1lfS9jcmVkZW50aWFsc2A7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGFjZGM6IGFjZGMsXG4gICAgICAgICAgICBpc3M6IGlzcyxcbiAgICAgICAgICAgIGl4bjogYW5jLnNhZCxcbiAgICAgICAgICAgIHNpZ3MsXG4gICAgICAgICAgICBba2VlcGVyLmFsZ29dOiBrZWVwZXIucGFyYW1zKCksXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgYm9keSk7XG4gICAgICAgIGNvbnN0IG9wID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjZGM6IG5ldyBTZXJkZXIoYWNkYyksXG4gICAgICAgICAgICBpc3M6IG5ldyBTZXJkZXIoaXNzKSxcbiAgICAgICAgICAgIGFuYyxcbiAgICAgICAgICAgIG9wLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXZva2UgY3JlZGVudGlhbFxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIE5hbWUgb3IgYWxpYXMgb2YgdGhlIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2FpZCBTQUlEIG9mIHRoZSBjcmVkZW50aWFsXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGRhdGV0aW1lIGRhdGUgdGltZSBvZiByZXZvY2F0aW9uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8UmV2b2tlQ3JlZGVudGlhbFJlc3VsdD59IEEgcHJvbWlzZSB0byB0aGUgbG9uZy1ydW5uaW5nIG9wZXJhdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHJldm9rZShuYW1lLCBzYWlkLCBkYXRldGltZSkge1xuICAgICAgICBjb25zdCBoYWIgPSBhd2FpdCB0aGlzLmNsaWVudC5pZGVudGlmaWVycygpLmdldChuYW1lKTtcbiAgICAgICAgY29uc3QgcHJlID0gaGFiLnByZWZpeDtcbiAgICAgICAgY29uc3QgdnMgPSB2ZXJzaWZ5KFByb3RvY29scy5LRVJJLCB1bmRlZmluZWQsIFNlcmlhbHMuSlNPTiwgMCk7XG4gICAgICAgIGNvbnN0IGR0ID0gZGF0ZXRpbWUgIT09IG51bGwgJiYgZGF0ZXRpbWUgIT09IHZvaWQgMCA/IGRhdGV0aW1lIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnJlcGxhY2UoJ1onLCAnMDAwKzAwOjAwJyk7XG4gICAgICAgIGNvbnN0IGNyZWQgPSBhd2FpdCB0aGlzLmdldChzYWlkKTtcbiAgICAgICAgbGV0IHJlZ2lzdHJ5SWQ7XG4gICAgICAgIGlmICgncmknIGluIGNyZWQuc2FkICYmIGNyZWQuc2FkLnJpICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlZ2lzdHJ5SWQgPSBjcmVkLnNhZC5yaTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICgncmQnIGluIGNyZWQuc2FkICYmIGNyZWQuc2FkLnJkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJlZ2lzdHJ5SWQgPSBjcmVkLnNhZC5yZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTmVpdGhlciByaSBub3IgcmQgcHJvcGVydHkgZm91bmQgaW4gY3JlZGVudGlhbCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENyZWF0ZSByZXZcbiAgICAgICAgY29uc3QgX3JldiA9IHtcbiAgICAgICAgICAgIHY6IHZzLFxuICAgICAgICAgICAgdDogSWxrcy5yZXYsXG4gICAgICAgICAgICBkOiAnJyxcbiAgICAgICAgICAgIGk6IHNhaWQsXG4gICAgICAgICAgICBzOiAnMScsXG4gICAgICAgICAgICByaTogcmVnaXN0cnlJZCxcbiAgICAgICAgICAgIHA6IGNyZWQuc3RhdHVzLmQsXG4gICAgICAgICAgICBkdDogZHQsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IFssIHJldl0gPSBTYWlkZXIuc2FpZGlmeShfcmV2KTtcbiAgICAgICAgLy8gY3JlYXRlIGl4blxuICAgICAgICBsZXQgaXhuID0ge307XG4gICAgICAgIGxldCBzaWdzID0gW107XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGFiLnN0YXRlO1xuICAgICAgICBpZiAoc3RhdGUuYyAhPT0gdW5kZWZpbmVkICYmIHN0YXRlLmMuaW5jbHVkZXMoJ0VPJykpIHtcbiAgICAgICAgICAgIHZhciBlc3RPbmx5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZhciBlc3RPbmx5ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc24gPSBwYXJzZUludChzdGF0ZS5zLCAxNik7XG4gICAgICAgIGNvbnN0IGRpZyA9IHN0YXRlLmQ7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaTogcmV2LmksXG4gICAgICAgICAgICAgICAgczogcmV2LnMsXG4gICAgICAgICAgICAgICAgZDogcmV2LmQsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdO1xuICAgICAgICBjb25zdCBrZWVwZXIgPSB0aGlzLmNsaWVudC5tYW5hZ2VyLmdldChoYWIpO1xuICAgICAgICBpZiAoZXN0T25seSkge1xuICAgICAgICAgICAgLy8gVE9ETyBpbXBsZW1lbnQgcm90YXRpb24gZXZlbnRcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRXN0YWJsaXNobWVudCBvbmx5IG5vdCBpbXBsZW1lbnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3Qgc2VyZGVyID0gaW50ZXJhY3Qoe1xuICAgICAgICAgICAgICAgIHByZTogcHJlLFxuICAgICAgICAgICAgICAgIHNuOiBzbiArIDEsXG4gICAgICAgICAgICAgICAgZGF0YTogZGF0YSxcbiAgICAgICAgICAgICAgICBkaWc6IGRpZyxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAga2luZDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzaWdzID0gYXdhaXQga2VlcGVyLnNpZ24oYihzZXJkZXIucmF3KSk7XG4gICAgICAgICAgICBpeG4gPSBzZXJkZXIuc2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICByZXY6IHJldixcbiAgICAgICAgICAgIGl4bjogaXhuLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIFtrZWVwZXIuYWxnb106IGtlZXBlci5wYXJhbXMoKSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvaWRlbnRpZmllcnMvJHtuYW1lfS9jcmVkZW50aWFscy8ke3NhaWR9YDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgYm9keSk7XG4gICAgICAgIGNvbnN0IG9wID0gYXdhaXQgcmVzLmpzb24oKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJldjogbmV3IFNlcmRlcihyZXYpLFxuICAgICAgICAgICAgYW5jOiBuZXcgU2VyZGVyKGl4biksXG4gICAgICAgICAgICBvcCxcbiAgICAgICAgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmVnaXN0cnlSZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKHJlZ3Nlciwgc2VyZGVyLCBzaWdzLCBwcm9taXNlKSB7XG4gICAgICAgIHRoaXMuX3JlZ3NlciA9IHJlZ3NlcjtcbiAgICAgICAgdGhpcy5fc2VyZGVyID0gc2VyZGVyO1xuICAgICAgICB0aGlzLl9zaWdzID0gc2lncztcbiAgICAgICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB9XG4gICAgZ2V0IHJlZ3NlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZ3NlcjtcbiAgICB9XG4gICAgZ2V0IHNlcmRlcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcmRlcjtcbiAgICB9XG4gICAgZ2V0IHNpZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaWdzO1xuICAgIH1cbiAgICBhc3luYyBvcCgpIHtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5wcm9taXNlO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG59XG4vKipcbiAqIFJlZ2lzdHJpZXNcbiAqL1xuZXhwb3J0IGNsYXNzIFJlZ2lzdHJpZXMge1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdHJpZXNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCByZWdpc3RyaWVzXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG5hbWUgTmFtZSBvciBhbGlhcyBvZiB0aGUgaWRlbnRpZmllclxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lzdHJ5W10+fSBBIHByb21pc2UgdG8gdGhlIGxpc3Qgb2YgcmVnaXN0cmllc1xuICAgICAqL1xuICAgIGFzeW5jIGxpc3QobmFtZSkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9pZGVudGlmaWVycy8ke25hbWV9L3JlZ2lzdHJpZXNgO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnR0VUJztcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBudWxsKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHJlcy5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHJlZ2lzdHJ5XG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtDcmVhdGVSZWdpc3RyeUFyZ3N9XG4gICAgICogQHJldHVybnMge1Byb21pc2U8W2FueSwgU2VyZGVyLCBhbnlbXSwgb2JqZWN0XT4gfSBBIHByb21pc2UgdG8gdGhlIGxvbmctcnVubmluZyBvcGVyYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGUoeyBuYW1lLCByZWdpc3RyeU5hbWUsIG5vQmFja2VycyA9IHRydWUsIHRvYWQgPSAwLCBiYWtzID0gW10sIG5vbmNlLCB9KSB7XG4gICAgICAgIGNvbnN0IGhhYiA9IGF3YWl0IHRoaXMuY2xpZW50LmlkZW50aWZpZXJzKCkuZ2V0KG5hbWUpO1xuICAgICAgICBjb25zdCBwcmUgPSBoYWIucHJlZml4O1xuICAgICAgICBjb25zdCBjbmZnID0gW107XG4gICAgICAgIGlmIChub0JhY2tlcnMpIHtcbiAgICAgICAgICAgIGNuZmcucHVzaChUcmFpdERleC5Ob0JhY2tlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHN0YXRlID0gaGFiLnN0YXRlO1xuICAgICAgICBjb25zdCBlc3RPbmx5ID0gc3RhdGUuYyAhPT0gdW5kZWZpbmVkICYmIHN0YXRlLmMuaW5jbHVkZXMoJ0VPJyk7XG4gICAgICAgIGlmIChlc3RPbmx5KSB7XG4gICAgICAgICAgICBjbmZnLnB1c2goVHJhaXREZXguRXN0T25seSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVnc2VyID0gdmRyLmluY2VwdCh7IHByZSwgYmFrcywgdG9hZCwgbm9uY2UsIGNuZmcgfSk7XG4gICAgICAgIGlmIChlc3RPbmx5KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2VzdGFibGlzaG1lbnQgb25seSBub3QgaW1wbGVtZW50ZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gaGFiLnN0YXRlO1xuICAgICAgICAgICAgY29uc3Qgc24gPSBwYXJzZUludChzdGF0ZS5zLCAxNik7XG4gICAgICAgICAgICBjb25zdCBkaWcgPSBzdGF0ZS5kO1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IFtcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGk6IHJlZ3Nlci5wcmUsXG4gICAgICAgICAgICAgICAgICAgIHM6ICcwJyxcbiAgICAgICAgICAgICAgICAgICAgZDogcmVnc2VyLnByZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIGNvbnN0IHNlcmRlciA9IGludGVyYWN0KHtcbiAgICAgICAgICAgICAgICBwcmU6IHByZSxcbiAgICAgICAgICAgICAgICBzbjogc24gKyAxLFxuICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgICAgICAgICAgZGlnOiBkaWcsXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogVnJzbl8xXzAsXG4gICAgICAgICAgICAgICAga2luZDogU2VyaWFscy5KU09OLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBrZWVwZXIgPSB0aGlzLmNsaWVudC5tYW5hZ2VyLmdldChoYWIpO1xuICAgICAgICAgICAgY29uc3Qgc2lncyA9IGF3YWl0IGtlZXBlci5zaWduKGIoc2VyZGVyLnJhdykpO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gdGhpcy5jcmVhdGVGcm9tRXZlbnRzKGhhYiwgbmFtZSwgcmVnaXN0cnlOYW1lLCByZWdzZXIuc2FkLCBzZXJkZXIuc2FkLCBzaWdzKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnaXN0cnlSZXN1bHQocmVnc2VyLCBzZXJkZXIsIHNpZ3MsIHJlcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY3JlYXRlRnJvbUV2ZW50cyhoYWIsIG5hbWUsIHJlZ2lzdHJ5TmFtZSwgdmNwLCBpeG4sIHNpZ3MpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvaWRlbnRpZmllcnMvJHtuYW1lfS9yZWdpc3RyaWVzYDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgbmFtZTogcmVnaXN0cnlOYW1lLFxuICAgICAgICAgICAgdmNwOiB2Y3AsXG4gICAgICAgICAgICBpeG46IGl4bixcbiAgICAgICAgICAgIHNpZ3M6IHNpZ3MsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGtlZXBlciA9IHRoaXMuY2xpZW50Lm1hbmFnZXIuZ2V0KGhhYik7XG4gICAgICAgIGRhdGFba2VlcGVyLmFsZ29dID0ga2VlcGVyLnBhcmFtcygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCBkYXRhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVuYW1lIGEgcmVnaXN0cnlcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9yIGFsaWFzIG9mIHRoZSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHJlZ2lzdHJ5TmFtZSBDdXJyZW50IHJlZ2lzdHJ5IG5hbWVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmV3TmFtZSBOZXcgcmVnaXN0cnkgbmFtZVxuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPFJlZ2lzdHJ5Pn0gQSBwcm9taXNlIHRvIHRoZSByZWdpc3RyeSByZWNvcmRcbiAgICAgKi9cbiAgICBhc3luYyByZW5hbWUobmFtZSwgcmVnaXN0cnlOYW1lLCBuZXdOYW1lKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2lkZW50aWZpZXJzLyR7bmFtZX0vcmVnaXN0cmllcy8ke3JlZ2lzdHJ5TmFtZX1gO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnUFVUJztcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIG5hbWU6IG5ld05hbWUsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbi8qKlxuICogU2NoZW1hc1xuICovXG5leHBvcnQgY2xhc3MgU2NoZW1hcyB7XG4gICAgLyoqXG4gICAgICogU2NoZW1hc1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzY2hlbWFcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2FpZCBTQUlEIG9mIHRoZSBzY2hlbWFcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTY2hlbWE+fSBBIHByb21pc2UgdG8gdGhlIHNjaGVtYVxuICAgICAqL1xuICAgIGFzeW5jIGdldChzYWlkKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL3NjaGVtYS8ke3NhaWR9YDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0IHNjaGVtYXNcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxTY2hlbWFbXT59IEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiBzY2hlbWFzXG4gICAgICovXG4gICAgYXN5bmMgbGlzdCgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvc2NoZW1hYDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbi8qKlxuICogSXBleFxuICovXG5leHBvcnQgY2xhc3MgSXBleCB7XG4gICAgLyoqXG4gICAgICogU2NoZW1hc1xuICAgICAqIEBwYXJhbSB7U2lnbmlmeUNsaWVudH0gY2xpZW50XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gSVBFWCBhcHBseSBFWE4gbWVzc2FnZVxuICAgICAqL1xuICAgIGFzeW5jIGFwcGx5KGFyZ3MpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5jbGllbnQuaWRlbnRpZmllcnMoKS5nZXQoYXJncy5zZW5kZXJOYW1lKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIG06IChfYSA9IGFyZ3MubWVzc2FnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycsXG4gICAgICAgICAgICBzOiBhcmdzLnNjaGVtYVNhaWQsXG4gICAgICAgICAgICBhOiAoX2IgPSBhcmdzLmF0dHJpYnV0ZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IHt9LFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRcbiAgICAgICAgICAgIC5leGNoYW5nZXMoKVxuICAgICAgICAgICAgLmNyZWF0ZUV4Y2hhbmdlTWVzc2FnZShoYWIsICcvaXBleC9hcHBseScsIGRhdGEsIHt9LCBhcmdzLnJlY2lwaWVudCwgYXJncy5kYXRldGltZSwgdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgYXN5bmMgc3VibWl0QXBwbHkobmFtZSwgZXhuLCBzaWdzLCByZWNwKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBleG46IGV4bi5zYWQsXG4gICAgICAgICAgICBzaWdzLFxuICAgICAgICAgICAgcmVjOiByZWNwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKGAvaWRlbnRpZmllcnMvJHtuYW1lfS9pcGV4L2FwcGx5YCwgJ1BPU1QnLCBib2R5KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIElQRVggb2ZmZXIgRVhOIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyBvZmZlcihhcmdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5jbGllbnQuaWRlbnRpZmllcnMoKS5nZXQoYXJncy5zZW5kZXJOYW1lKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIG06IChfYSA9IGFyZ3MubWVzc2FnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudFxuICAgICAgICAgICAgLmV4Y2hhbmdlcygpXG4gICAgICAgICAgICAuY3JlYXRlRXhjaGFuZ2VNZXNzYWdlKGhhYiwgJy9pcGV4L29mZmVyJywgZGF0YSwgeyBhY2RjOiBbYXJncy5hY2RjLCB1bmRlZmluZWRdIH0sIGFyZ3MucmVjaXBpZW50LCBhcmdzLmRhdGV0aW1lLCBhcmdzLmFwcGx5U2FpZCk7XG4gICAgfVxuICAgIGFzeW5jIHN1Ym1pdE9mZmVyKG5hbWUsIGV4biwgc2lncywgYXRjLCByZWNwKSB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XG4gICAgICAgICAgICBleG46IGV4bi5zYWQsXG4gICAgICAgICAgICBzaWdzLFxuICAgICAgICAgICAgYXRjLFxuICAgICAgICAgICAgcmVjOiByZWNwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKGAvaWRlbnRpZmllcnMvJHtuYW1lfS9pcGV4L29mZmVyYCwgJ1BPU1QnLCBib2R5KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIElQRVggYWdyZWUgRVhOIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyBhZ3JlZShhcmdzKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgY29uc3QgaGFiID0gYXdhaXQgdGhpcy5jbGllbnQuaWRlbnRpZmllcnMoKS5nZXQoYXJncy5zZW5kZXJOYW1lKTtcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIG06IChfYSA9IGFyZ3MubWVzc2FnZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJycsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudFxuICAgICAgICAgICAgLmV4Y2hhbmdlcygpXG4gICAgICAgICAgICAuY3JlYXRlRXhjaGFuZ2VNZXNzYWdlKGhhYiwgJy9pcGV4L2FncmVlJywgZGF0YSwge30sIGFyZ3MucmVjaXBpZW50LCBhcmdzLmRhdGV0aW1lLCBhcmdzLm9mZmVyU2FpZCk7XG4gICAgfVxuICAgIGFzeW5jIHN1Ym1pdEFncmVlKG5hbWUsIGV4biwgc2lncywgcmVjcCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZXhuOiBleG4uc2FkLFxuICAgICAgICAgICAgc2lncyxcbiAgICAgICAgICAgIHJlYzogcmVjcCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChgL2lkZW50aWZpZXJzLyR7bmFtZX0vaXBleC9hZ3JlZWAsICdQT1NUJywgYm9keSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBJUEVYIGdyYW50IEVYTiBtZXNzYWdlXG4gICAgICovXG4gICAgYXN5bmMgZ3JhbnQoYXJncykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGhhYiA9IGF3YWl0IHRoaXMuY2xpZW50LmlkZW50aWZpZXJzKCkuZ2V0KGFyZ3Muc2VuZGVyTmFtZSk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7XG4gICAgICAgICAgICBtOiAoX2EgPSBhcmdzLm1lc3NhZ2UpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICcnLFxuICAgICAgICB9O1xuICAgICAgICBsZXQgYXRjID0gYXJncy5hbmNBdHRhY2htZW50O1xuICAgICAgICBpZiAoYXRjID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGtlZXBlciA9IHRoaXMuY2xpZW50Lm1hbmFnZXIuZ2V0KGhhYik7XG4gICAgICAgICAgICBjb25zdCBzaWdzID0gYXdhaXQga2VlcGVyLnNpZ24oYihhcmdzLmFuYy5yYXcpKTtcbiAgICAgICAgICAgIGNvbnN0IHNpZ2VycyA9IHNpZ3MubWFwKChzaWcpID0+IG5ldyBTaWdlcih7IHFiNjQ6IHNpZyB9KSk7XG4gICAgICAgICAgICBjb25zdCBpbXMgPSBkKG1lc3NhZ2l6ZShhcmdzLmFuYywgc2lnZXJzKSk7XG4gICAgICAgICAgICBhdGMgPSBpbXMuc3Vic3RyaW5nKGFyZ3MuYW5jLnNpemUpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFjZGNBdGMgPSBhcmdzLmFjZGNBdHRhY2htZW50ID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgID8gZChzZXJpYWxpemVBQ0RDQXR0YWNobWVudChhcmdzLmlzcykpXG4gICAgICAgICAgICA6IGFyZ3MuYWNkY0F0dGFjaG1lbnQ7XG4gICAgICAgIGNvbnN0IGlzc0F0YyA9IGFyZ3MuaXNzQXR0YWNobWVudCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGQoc2VyaWFsaXplSXNzRXhuQXR0YWNobWVudChhcmdzLmFuYykpXG4gICAgICAgICAgICA6IGFyZ3MuaXNzQXR0YWNobWVudDtcbiAgICAgICAgY29uc3QgZW1iZWRzID0ge1xuICAgICAgICAgICAgYWNkYzogW2FyZ3MuYWNkYywgYWNkY0F0Y10sXG4gICAgICAgICAgICBpc3M6IFthcmdzLmlzcywgaXNzQXRjXSxcbiAgICAgICAgICAgIGFuYzogW2FyZ3MuYW5jLCBhdGNdLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRcbiAgICAgICAgICAgIC5leGNoYW5nZXMoKVxuICAgICAgICAgICAgLmNyZWF0ZUV4Y2hhbmdlTWVzc2FnZShoYWIsICcvaXBleC9ncmFudCcsIGRhdGEsIGVtYmVkcywgYXJncy5yZWNpcGllbnQsIGFyZ3MuZGF0ZXRpbWUsIGFyZ3MuYWdyZWVTYWlkKTtcbiAgICB9XG4gICAgYXN5bmMgc3VibWl0R3JhbnQobmFtZSwgZXhuLCBzaWdzLCBhdGMsIHJlY3ApIHtcbiAgICAgICAgY29uc3QgYm9keSA9IHtcbiAgICAgICAgICAgIGV4bjogZXhuLnNhZCxcbiAgICAgICAgICAgIHNpZ3M6IHNpZ3MsXG4gICAgICAgICAgICBhdGM6IGF0YyxcbiAgICAgICAgICAgIHJlYzogcmVjcCxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChgL2lkZW50aWZpZXJzLyR7bmFtZX0vaXBleC9ncmFudGAsICdQT1NUJywgYm9keSk7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBJUEVYIGFkbWl0IEVYTiBtZXNzYWdlXG4gICAgICovXG4gICAgYXN5bmMgYWRtaXQoYXJncykge1xuICAgICAgICBjb25zdCBoYWIgPSBhd2FpdCB0aGlzLmNsaWVudC5pZGVudGlmaWVycygpLmdldChhcmdzLnNlbmRlck5hbWUpO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgbTogYXJncy5tZXNzYWdlLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnRcbiAgICAgICAgICAgIC5leGNoYW5nZXMoKVxuICAgICAgICAgICAgLmNyZWF0ZUV4Y2hhbmdlTWVzc2FnZShoYWIsICcvaXBleC9hZG1pdCcsIGRhdGEsIHt9LCBhcmdzLnJlY2lwaWVudCwgYXJncy5kYXRldGltZSwgYXJncy5ncmFudFNhaWQpO1xuICAgIH1cbiAgICBhc3luYyBzdWJtaXRBZG1pdChuYW1lLCBleG4sIHNpZ3MsIGF0YywgcmVjcCkge1xuICAgICAgICBjb25zdCBib2R5ID0ge1xuICAgICAgICAgICAgZXhuOiBleG4uc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIGF0YzogYXRjLFxuICAgICAgICAgICAgcmVjOiByZWNwLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKGAvaWRlbnRpZmllcnMvJHtuYW1lfS9pcGV4L2FkbWl0YCwgJ1BPU1QnLCBib2R5KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/credentialing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/delegating.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/delegating.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Delegations: () => (/* binding */ Delegations)\n/* harmony export */ });\n/* harmony import */ var _aiding_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./aiding.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/aiding.js\");\n\nclass Delegations {\n    /**\n     * Delegations\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Approve the delegation via interaction event\n     * @async\n     * @param {string} name Name or alias of the identifier\n     * @param {any} [data] The anchoring interaction event\n     * @returns {Promise<EventResult>} A promise to the delegated approval result\n     */\n    async approve(name, data) {\n        const { serder, sigs, jsondata } = await this.client\n            .identifiers()\n            .createInteract(name, data);\n        const res = await this.client.fetch('/identifiers/' + name + '/delegation', 'POST', jsondata);\n        return new _aiding_js__WEBPACK_IMPORTED_MODULE_0__.EventResult(serder, sigs, res);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2RlbGVnYXRpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7QUFDbkM7QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixpQkFBaUIsc0JBQXNCO0FBQ3ZDO0FBQ0E7QUFDQSxnQkFBZ0IseUJBQXlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixtREFBVztBQUM5QjtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2FwcC9kZWxlZ2F0aW5nLmpzP2E3MGYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnRSZXN1bHQgfSBmcm9tIFwiLi9haWRpbmcuanNcIjtcbmV4cG9ydCBjbGFzcyBEZWxlZ2F0aW9ucyB7XG4gICAgLyoqXG4gICAgICogRGVsZWdhdGlvbnNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwcm92ZSB0aGUgZGVsZWdhdGlvbiB2aWEgaW50ZXJhY3Rpb24gZXZlbnRcbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbmFtZSBOYW1lIG9yIGFsaWFzIG9mIHRoZSBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHthbnl9IFtkYXRhXSBUaGUgYW5jaG9yaW5nIGludGVyYWN0aW9uIGV2ZW50XG4gICAgICogQHJldHVybnMge1Byb21pc2U8RXZlbnRSZXN1bHQ+fSBBIHByb21pc2UgdG8gdGhlIGRlbGVnYXRlZCBhcHByb3ZhbCByZXN1bHRcbiAgICAgKi9cbiAgICBhc3luYyBhcHByb3ZlKG5hbWUsIGRhdGEpIHtcbiAgICAgICAgY29uc3QgeyBzZXJkZXIsIHNpZ3MsIGpzb25kYXRhIH0gPSBhd2FpdCB0aGlzLmNsaWVudFxuICAgICAgICAgICAgLmlkZW50aWZpZXJzKClcbiAgICAgICAgICAgIC5jcmVhdGVJbnRlcmFjdChuYW1lLCBkYXRhKTtcbiAgICAgICAgY29uc3QgcmVzID0gYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2goJy9pZGVudGlmaWVycy8nICsgbmFtZSArICcvZGVsZWdhdGlvbicsICdQT1NUJywganNvbmRhdGEpO1xuICAgICAgICByZXR1cm4gbmV3IEV2ZW50UmVzdWx0KHNlcmRlciwgc2lncywgcmVzKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/delegating.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/escrowing.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/escrowing.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Escrows: () => (/* binding */ Escrows)\n/* harmony export */ });\n/**\n * Escrows\n */\nclass Escrows {\n    /**\n     * Escrows\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List replay messages\n     * @async\n     * @param {string} [route] Optional route in the replay message\n     * @returns {Promise<any>} A promise to the list of replay messages\n     */\n    async listReply(route) {\n        const params = new URLSearchParams();\n        if (route !== undefined) {\n            params.append('route', route);\n        }\n        const path = `/escrows/rpy` + '?' + params.toString();\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2VzY3Jvd2luZy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EsZUFBZSxlQUFlO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9hcHAvZXNjcm93aW5nLmpzP2RhMGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBFc2Nyb3dzXG4gKi9cbmV4cG9ydCBjbGFzcyBFc2Nyb3dzIHtcbiAgICAvKipcbiAgICAgKiBFc2Nyb3dzXG4gICAgICogQHBhcmFtIHtTaWduaWZ5Q2xpZW50fSBjbGllbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgcmVwbGF5IG1lc3NhZ2VzXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtyb3V0ZV0gT3B0aW9uYWwgcm91dGUgaW4gdGhlIHJlcGxheSBtZXNzYWdlXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBsaXN0IG9mIHJlcGxheSBtZXNzYWdlc1xuICAgICAqL1xuICAgIGFzeW5jIGxpc3RSZXBseShyb3V0ZSkge1xuICAgICAgICBjb25zdCBwYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gICAgICAgIGlmIChyb3V0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBwYXJhbXMuYXBwZW5kKCdyb3V0ZScsIHJvdXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXRoID0gYC9lc2Nyb3dzL3JweWAgKyAnPycgKyBwYXJhbXMudG9TdHJpbmcoKTtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/escrowing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/exchanging.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/exchanging.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Exchanges: () => (/* binding */ Exchanges),\n/* harmony export */   exchange: () => (/* binding */ exchange)\n/* harmony export */ });\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _core_serder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _core_utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n/* harmony import */ var _core_pather_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/pather.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/pather.js\");\n/* harmony import */ var _core_counter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/counter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js\");\n/* harmony import */ var _core_saider_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/saider.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\");\n\n\n\n\n\n\n/**\n * Exchanges\n */\nclass Exchanges {\n    /**\n     * Exchanges\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Create exn message\n     * @async\n     * @returns {Promise<any>} A promise to the list of replay messages\n     * @param sender\n     * @param route\n     * @param payload\n     * @param embeds\n     * @param recipient\n     * @param datetime\n     * @param dig\n     */\n    async createExchangeMessage(sender, route, payload, embeds, recipient, datetime, dig) {\n        const keeper = this.client.manager.get(sender);\n        const [exn, end] = exchange(route, payload, sender['prefix'], recipient, datetime, dig, undefined, embeds);\n        const sigs = await keeper.sign((0,_core_core_js__WEBPACK_IMPORTED_MODULE_0__.b)(exn.raw));\n        return [exn, sigs, (0,_core_core_js__WEBPACK_IMPORTED_MODULE_0__.d)(end)];\n    }\n    /**\n     * Send exn messages to list of recipients\n     * @async\n     * @returns {Promise<any>} A promise to the list of replay messages\n     * @param name\n     * @param topic\n     * @param sender\n     * @param route\n     * @param payload\n     * @param embeds\n     * @param recipients\n     */\n    async send(name, topic, sender, route, payload, embeds, recipients) {\n        for (const recipient of recipients) {\n            const [exn, sigs, atc] = await this.createExchangeMessage(sender, route, payload, embeds, recipient);\n            return await this.sendFromEvents(name, topic, exn, sigs, atc, recipients);\n        }\n    }\n    /**\n     * Send exn messaget to list of recipients\n     * @async\n     * @returns {Promise<any>} A promise to the list of replay messages\n     * @param name\n     * @param topic\n     * @param exn\n     * @param sigs\n     * @param atc\n     * @param recipients\n     */\n    async sendFromEvents(name, topic, exn, sigs, atc, recipients) {\n        const path = `/identifiers/${name}/exchanges`;\n        const method = 'POST';\n        const data = {\n            tpc: topic,\n            exn: exn.sad,\n            sigs: sigs,\n            atc: atc,\n            rec: recipients,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Get exn message by said\n     * @async\n     * @returns A promise to the exn message\n     * @param said The said of the exn message\n     */\n    async get(said) {\n        const path = `/exchanges/${said}`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n}\nfunction exchange(route, payload, sender, recipient, date, dig, modifiers, embeds) {\n    const vs = (0,_core_core_js__WEBPACK_IMPORTED_MODULE_0__.versify)(_core_core_js__WEBPACK_IMPORTED_MODULE_0__.Protocols.KERI, undefined, _core_core_js__WEBPACK_IMPORTED_MODULE_0__.Serials.JSON, 0);\n    const ilk = _core_core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.exn;\n    const dt = date !== undefined\n        ? date\n        : (0,_core_utils_js__WEBPACK_IMPORTED_MODULE_2__.nowUTC)().toISOString().replace('Z', '000+00:00');\n    const p = dig !== undefined ? dig : '';\n    const q = modifiers !== undefined ? modifiers : {};\n    const ems = embeds != undefined ? embeds : {};\n    let e = {};\n    let end = '';\n    Object.entries(ems).forEach(([key, value]) => {\n        const serder = value[0];\n        const atc = value[1];\n        e[key] = serder.sad;\n        if (atc == undefined) {\n            return;\n        }\n        let pathed = '';\n        const pather = new _core_pather_js__WEBPACK_IMPORTED_MODULE_3__.Pather({}, undefined, ['e', key]);\n        pathed += pather.qb64;\n        pathed += atc;\n        const counter = new _core_counter_js__WEBPACK_IMPORTED_MODULE_4__.Counter({\n            code: _core_counter_js__WEBPACK_IMPORTED_MODULE_4__.CtrDex.PathedMaterialQuadlets,\n            count: Math.floor(pathed.length / 4),\n        });\n        end += counter.qb64;\n        end += pathed;\n    });\n    if (Object.keys(e).length > 0) {\n        e['d'] = '';\n        [, e] = _core_saider_js__WEBPACK_IMPORTED_MODULE_5__.Saider.saidify(e);\n    }\n    const attrs = {};\n    attrs['i'] = recipient;\n    const a = Object.assign(Object.assign({}, attrs), payload);\n    const _sad = {\n        v: vs,\n        t: ilk,\n        d: '',\n        i: sender,\n        rp: recipient,\n        p: p,\n        dt: dt,\n        r: route,\n        q: q,\n        a: a,\n        e: e,\n    };\n    const [, sad] = _core_saider_js__WEBPACK_IMPORTED_MODULE_5__.Saider.saidify(_sad);\n    const exn = new _core_serder_js__WEBPACK_IMPORTED_MODULE_1__.Serder(sad);\n    return [exn, (0,_core_core_js__WEBPACK_IMPORTED_MODULE_0__.b)(end)];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2V4Y2hhbmdpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBMEU7QUFDL0I7QUFDRDtBQUNDO0FBQ1U7QUFDVjtBQUMzQztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGdEQUFDO0FBQ3hDLDJCQUEyQixnREFBQztBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsY0FBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLEtBQUs7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZUFBZSxzREFBTyxDQUFDLG9EQUFTLGtCQUFrQixrREFBTztBQUN6RCxnQkFBZ0IsK0NBQUk7QUFDcEI7QUFDQTtBQUNBLFVBQVUsc0RBQU07QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsbURBQU0sR0FBRztBQUNwQztBQUNBO0FBQ0EsNEJBQTRCLHFEQUFPO0FBQ25DLGtCQUFrQixvREFBTTtBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxnQkFBZ0IsbURBQU07QUFDdEI7QUFDQTtBQUNBO0FBQ0EsNENBQTRDO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG1EQUFNO0FBQzFCLG9CQUFvQixtREFBTTtBQUMxQixpQkFBaUIsZ0RBQUM7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2V4Y2hhbmdpbmcuanM/OWE4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBiLCBkLCBQcm90b2NvbHMsIElsa3MsIFNlcmlhbHMsIHZlcnNpZnkgfSBmcm9tIFwiLi4vY29yZS9jb3JlLmpzXCI7XG5pbXBvcnQgeyBTZXJkZXIgfSBmcm9tIFwiLi4vY29yZS9zZXJkZXIuanNcIjtcbmltcG9ydCB7IG5vd1VUQyB9IGZyb20gXCIuLi9jb3JlL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBQYXRoZXIgfSBmcm9tIFwiLi4vY29yZS9wYXRoZXIuanNcIjtcbmltcG9ydCB7IENvdW50ZXIsIEN0ckRleCB9IGZyb20gXCIuLi9jb3JlL2NvdW50ZXIuanNcIjtcbmltcG9ydCB7IFNhaWRlciB9IGZyb20gXCIuLi9jb3JlL3NhaWRlci5qc1wiO1xuLyoqXG4gKiBFeGNoYW5nZXNcbiAqL1xuZXhwb3J0IGNsYXNzIEV4Y2hhbmdlcyB7XG4gICAgLyoqXG4gICAgICogRXhjaGFuZ2VzXG4gICAgICogQHBhcmFtIHtTaWduaWZ5Q2xpZW50fSBjbGllbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBleG4gbWVzc2FnZVxuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiByZXBsYXkgbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0gc2VuZGVyXG4gICAgICogQHBhcmFtIHJvdXRlXG4gICAgICogQHBhcmFtIHBheWxvYWRcbiAgICAgKiBAcGFyYW0gZW1iZWRzXG4gICAgICogQHBhcmFtIHJlY2lwaWVudFxuICAgICAqIEBwYXJhbSBkYXRldGltZVxuICAgICAqIEBwYXJhbSBkaWdcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVFeGNoYW5nZU1lc3NhZ2Uoc2VuZGVyLCByb3V0ZSwgcGF5bG9hZCwgZW1iZWRzLCByZWNpcGllbnQsIGRhdGV0aW1lLCBkaWcpIHtcbiAgICAgICAgY29uc3Qga2VlcGVyID0gdGhpcy5jbGllbnQubWFuYWdlci5nZXQoc2VuZGVyKTtcbiAgICAgICAgY29uc3QgW2V4biwgZW5kXSA9IGV4Y2hhbmdlKHJvdXRlLCBwYXlsb2FkLCBzZW5kZXJbJ3ByZWZpeCddLCByZWNpcGllbnQsIGRhdGV0aW1lLCBkaWcsIHVuZGVmaW5lZCwgZW1iZWRzKTtcbiAgICAgICAgY29uc3Qgc2lncyA9IGF3YWl0IGtlZXBlci5zaWduKGIoZXhuLnJhdykpO1xuICAgICAgICByZXR1cm4gW2V4biwgc2lncywgZChlbmQpXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBleG4gbWVzc2FnZXMgdG8gbGlzdCBvZiByZWNpcGllbnRzXG4gICAgICogQGFzeW5jXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBsaXN0IG9mIHJlcGxheSBtZXNzYWdlc1xuICAgICAqIEBwYXJhbSBuYW1lXG4gICAgICogQHBhcmFtIHRvcGljXG4gICAgICogQHBhcmFtIHNlbmRlclxuICAgICAqIEBwYXJhbSByb3V0ZVxuICAgICAqIEBwYXJhbSBwYXlsb2FkXG4gICAgICogQHBhcmFtIGVtYmVkc1xuICAgICAqIEBwYXJhbSByZWNpcGllbnRzXG4gICAgICovXG4gICAgYXN5bmMgc2VuZChuYW1lLCB0b3BpYywgc2VuZGVyLCByb3V0ZSwgcGF5bG9hZCwgZW1iZWRzLCByZWNpcGllbnRzKSB7XG4gICAgICAgIGZvciAoY29uc3QgcmVjaXBpZW50IG9mIHJlY2lwaWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IFtleG4sIHNpZ3MsIGF0Y10gPSBhd2FpdCB0aGlzLmNyZWF0ZUV4Y2hhbmdlTWVzc2FnZShzZW5kZXIsIHJvdXRlLCBwYXlsb2FkLCBlbWJlZHMsIHJlY2lwaWVudCk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5zZW5kRnJvbUV2ZW50cyhuYW1lLCB0b3BpYywgZXhuLCBzaWdzLCBhdGMsIHJlY2lwaWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmQgZXhuIG1lc3NhZ2V0IHRvIGxpc3Qgb2YgcmVjaXBpZW50c1xuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IEEgcHJvbWlzZSB0byB0aGUgbGlzdCBvZiByZXBsYXkgbWVzc2FnZXNcbiAgICAgKiBAcGFyYW0gbmFtZVxuICAgICAqIEBwYXJhbSB0b3BpY1xuICAgICAqIEBwYXJhbSBleG5cbiAgICAgKiBAcGFyYW0gc2lnc1xuICAgICAqIEBwYXJhbSBhdGNcbiAgICAgKiBAcGFyYW0gcmVjaXBpZW50c1xuICAgICAqL1xuICAgIGFzeW5jIHNlbmRGcm9tRXZlbnRzKG5hbWUsIHRvcGljLCBleG4sIHNpZ3MsIGF0YywgcmVjaXBpZW50cykge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9pZGVudGlmaWVycy8ke25hbWV9L2V4Y2hhbmdlc2A7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIHRwYzogdG9waWMsXG4gICAgICAgICAgICBleG46IGV4bi5zYWQsXG4gICAgICAgICAgICBzaWdzOiBzaWdzLFxuICAgICAgICAgICAgYXRjOiBhdGMsXG4gICAgICAgICAgICByZWM6IHJlY2lwaWVudHMsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgZGF0YSk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMuanNvbigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgZXhuIG1lc3NhZ2UgYnkgc2FpZFxuICAgICAqIEBhc3luY1xuICAgICAqIEByZXR1cm5zIEEgcHJvbWlzZSB0byB0aGUgZXhuIG1lc3NhZ2VcbiAgICAgKiBAcGFyYW0gc2FpZCBUaGUgc2FpZCBvZiB0aGUgZXhuIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBhc3luYyBnZXQoc2FpZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9leGNoYW5nZXMvJHtzYWlkfWA7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIG51bGwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZXhjaGFuZ2Uocm91dGUsIHBheWxvYWQsIHNlbmRlciwgcmVjaXBpZW50LCBkYXRlLCBkaWcsIG1vZGlmaWVycywgZW1iZWRzKSB7XG4gICAgY29uc3QgdnMgPSB2ZXJzaWZ5KFByb3RvY29scy5LRVJJLCB1bmRlZmluZWQsIFNlcmlhbHMuSlNPTiwgMCk7XG4gICAgY29uc3QgaWxrID0gSWxrcy5leG47XG4gICAgY29uc3QgZHQgPSBkYXRlICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyBkYXRlXG4gICAgICAgIDogbm93VVRDKCkudG9JU09TdHJpbmcoKS5yZXBsYWNlKCdaJywgJzAwMCswMDowMCcpO1xuICAgIGNvbnN0IHAgPSBkaWcgIT09IHVuZGVmaW5lZCA/IGRpZyA6ICcnO1xuICAgIGNvbnN0IHEgPSBtb2RpZmllcnMgIT09IHVuZGVmaW5lZCA/IG1vZGlmaWVycyA6IHt9O1xuICAgIGNvbnN0IGVtcyA9IGVtYmVkcyAhPSB1bmRlZmluZWQgPyBlbWJlZHMgOiB7fTtcbiAgICBsZXQgZSA9IHt9O1xuICAgIGxldCBlbmQgPSAnJztcbiAgICBPYmplY3QuZW50cmllcyhlbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgICBjb25zdCBzZXJkZXIgPSB2YWx1ZVswXTtcbiAgICAgICAgY29uc3QgYXRjID0gdmFsdWVbMV07XG4gICAgICAgIGVba2V5XSA9IHNlcmRlci5zYWQ7XG4gICAgICAgIGlmIChhdGMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBhdGhlZCA9ICcnO1xuICAgICAgICBjb25zdCBwYXRoZXIgPSBuZXcgUGF0aGVyKHt9LCB1bmRlZmluZWQsIFsnZScsIGtleV0pO1xuICAgICAgICBwYXRoZWQgKz0gcGF0aGVyLnFiNjQ7XG4gICAgICAgIHBhdGhlZCArPSBhdGM7XG4gICAgICAgIGNvbnN0IGNvdW50ZXIgPSBuZXcgQ291bnRlcih7XG4gICAgICAgICAgICBjb2RlOiBDdHJEZXguUGF0aGVkTWF0ZXJpYWxRdWFkbGV0cyxcbiAgICAgICAgICAgIGNvdW50OiBNYXRoLmZsb29yKHBhdGhlZC5sZW5ndGggLyA0KSxcbiAgICAgICAgfSk7XG4gICAgICAgIGVuZCArPSBjb3VudGVyLnFiNjQ7XG4gICAgICAgIGVuZCArPSBwYXRoZWQ7XG4gICAgfSk7XG4gICAgaWYgKE9iamVjdC5rZXlzKGUpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZVsnZCddID0gJyc7XG4gICAgICAgIFssIGVdID0gU2FpZGVyLnNhaWRpZnkoZSk7XG4gICAgfVxuICAgIGNvbnN0IGF0dHJzID0ge307XG4gICAgYXR0cnNbJ2knXSA9IHJlY2lwaWVudDtcbiAgICBjb25zdCBhID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBhdHRycyksIHBheWxvYWQpO1xuICAgIGNvbnN0IF9zYWQgPSB7XG4gICAgICAgIHY6IHZzLFxuICAgICAgICB0OiBpbGssXG4gICAgICAgIGQ6ICcnLFxuICAgICAgICBpOiBzZW5kZXIsXG4gICAgICAgIHJwOiByZWNpcGllbnQsXG4gICAgICAgIHA6IHAsXG4gICAgICAgIGR0OiBkdCxcbiAgICAgICAgcjogcm91dGUsXG4gICAgICAgIHE6IHEsXG4gICAgICAgIGE6IGEsXG4gICAgICAgIGU6IGUsXG4gICAgfTtcbiAgICBjb25zdCBbLCBzYWRdID0gU2FpZGVyLnNhaWRpZnkoX3NhZCk7XG4gICAgY29uc3QgZXhuID0gbmV3IFNlcmRlcihzYWQpO1xuICAgIHJldHVybiBbZXhuLCBiKGVuZCldO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/exchanging.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/grouping.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/grouping.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Groups: () => (/* binding */ Groups)\n/* harmony export */ });\n/**\n * Groups\n */\nclass Groups {\n    /**\n     * Groups\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * Get group request messages\n     * @async\n     * @param {string} [said] SAID of exn message to load\n     * @returns {Promise<any>} A promise to the list of replay messages\n     */\n    async getRequest(said) {\n        const path = `/multisig/request/` + said;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null);\n        return await res.json();\n    }\n    /**\n     * Send multisig exn request  messages to other group members\n     * @async\n     * @param {string} [name] human readable name of group AID\n     * @param {Dict<any>} [exn] exn message to send to other members\n     * @param {string[]} [sigs] signature of the participant over the exn\n     * @param {string} [atc] additional attachments from embedded events in exn\n     * @returns {Promise<any>} A promise to the list of replay messages\n     */\n    async sendRequest(name, exn, sigs, atc) {\n        const path = `/identifiers/${name}/multisig/request`;\n        const method = 'POST';\n        const data = {\n            exn: exn,\n            sigs: sigs,\n            atc: atc,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n    /**\n     * Join multisig group using rotation event.\n     * This can be used by participants being asked to contribute keys to a rotation event to join an existing group.\n     * @async\n     * @param {string} [name] human readable name of group AID\n     * @param {any} [rot] rotation event\n     * @param {any} [sigs] signatures\n     * @param {string} [gid] prefix\n     * @param {string[]} [smids] array of particpants\n     * @param {string[]} [rmids] array of particpants\n     * @returns {Promise<any>} A promise to the list of replay messages\n     */\n    async join(name, rot, sigs, //string[],\n    gid, smids, rmids) {\n        const path = `/identifiers/${name}/multisig/join`;\n        const method = 'POST';\n        const data = {\n            tpc: 'multisig',\n            rot: rot.sad,\n            sigs: sigs,\n            gid: gid,\n            smids: smids,\n            rmids: rmids,\n        };\n        const res = await this.client.fetch(path, method, data);\n        return await res.json();\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2dyb3VwaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxXQUFXO0FBQzFCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFFBQVE7QUFDdkIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBLHFDQUFxQyxLQUFLO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsS0FBSztBQUNwQixlQUFlLEtBQUs7QUFDcEIsZUFBZSxRQUFRO0FBQ3ZCLGVBQWUsVUFBVTtBQUN6QixlQUFlLFVBQVU7QUFDekIsaUJBQWlCLGNBQWM7QUFDL0I7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLEtBQUs7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2dyb3VwaW5nLmpzP2ZkNDgiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBHcm91cHNcbiAqL1xuZXhwb3J0IGNsYXNzIEdyb3VwcyB7XG4gICAgLyoqXG4gICAgICogR3JvdXBzXG4gICAgICogQHBhcmFtIHtTaWduaWZ5Q2xpZW50fSBjbGllbnRcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5jbGllbnQgPSBjbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBncm91cCByZXF1ZXN0IG1lc3NhZ2VzXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzYWlkXSBTQUlEIG9mIGV4biBtZXNzYWdlIHRvIGxvYWRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIGxpc3Qgb2YgcmVwbGF5IG1lc3NhZ2VzXG4gICAgICovXG4gICAgYXN5bmMgZ2V0UmVxdWVzdChzYWlkKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL211bHRpc2lnL3JlcXVlc3QvYCArIHNhaWQ7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIG51bGwpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZCBtdWx0aXNpZyBleG4gcmVxdWVzdCAgbWVzc2FnZXMgdG8gb3RoZXIgZ3JvdXAgbWVtYmVyc1xuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gaHVtYW4gcmVhZGFibGUgbmFtZSBvZiBncm91cCBBSURcbiAgICAgKiBAcGFyYW0ge0RpY3Q8YW55Pn0gW2V4bl0gZXhuIG1lc3NhZ2UgdG8gc2VuZCB0byBvdGhlciBtZW1iZXJzXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3NpZ3NdIHNpZ25hdHVyZSBvZiB0aGUgcGFydGljaXBhbnQgb3ZlciB0aGUgZXhuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFthdGNdIGFkZGl0aW9uYWwgYXR0YWNobWVudHMgZnJvbSBlbWJlZGRlZCBldmVudHMgaW4gZXhuXG4gICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gQSBwcm9taXNlIHRvIHRoZSBsaXN0IG9mIHJlcGxheSBtZXNzYWdlc1xuICAgICAqL1xuICAgIGFzeW5jIHNlbmRSZXF1ZXN0KG5hbWUsIGV4biwgc2lncywgYXRjKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSBgL2lkZW50aWZpZXJzLyR7bmFtZX0vbXVsdGlzaWcvcmVxdWVzdGA7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgY29uc3QgZGF0YSA9IHtcbiAgICAgICAgICAgIGV4bjogZXhuLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIGF0YzogYXRjLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIGRhdGEpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSm9pbiBtdWx0aXNpZyBncm91cCB1c2luZyByb3RhdGlvbiBldmVudC5cbiAgICAgKiBUaGlzIGNhbiBiZSB1c2VkIGJ5IHBhcnRpY2lwYW50cyBiZWluZyBhc2tlZCB0byBjb250cmlidXRlIGtleXMgdG8gYSByb3RhdGlvbiBldmVudCB0byBqb2luIGFuIGV4aXN0aW5nIGdyb3VwLlxuICAgICAqIEBhc3luY1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbbmFtZV0gaHVtYW4gcmVhZGFibGUgbmFtZSBvZiBncm91cCBBSURcbiAgICAgKiBAcGFyYW0ge2FueX0gW3JvdF0gcm90YXRpb24gZXZlbnRcbiAgICAgKiBAcGFyYW0ge2FueX0gW3NpZ3NdIHNpZ25hdHVyZXNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2dpZF0gcHJlZml4XG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW3NtaWRzXSBhcnJheSBvZiBwYXJ0aWNwYW50c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IFtybWlkc10gYXJyYXkgb2YgcGFydGljcGFudHNcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIGxpc3Qgb2YgcmVwbGF5IG1lc3NhZ2VzXG4gICAgICovXG4gICAgYXN5bmMgam9pbihuYW1lLCByb3QsIHNpZ3MsIC8vc3RyaW5nW10sXG4gICAgZ2lkLCBzbWlkcywgcm1pZHMpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvaWRlbnRpZmllcnMvJHtuYW1lfS9tdWx0aXNpZy9qb2luYDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBjb25zdCBkYXRhID0ge1xuICAgICAgICAgICAgdHBjOiAnbXVsdGlzaWcnLFxuICAgICAgICAgICAgcm90OiByb3Quc2FkLFxuICAgICAgICAgICAgc2lnczogc2lncyxcbiAgICAgICAgICAgIGdpZDogZ2lkLFxuICAgICAgICAgICAgc21pZHM6IHNtaWRzLFxuICAgICAgICAgICAgcm1pZHM6IHJtaWRzLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIGRhdGEpO1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzLmpzb24oKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/grouping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/habery.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/habery.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Hab: () => (/* binding */ Hab),\n/* harmony export */   Habery: () => (/* binding */ Habery),\n/* harmony export */   TraitCodex: () => (/* binding */ TraitCodex),\n/* harmony export */   TraitDex: () => (/* binding */ TraitDex)\n/* harmony export */ });\n/* harmony import */ var _core_manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n/* harmony import */ var _core_matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_salter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _core_eventing_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n\n\n\n\nclass TraitCodex {\n    constructor() {\n        this.EstOnly = 'EO'; // Only allow establishment events\n        this.DoNotDelegate = 'DND'; // Dot not allow delegated identifiers\n        this.NoBackers = 'NB'; // Do not allow backers\n    }\n}\nconst TraitDex = new TraitCodex();\nclass Hab {\n    constructor(name, icp) {\n        this.name = name;\n        this.serder = icp;\n    }\n    get pre() {\n        return this.serder.sad['i'];\n    }\n}\nclass Habery {\n    constructor({ name, passcode, seed, aeid, pidx, salt }) {\n        this._habs = new Map();\n        this._name = name;\n        if (passcode != undefined && seed == undefined) {\n            if (passcode.length < 21) {\n                throw new Error('Bran (passcode seed material) too short.');\n            }\n            const bran = _core_matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128 + 'A' + passcode.substring(0, 21); // qb64 salt for seed\n            const signer = new _core_salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: bran }).signer(_core_matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, false);\n            seed = signer.qb64;\n            if (aeid == undefined) {\n                aeid = signer.verfer.qb64; // lest it remove encryption\n            }\n        }\n        let algo;\n        const salter = salt != undefined ? new _core_salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: salt }) : undefined;\n        if (salt != undefined) {\n            algo = _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty;\n        }\n        else {\n            algo = _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy;\n        }\n        this._mgr = new _core_manager_js__WEBPACK_IMPORTED_MODULE_0__.Manager({\n            seed: seed,\n            aeid: aeid,\n            pidx: pidx,\n            algo: algo,\n            salter: salter,\n        });\n    }\n    get mgr() {\n        return this._mgr;\n    }\n    get habs() {\n        return Array.from(this._habs.values());\n    }\n    habByName(name) {\n        return this._habs.get(name);\n    }\n    makeHab(name, { code = _core_matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Blake3_256, transferable = true, isith = undefined, icount = 1, nsith = undefined, ncount = undefined, toad = undefined, wits = undefined, delpre = undefined, estOnly = false, DnD = false, data = undefined, }) {\n        if (nsith == undefined) {\n            nsith = isith;\n        }\n        if (ncount == undefined) {\n            ncount = icount;\n        }\n        if (!transferable) {\n            ncount = 0;\n            nsith = '0';\n            code = _core_matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519N;\n        }\n        const [verfers, digers] = this._mgr.incept({\n            icount: icount,\n            ncount: ncount,\n            stem: this.name,\n            transferable: transferable,\n            temp: false,\n        });\n        icount = verfers.length;\n        ncount = digers != undefined ? digers.length : 0;\n        if (isith == undefined) {\n            isith = `${Math.max(1, Math.ceil(icount / 2)).toString(16)}`;\n        }\n        if (nsith == undefined) {\n            nsith = `${Math.max(1, Math.ceil(ncount / 2)).toString(16)}`;\n        }\n        const cnfg = new Array();\n        if (estOnly) {\n            cnfg.push(TraitDex.EstOnly);\n        }\n        if (DnD) {\n            cnfg.push(TraitDex.DoNotDelegate);\n        }\n        const keys = Array.from(verfers, (verfer) => verfer.qb64);\n        const ndigs = Array.from(digers, (diger) => diger.qb64);\n        const icp = (0,_core_eventing_js__WEBPACK_IMPORTED_MODULE_3__.incept)({\n            keys,\n            isith,\n            ndigs,\n            nsith,\n            toad,\n            wits,\n            cnfg,\n            data,\n            code,\n            delpre,\n        });\n        const hab = new Hab(name, icp);\n        this._habs.set(name, hab);\n        return hab;\n    }\n    get name() {\n        return this._name;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL2hhYmVyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFvRDtBQUNUO0FBQ0E7QUFDRTtBQUN0QztBQUNQO0FBQ0EsNkJBQTZCO0FBQzdCLG9DQUFvQztBQUNwQywrQkFBK0I7QUFDL0I7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0Isd0NBQXdDO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtREFBTSw2Q0FBNkM7QUFDNUUsK0JBQStCLG1EQUFNLEdBQUcsWUFBWSxTQUFTLG1EQUFNO0FBQ25FO0FBQ0E7QUFDQSwyQ0FBMkM7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLG1EQUFNLEdBQUcsWUFBWTtBQUNwRTtBQUNBLG1CQUFtQixtREFBSztBQUN4QjtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFLO0FBQ3hCO0FBQ0Esd0JBQXdCLHFEQUFPO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsT0FBTyxtREFBTSxpTkFBaU47QUFDbFA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG1EQUFNO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixnREFBZ0Q7QUFDdkU7QUFDQTtBQUNBLHVCQUF1QixnREFBZ0Q7QUFDdkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseURBQU07QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9hcHAvaGFiZXJ5LmpzP2QzNDciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxnb3MsIE1hbmFnZXIgfSBmcm9tIFwiLi4vY29yZS9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBNdHJEZXggfSBmcm9tIFwiLi4vY29yZS9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IFNhbHRlciB9IGZyb20gXCIuLi9jb3JlL3NhbHRlci5qc1wiO1xuaW1wb3J0IHsgaW5jZXB0IH0gZnJvbSBcIi4uL2NvcmUvZXZlbnRpbmcuanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFpdENvZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5Fc3RPbmx5ID0gJ0VPJzsgLy8gT25seSBhbGxvdyBlc3RhYmxpc2htZW50IGV2ZW50c1xuICAgICAgICB0aGlzLkRvTm90RGVsZWdhdGUgPSAnRE5EJzsgLy8gRG90IG5vdCBhbGxvdyBkZWxlZ2F0ZWQgaWRlbnRpZmllcnNcbiAgICAgICAgdGhpcy5Ob0JhY2tlcnMgPSAnTkInOyAvLyBEbyBub3QgYWxsb3cgYmFja2Vyc1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBUcmFpdERleCA9IG5ldyBUcmFpdENvZGV4KCk7XG5leHBvcnQgY2xhc3MgSGFiIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBpY3ApIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5zZXJkZXIgPSBpY3A7XG4gICAgfVxuICAgIGdldCBwcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlcmRlci5zYWRbJ2knXTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSGFiZXJ5IHtcbiAgICBjb25zdHJ1Y3Rvcih7IG5hbWUsIHBhc3Njb2RlLCBzZWVkLCBhZWlkLCBwaWR4LCBzYWx0IH0pIHtcbiAgICAgICAgdGhpcy5faGFicyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fbmFtZSA9IG5hbWU7XG4gICAgICAgIGlmIChwYXNzY29kZSAhPSB1bmRlZmluZWQgJiYgc2VlZCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChwYXNzY29kZS5sZW5ndGggPCAyMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQnJhbiAocGFzc2NvZGUgc2VlZCBtYXRlcmlhbCkgdG9vIHNob3J0LicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYnJhbiA9IE10ckRleC5TYWx0XzEyOCArICdBJyArIHBhc3Njb2RlLnN1YnN0cmluZygwLCAyMSk7IC8vIHFiNjQgc2FsdCBmb3Igc2VlZFxuICAgICAgICAgICAgY29uc3Qgc2lnbmVyID0gbmV3IFNhbHRlcih7IHFiNjQ6IGJyYW4gfSkuc2lnbmVyKE10ckRleC5FZDI1NTE5X1NlZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIHNlZWQgPSBzaWduZXIucWI2NDtcbiAgICAgICAgICAgIGlmIChhZWlkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFlaWQgPSBzaWduZXIudmVyZmVyLnFiNjQ7IC8vIGxlc3QgaXQgcmVtb3ZlIGVuY3J5cHRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgYWxnbztcbiAgICAgICAgY29uc3Qgc2FsdGVyID0gc2FsdCAhPSB1bmRlZmluZWQgPyBuZXcgU2FsdGVyKHsgcWI2NDogc2FsdCB9KSA6IHVuZGVmaW5lZDtcbiAgICAgICAgaWYgKHNhbHQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhbGdvID0gQWxnb3Muc2FsdHk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhbGdvID0gQWxnb3MucmFuZHk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWdyID0gbmV3IE1hbmFnZXIoe1xuICAgICAgICAgICAgc2VlZDogc2VlZCxcbiAgICAgICAgICAgIGFlaWQ6IGFlaWQsXG4gICAgICAgICAgICBwaWR4OiBwaWR4LFxuICAgICAgICAgICAgYWxnbzogYWxnbyxcbiAgICAgICAgICAgIHNhbHRlcjogc2FsdGVyLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1ncigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ncjtcbiAgICB9XG4gICAgZ2V0IGhhYnMoKSB7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMuX2hhYnMudmFsdWVzKCkpO1xuICAgIH1cbiAgICBoYWJCeU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faGFicy5nZXQobmFtZSk7XG4gICAgfVxuICAgIG1ha2VIYWIobmFtZSwgeyBjb2RlID0gTXRyRGV4LkJsYWtlM18yNTYsIHRyYW5zZmVyYWJsZSA9IHRydWUsIGlzaXRoID0gdW5kZWZpbmVkLCBpY291bnQgPSAxLCBuc2l0aCA9IHVuZGVmaW5lZCwgbmNvdW50ID0gdW5kZWZpbmVkLCB0b2FkID0gdW5kZWZpbmVkLCB3aXRzID0gdW5kZWZpbmVkLCBkZWxwcmUgPSB1bmRlZmluZWQsIGVzdE9ubHkgPSBmYWxzZSwgRG5EID0gZmFsc2UsIGRhdGEgPSB1bmRlZmluZWQsIH0pIHtcbiAgICAgICAgaWYgKG5zaXRoID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbnNpdGggPSBpc2l0aDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmNvdW50ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmNvdW50ID0gaWNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGlmICghdHJhbnNmZXJhYmxlKSB7XG4gICAgICAgICAgICBuY291bnQgPSAwO1xuICAgICAgICAgICAgbnNpdGggPSAnMCc7XG4gICAgICAgICAgICBjb2RlID0gTXRyRGV4LkVkMjU1MTlOO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFt2ZXJmZXJzLCBkaWdlcnNdID0gdGhpcy5fbWdyLmluY2VwdCh7XG4gICAgICAgICAgICBpY291bnQ6IGljb3VudCxcbiAgICAgICAgICAgIG5jb3VudDogbmNvdW50LFxuICAgICAgICAgICAgc3RlbTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgdHJhbnNmZXJhYmxlOiB0cmFuc2ZlcmFibGUsXG4gICAgICAgICAgICB0ZW1wOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGljb3VudCA9IHZlcmZlcnMubGVuZ3RoO1xuICAgICAgICBuY291bnQgPSBkaWdlcnMgIT0gdW5kZWZpbmVkID8gZGlnZXJzLmxlbmd0aCA6IDA7XG4gICAgICAgIGlmIChpc2l0aCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlzaXRoID0gYCR7TWF0aC5tYXgoMSwgTWF0aC5jZWlsKGljb3VudCAvIDIpKS50b1N0cmluZygxNil9YDtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnNpdGggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuc2l0aCA9IGAke01hdGgubWF4KDEsIE1hdGguY2VpbChuY291bnQgLyAyKSkudG9TdHJpbmcoMTYpfWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY25mZyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoZXN0T25seSkge1xuICAgICAgICAgICAgY25mZy5wdXNoKFRyYWl0RGV4LkVzdE9ubHkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChEbkQpIHtcbiAgICAgICAgICAgIGNuZmcucHVzaChUcmFpdERleC5Eb05vdERlbGVnYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXlzID0gQXJyYXkuZnJvbSh2ZXJmZXJzLCAodmVyZmVyKSA9PiB2ZXJmZXIucWI2NCk7XG4gICAgICAgIGNvbnN0IG5kaWdzID0gQXJyYXkuZnJvbShkaWdlcnMsIChkaWdlcikgPT4gZGlnZXIucWI2NCk7XG4gICAgICAgIGNvbnN0IGljcCA9IGluY2VwdCh7XG4gICAgICAgICAgICBrZXlzLFxuICAgICAgICAgICAgaXNpdGgsXG4gICAgICAgICAgICBuZGlncyxcbiAgICAgICAgICAgIG5zaXRoLFxuICAgICAgICAgICAgdG9hZCxcbiAgICAgICAgICAgIHdpdHMsXG4gICAgICAgICAgICBjbmZnLFxuICAgICAgICAgICAgZGF0YSxcbiAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICBkZWxwcmUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBoYWIgPSBuZXcgSGFiKG5hbWUsIGljcCk7XG4gICAgICAgIHRoaXMuX2hhYnMuc2V0KG5hbWUsIGhhYik7XG4gICAgICAgIHJldHVybiBoYWI7XG4gICAgfVxuICAgIGdldCBuYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/habery.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/app/notifying.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/app/notifying.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Notifications: () => (/* binding */ Notifications)\n/* harmony export */ });\n/* harmony import */ var _core_httping_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/httping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\");\n\n/**\n * Notifications\n */\nclass Notifications {\n    /**\n     * Notifications\n     * @param {SignifyClient} client\n     */\n    constructor(client) {\n        this.client = client;\n    }\n    /**\n     * List notifications\n     * @async\n     * @param {number} [start=0] Start index of list of notifications, defaults to 0\n     * @param {number} [end=24] End index of list of notifications, defaults to 24\n     * @returns {Promise<any>} A promise to the list of notifications\n     */\n    async list(start = 0, end = 24) {\n        const extraHeaders = new Headers();\n        extraHeaders.append('Range', `notes=${start}-${end}`);\n        const path = `/notifications`;\n        const method = 'GET';\n        const res = await this.client.fetch(path, method, null, extraHeaders);\n        const cr = res.headers.get('content-range');\n        const range = (0,_core_httping_js__WEBPACK_IMPORTED_MODULE_0__.parseRangeHeaders)(cr, 'notes');\n        const notes = await res.json();\n        return {\n            start: range.start,\n            end: range.end,\n            total: range.total,\n            notes: notes,\n        };\n    }\n    /**\n     * Mark a notification as read\n     * @async\n     * @param {string} said SAID of the notification\n     * @returns {Promise<string>} A promise to the result of the marking\n     */\n    async mark(said) {\n        const path = `/notifications/` + said;\n        const method = 'PUT';\n        const res = await this.client.fetch(path, method, null);\n        return await res.text();\n    }\n    /**\n     * Delete a notification\n     * @async\n     * @param {string} said SAID of the notification\n     * @returns {Promise<void>}\n     */\n    async delete(said) {\n        const path = `/notifications/` + said;\n        const method = 'DELETE';\n        await this.client.fetch(path, method, undefined);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvYXBwL25vdGlmeWluZy5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF1RDtBQUN2RDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxlQUFlLGVBQWU7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkIsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQixjQUFjO0FBQy9CO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxNQUFNLEdBQUcsSUFBSTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtRUFBaUI7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsUUFBUTtBQUN2QixpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxRQUFRO0FBQ3ZCLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9hcHAvbm90aWZ5aW5nLmpzPzQ2YWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VSYW5nZUhlYWRlcnMgfSBmcm9tIFwiLi4vY29yZS9odHRwaW5nLmpzXCI7XG4vKipcbiAqIE5vdGlmaWNhdGlvbnNcbiAqL1xuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbnMge1xuICAgIC8qKlxuICAgICAqIE5vdGlmaWNhdGlvbnNcbiAgICAgKiBAcGFyYW0ge1NpZ25pZnlDbGllbnR9IGNsaWVudFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCkge1xuICAgICAgICB0aGlzLmNsaWVudCA9IGNsaWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBub3RpZmljYXRpb25zXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBTdGFydCBpbmRleCBvZiBsaXN0IG9mIG5vdGlmaWNhdGlvbnMsIGRlZmF1bHRzIHRvIDBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD0yNF0gRW5kIGluZGV4IG9mIGxpc3Qgb2Ygbm90aWZpY2F0aW9ucywgZGVmYXVsdHMgdG8gMjRcbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBBIHByb21pc2UgdG8gdGhlIGxpc3Qgb2Ygbm90aWZpY2F0aW9uc1xuICAgICAqL1xuICAgIGFzeW5jIGxpc3Qoc3RhcnQgPSAwLCBlbmQgPSAyNCkge1xuICAgICAgICBjb25zdCBleHRyYUhlYWRlcnMgPSBuZXcgSGVhZGVycygpO1xuICAgICAgICBleHRyYUhlYWRlcnMuYXBwZW5kKCdSYW5nZScsIGBub3Rlcz0ke3N0YXJ0fS0ke2VuZH1gKTtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvbm90aWZpY2F0aW9uc2A7XG4gICAgICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgICAgICBjb25zdCByZXMgPSBhd2FpdCB0aGlzLmNsaWVudC5mZXRjaChwYXRoLCBtZXRob2QsIG51bGwsIGV4dHJhSGVhZGVycyk7XG4gICAgICAgIGNvbnN0IGNyID0gcmVzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXJhbmdlJyk7XG4gICAgICAgIGNvbnN0IHJhbmdlID0gcGFyc2VSYW5nZUhlYWRlcnMoY3IsICdub3RlcycpO1xuICAgICAgICBjb25zdCBub3RlcyA9IGF3YWl0IHJlcy5qc29uKCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogcmFuZ2Uuc3RhcnQsXG4gICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCxcbiAgICAgICAgICAgIHRvdGFsOiByYW5nZS50b3RhbCxcbiAgICAgICAgICAgIG5vdGVzOiBub3RlcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFyayBhIG5vdGlmaWNhdGlvbiBhcyByZWFkXG4gICAgICogQGFzeW5jXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNhaWQgU0FJRCBvZiB0aGUgbm90aWZpY2F0aW9uXG4gICAgICogQHJldHVybnMge1Byb21pc2U8c3RyaW5nPn0gQSBwcm9taXNlIHRvIHRoZSByZXN1bHQgb2YgdGhlIG1hcmtpbmdcbiAgICAgKi9cbiAgICBhc3luYyBtYXJrKHNhaWQpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGAvbm90aWZpY2F0aW9ucy9gICsgc2FpZDtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gJ1BVVCc7XG4gICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IHRoaXMuY2xpZW50LmZldGNoKHBhdGgsIG1ldGhvZCwgbnVsbCk7XG4gICAgICAgIHJldHVybiBhd2FpdCByZXMudGV4dCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBub3RpZmljYXRpb25cbiAgICAgKiBAYXN5bmNcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc2FpZCBTQUlEIG9mIHRoZSBub3RpZmljYXRpb25cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBkZWxldGUoc2FpZCkge1xuICAgICAgICBjb25zdCBwYXRoID0gYC9ub3RpZmljYXRpb25zL2AgKyBzYWlkO1xuICAgICAgICBjb25zdCBtZXRob2QgPSAnREVMRVRFJztcbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZmV0Y2gocGF0aCwgbWV0aG9kLCB1bmRlZmluZWQpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/app/notifying.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/authing.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/authing.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Authenticater: () => (/* binding */ Authenticater)\n/* harmony export */ });\n/* harmony import */ var _httping_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./httping.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\");\n/* harmony import */ var _end_ending_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../end/ending.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/end/ending.js\");\n\n\nclass Authenticater {\n    constructor(csig, verfer) {\n        this._csig = csig;\n        this._verfer = verfer;\n    }\n    verify(headers, method, path) {\n        const siginput = headers.get(_httping_js__WEBPACK_IMPORTED_MODULE_0__.HEADER_SIG_INPUT);\n        if (siginput == null) {\n            return false;\n        }\n        const signature = headers.get('Signature');\n        if (signature == null) {\n            return false;\n        }\n        let inputs = (0,_httping_js__WEBPACK_IMPORTED_MODULE_0__.desiginput)(siginput);\n        inputs = inputs.filter((input) => input.name == 'signify');\n        if (inputs.length == 0) {\n            return false;\n        }\n        inputs.forEach((input) => {\n            const items = new Array();\n            input.fields.forEach((field) => {\n                if (field.startsWith('@')) {\n                    if (field == '@method') {\n                        items.push(`\"${field}\": ${method}`);\n                    }\n                    else if (field == '@path') {\n                        items.push(`\"${field}\": ${path}`);\n                    }\n                }\n                else {\n                    if (headers.has(field)) {\n                        const value = (0,_httping_js__WEBPACK_IMPORTED_MODULE_0__.normalize)(headers.get(field));\n                        items.push(`\"${field}\": ${value}`);\n                    }\n                }\n            });\n            const values = new Array();\n            values.push(`(${input.fields.join(' ')})`);\n            values.push(`created=${input.created}`);\n            if (input.expires != undefined) {\n                values.push(`expires=${input.expires}`);\n            }\n            if (input.nonce != undefined) {\n                values.push(`nonce=${input.nonce}`);\n            }\n            if (input.keyid != undefined) {\n                values.push(`keyid=${input.keyid}`);\n            }\n            if (input.context != undefined) {\n                values.push(`context=${input.context}`);\n            }\n            if (input.alg != undefined) {\n                values.push(`alg=${input.alg}`);\n            }\n            const params = values.join(';');\n            items.push(`\"@signature-params: ${params}\"`);\n            const ser = items.join('\\n');\n            const signage = (0,_end_ending_js__WEBPACK_IMPORTED_MODULE_1__.designature)(signature);\n            const markers = signage[0].markers;\n            const cig = markers.get(input.name);\n            if (!cig || !this._verfer.verify(cig.raw, ser)) {\n                throw new Error(`Signature for ${input.keyid} invalid.`);\n            }\n        });\n        return true;\n    }\n    sign(headers, method, path, fields) {\n        if (fields == undefined) {\n            fields = Authenticater.DefaultFields;\n        }\n        const [header, sig] = (0,_httping_js__WEBPACK_IMPORTED_MODULE_0__.siginput)(this._csig, {\n            name: 'signify',\n            method,\n            path,\n            headers,\n            fields,\n            alg: 'ed25519',\n            keyid: this._csig.verfer.qb64,\n        });\n        header.forEach((value, key) => {\n            headers.append(key, value);\n        });\n        const markers = new Map();\n        markers.set('signify', sig);\n        const signage = new _end_ending_js__WEBPACK_IMPORTED_MODULE_1__.Signage(markers, false);\n        const signed = (0,_end_ending_js__WEBPACK_IMPORTED_MODULE_1__.signature)([signage]);\n        signed.forEach((value, key) => {\n            headers.append(key, value);\n        });\n        return headers;\n    }\n}\nAuthenticater.DefaultFields = [\n    '@method',\n    '@path',\n    'signify-resource',\n    _httping_js__WEBPACK_IMPORTED_MODULE_0__.HEADER_SIG_TIME.toLowerCase(),\n];\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9hdXRoaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtRztBQUNoQztBQUM1RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMseURBQWdCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLHVEQUFVO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QyxNQUFNLEtBQUssT0FBTztBQUN6RDtBQUNBO0FBQ0EsdUNBQXVDLE1BQU0sS0FBSyxLQUFLO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHNEQUFTO0FBQy9DLHVDQUF1QyxNQUFNLEtBQUssTUFBTTtBQUN4RDtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsNEJBQTRCLHVCQUF1QjtBQUNuRCxtQ0FBbUMsY0FBYztBQUNqRDtBQUNBLHVDQUF1QyxjQUFjO0FBQ3JEO0FBQ0E7QUFDQSxxQ0FBcUMsWUFBWTtBQUNqRDtBQUNBO0FBQ0EscUNBQXFDLFlBQVk7QUFDakQ7QUFDQTtBQUNBLHVDQUF1QyxjQUFjO0FBQ3JEO0FBQ0E7QUFDQSxtQ0FBbUMsVUFBVTtBQUM3QztBQUNBLHlDQUF5QztBQUN6Qyw4Q0FBOEMsT0FBTztBQUNyRDtBQUNBLDRCQUE0QiwyREFBVztBQUN2QztBQUNBO0FBQ0E7QUFDQSxpREFBaUQsYUFBYTtBQUM5RDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIscURBQVE7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsNEJBQTRCLG1EQUFPO0FBQ25DLHVCQUF1Qix5REFBUztBQUNoQztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSx3REFBZTtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2F1dGhpbmcuanM/M2ZiMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBkZXNpZ2lucHV0LCBIRUFERVJfU0lHX0lOUFVULCBIRUFERVJfU0lHX1RJTUUsIG5vcm1hbGl6ZSwgc2lnaW5wdXQsIH0gZnJvbSBcIi4vaHR0cGluZy5qc1wiO1xuaW1wb3J0IHsgU2lnbmFnZSwgc2lnbmF0dXJlLCBkZXNpZ25hdHVyZSB9IGZyb20gXCIuLi9lbmQvZW5kaW5nLmpzXCI7XG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRlciB7XG4gICAgY29uc3RydWN0b3IoY3NpZywgdmVyZmVyKSB7XG4gICAgICAgIHRoaXMuX2NzaWcgPSBjc2lnO1xuICAgICAgICB0aGlzLl92ZXJmZXIgPSB2ZXJmZXI7XG4gICAgfVxuICAgIHZlcmlmeShoZWFkZXJzLCBtZXRob2QsIHBhdGgpIHtcbiAgICAgICAgY29uc3Qgc2lnaW5wdXQgPSBoZWFkZXJzLmdldChIRUFERVJfU0lHX0lOUFVUKTtcbiAgICAgICAgaWYgKHNpZ2lucHV0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaWduYXR1cmUgPSBoZWFkZXJzLmdldCgnU2lnbmF0dXJlJyk7XG4gICAgICAgIGlmIChzaWduYXR1cmUgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBpbnB1dHMgPSBkZXNpZ2lucHV0KHNpZ2lucHV0KTtcbiAgICAgICAgaW5wdXRzID0gaW5wdXRzLmZpbHRlcigoaW5wdXQpID0+IGlucHV0Lm5hbWUgPT0gJ3NpZ25pZnknKTtcbiAgICAgICAgaWYgKGlucHV0cy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIGlucHV0LmZpZWxkcy5mb3JFYWNoKChmaWVsZCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZC5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkID09ICdAbWV0aG9kJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChgXCIke2ZpZWxkfVwiOiAke21ldGhvZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChmaWVsZCA9PSAnQHBhdGgnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtcy5wdXNoKGBcIiR7ZmllbGR9XCI6ICR7cGF0aH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlcnMuaGFzKGZpZWxkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemUoaGVhZGVycy5nZXQoZmllbGQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1zLnB1c2goYFwiJHtmaWVsZH1cIjogJHt2YWx1ZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdmFsdWVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChgKCR7aW5wdXQuZmllbGRzLmpvaW4oJyAnKX0pYCk7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChgY3JlYXRlZD0ke2lucHV0LmNyZWF0ZWR9YCk7XG4gICAgICAgICAgICBpZiAoaW5wdXQuZXhwaXJlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChgZXhwaXJlcz0ke2lucHV0LmV4cGlyZXN9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQubm9uY2UgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYG5vbmNlPSR7aW5wdXQubm9uY2V9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQua2V5aWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzLnB1c2goYGtleWlkPSR7aW5wdXQua2V5aWR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQuY29udGV4dCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChgY29udGV4dD0ke2lucHV0LmNvbnRleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5wdXQuYWxnICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHZhbHVlcy5wdXNoKGBhbGc9JHtpbnB1dC5hbGd9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwYXJhbXMgPSB2YWx1ZXMuam9pbignOycpO1xuICAgICAgICAgICAgaXRlbXMucHVzaChgXCJAc2lnbmF0dXJlLXBhcmFtczogJHtwYXJhbXN9XCJgKTtcbiAgICAgICAgICAgIGNvbnN0IHNlciA9IGl0ZW1zLmpvaW4oJ1xcbicpO1xuICAgICAgICAgICAgY29uc3Qgc2lnbmFnZSA9IGRlc2lnbmF0dXJlKHNpZ25hdHVyZSk7XG4gICAgICAgICAgICBjb25zdCBtYXJrZXJzID0gc2lnbmFnZVswXS5tYXJrZXJzO1xuICAgICAgICAgICAgY29uc3QgY2lnID0gbWFya2Vycy5nZXQoaW5wdXQubmFtZSk7XG4gICAgICAgICAgICBpZiAoIWNpZyB8fCAhdGhpcy5fdmVyZmVyLnZlcmlmeShjaWcucmF3LCBzZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTaWduYXR1cmUgZm9yICR7aW5wdXQua2V5aWR9IGludmFsaWQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgc2lnbihoZWFkZXJzLCBtZXRob2QsIHBhdGgsIGZpZWxkcykge1xuICAgICAgICBpZiAoZmllbGRzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZmllbGRzID0gQXV0aGVudGljYXRlci5EZWZhdWx0RmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFtoZWFkZXIsIHNpZ10gPSBzaWdpbnB1dCh0aGlzLl9jc2lnLCB7XG4gICAgICAgICAgICBuYW1lOiAnc2lnbmlmeScsXG4gICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICBwYXRoLFxuICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgIGZpZWxkcyxcbiAgICAgICAgICAgIGFsZzogJ2VkMjU1MTknLFxuICAgICAgICAgICAga2V5aWQ6IHRoaXMuX2NzaWcudmVyZmVyLnFiNjQsXG4gICAgICAgIH0pO1xuICAgICAgICBoZWFkZXIuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtYXJrZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICBtYXJrZXJzLnNldCgnc2lnbmlmeScsIHNpZyk7XG4gICAgICAgIGNvbnN0IHNpZ25hZ2UgPSBuZXcgU2lnbmFnZShtYXJrZXJzLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHNpZ25lZCA9IHNpZ25hdHVyZShbc2lnbmFnZV0pO1xuICAgICAgICBzaWduZWQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICAgICAgaGVhZGVycy5hcHBlbmQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICB9XG59XG5BdXRoZW50aWNhdGVyLkRlZmF1bHRGaWVsZHMgPSBbXG4gICAgJ0BtZXRob2QnLFxuICAgICdAcGF0aCcsXG4gICAgJ3NpZ25pZnktcmVzb3VyY2UnLFxuICAgIEhFQURFUl9TSUdfVElNRS50b0xvd2VyQ2FzZSgpLFxuXTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/authing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/base64.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decodeBase64Url: () => (/* binding */ decodeBase64Url),\n/* harmony export */   encodeBase64Url: () => (/* binding */ encodeBase64Url)\n/* harmony export */ });\n/* harmony import */ var base64_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! base64-js */ \"(ssr)/./node_modules/base64-js/index.js\");\n\nfunction encodeBase64Url(input) {\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.fromByteArray)(input)\n        .replace(/\\+/g, '-')\n        .replace(/\\//g, '_')\n        .replace(/=+/, '');\n}\nfunction decodeBase64Url(input) {\n    if (!(typeof input === 'string')) {\n        throw new TypeError('`input` must be a string.');\n    }\n    const n = input.length % 4;\n    const padded = input + '='.repeat(n > 0 ? 4 - n : n);\n    const base64String = padded.replace(/-/g, '+').replace(/_/g, '/');\n    return (0,base64_js__WEBPACK_IMPORTED_MODULE_0__.toByteArray)(base64String);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9iYXNlNjQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXVEO0FBQ2hEO0FBQ1AsV0FBVyx3REFBYTtBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxzREFBVztBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2Jhc2U2NC5qcz9hODBjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZyb21CeXRlQXJyYXksIHRvQnl0ZUFycmF5IH0gZnJvbSAnYmFzZTY0LWpzJztcbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVCYXNlNjRVcmwoaW5wdXQpIHtcbiAgICByZXR1cm4gZnJvbUJ5dGVBcnJheShpbnB1dClcbiAgICAgICAgLnJlcGxhY2UoL1xcKy9nLCAnLScpXG4gICAgICAgIC5yZXBsYWNlKC9cXC8vZywgJ18nKVxuICAgICAgICAucmVwbGFjZSgvPSsvLCAnJyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVjb2RlQmFzZTY0VXJsKGlucHV0KSB7XG4gICAgaWYgKCEodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGlucHV0YCBtdXN0IGJlIGEgc3RyaW5nLicpO1xuICAgIH1cbiAgICBjb25zdCBuID0gaW5wdXQubGVuZ3RoICUgNDtcbiAgICBjb25zdCBwYWRkZWQgPSBpbnB1dCArICc9Jy5yZXBlYXQobiA+IDAgPyA0IC0gbiA6IG4pO1xuICAgIGNvbnN0IGJhc2U2NFN0cmluZyA9IHBhZGRlZC5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgIHJldHVybiB0b0J5dGVBcnJheShiYXNlNjRTdHJpbmcpO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/bexter.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/bexter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Bexter: () => (/* binding */ Bexter),\n/* harmony export */   Reb64: () => (/* binding */ Reb64)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n\n\n\n\nconst B64REX = '^[A-Za-z0-9\\\\-_]*$';\nconst Reb64 = new RegExp(B64REX);\n/*\n\n    Bexter is subclass of Matter, cryptographic material, for variable length\n    strings that only contain Base64 URL safe characters, i.e. Base64 text (bext).\n    When created using the 'bext' paramaeter, the encoded matter in qb64 format\n    in the text domain is more compact than would be the case if the string were\n    passed in as raw bytes. The text is used as is to form the value part of the\n    qb64 version not including the leader.\n\n    Due to ambiguity that arises from pre-padding bext whose length is a multiple of\n    three with one or more 'A' chars. Any bext that starts with an 'A' and whose length\n    is either a multiple of 3 or 4 may not round trip. Bext with a leading 'A'\n    whose length is a multiple of four may have the leading 'A' stripped when\n    round tripping.\n\n        Bexter(bext='ABBB').bext == 'BBB'\n        Bexter(bext='BBB').bext == 'BBB'\n        Bexter(bext='ABBB').qb64 == '4AABABBB' == Bexter(bext='BBB').qb64\n\n    To avoid this problem, only use for applications of base 64 strings that\n    never start with 'A'\n\n    Examples: base64 text strings:\n\n    bext = \"\"\n    qb64 = '4AAA'\n\n    bext = \"-\"\n    qb64 = '6AABAAA-'\n\n    bext = \"-A\"\n    qb64 = '5AABAA-A'\n\n    bext = \"-A-\"\n    qb64 = '4AABA-A-'\n\n    bext = \"-A-B\"\n    qb64 = '4AAB-A-B'\n\n\n    Example uses:\n        CESR encoded paths for nested SADs and SAIDs\n        CESR encoded fractionally weighted threshold expressions\n\n\n    Attributes:\n\n    Inherited Properties:  (See Matter)\n        .pad  is int number of pad chars given raw\n\n        .code is  str derivation code to indicate cypher suite\n        .raw is bytes crypto material only without code\n        .index is int count of attached crypto material by context (receipts)\n        .qb64 is str in Base64 fully qualified with derivation code + crypto mat\n        .qb64b is bytes in Base64 fully qualified with derivation code + crypto mat\n        .qb2  is bytes in binary with derivation code + crypto material\n        .transferable is Boolean, True when transferable derivation code False otherwise\n\n    Properties:\n        .text is the Base64 text value, .qb64 with text code and leader removed.\n\n    Hidden:\n        ._pad is method to compute  .pad property\n        ._code is str value for .code property\n        ._raw is bytes value for .raw property\n        ._index is int value for .index property\n        ._infil is method to compute fully qualified Base64 from .raw and .code\n        ._exfil is method to extract .code and .raw from fully qualified Base64\n\n    Methods:\n\n\n\n\n */\nclass Bexter extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.StrB64_L0, qb64b, qb64, qb2 }, bext) {\n        if (raw === undefined &&\n            qb64b === undefined &&\n            qb64 === undefined &&\n            qb2 === undefined) {\n            if (bext === undefined)\n                throw new _kering_js__WEBPACK_IMPORTED_MODULE_1__.EmptyMaterialError('Missing bext string.');\n            const match = Reb64.exec(bext);\n            if (!match)\n                throw new Error('Invalid Base64.');\n            raw = Bexter._rawify(bext);\n        }\n        super({ raw, code, qb64b, qb64, qb2 });\n        if (!_matter_js__WEBPACK_IMPORTED_MODULE_0__.BexDex.has(this.code))\n            throw new Error(`Invalid code = ${this.code} for Bexter.`);\n    }\n    static _rawify(bext) {\n        const ts = bext.length % 4; // bext size mod 4\n        const ws = (4 - ts) % 4; // pre conv wad size in chars\n        const ls = (3 - ts) % 3; // post conv lead size in bytes\n        const wad = new Array(ws);\n        wad.fill('A');\n        const base = wad.join('') + bext; // pre pad with wad of zeros in Base64 == 'A'\n        const raw = (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64Url)(base); // [ls:]  // convert and remove leader\n        return Uint8Array.from(raw).subarray(ls); // raw binary equivalent of text\n    }\n    get bext() {\n        const sizage = _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter.Sizes.get(this.code);\n        const wad = Uint8Array.from(new Array(sizage === null || sizage === void 0 ? void 0 : sizage.ls).fill(0));\n        const bext = (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64Url)((0,_core_js__WEBPACK_IMPORTED_MODULE_3__.concat)(wad, this.raw));\n        let ws = 0;\n        if ((sizage === null || sizage === void 0 ? void 0 : sizage.ls) === 0 && bext !== undefined) {\n            if (bext[0] === 'A') {\n                ws = 1;\n            }\n        }\n        else {\n            ws = ((sizage === null || sizage === void 0 ? void 0 : sizage.ls) + 1) % 4;\n        }\n        return bext.substring(ws);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9iZXh0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFEO0FBQ0o7QUFDYztBQUM1QjtBQUNuQztBQUNPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7OztBQUdBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7Ozs7QUFLQTtBQUNPLHFCQUFxQiw4Q0FBTTtBQUNsQyxrQkFBa0IsWUFBWSw4Q0FBTSw4QkFBOEI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwREFBa0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw2QkFBNkI7QUFDN0MsYUFBYSw4Q0FBTTtBQUNuQiw4Q0FBOEMsV0FBVztBQUN6RDtBQUNBO0FBQ0Esb0NBQW9DO0FBQ3BDLGlDQUFpQztBQUNqQyxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBLDBDQUEwQztBQUMxQyxvQkFBb0IsMkRBQWUsUUFBUTtBQUMzQyxrREFBa0Q7QUFDbEQ7QUFDQTtBQUNBLHVCQUF1Qiw4Q0FBTTtBQUM3QjtBQUNBLHFCQUFxQiwyREFBZSxDQUFDLGdEQUFNO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2JleHRlci5qcz8wZDk0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJleERleCwgTWF0dGVyLCBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IEVtcHR5TWF0ZXJpYWxFcnJvciB9IGZyb20gXCIuL2tlcmluZy5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlQmFzZTY0VXJsLCBlbmNvZGVCYXNlNjRVcmwgfSBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmNvbnN0IEI2NFJFWCA9ICdeW0EtWmEtejAtOVxcXFwtX10qJCc7XG5leHBvcnQgY29uc3QgUmViNjQgPSBuZXcgUmVnRXhwKEI2NFJFWCk7XG4vKlxuXG4gICAgQmV4dGVyIGlzIHN1YmNsYXNzIG9mIE1hdHRlciwgY3J5cHRvZ3JhcGhpYyBtYXRlcmlhbCwgZm9yIHZhcmlhYmxlIGxlbmd0aFxuICAgIHN0cmluZ3MgdGhhdCBvbmx5IGNvbnRhaW4gQmFzZTY0IFVSTCBzYWZlIGNoYXJhY3RlcnMsIGkuZS4gQmFzZTY0IHRleHQgKGJleHQpLlxuICAgIFdoZW4gY3JlYXRlZCB1c2luZyB0aGUgJ2JleHQnIHBhcmFtYWV0ZXIsIHRoZSBlbmNvZGVkIG1hdHRlciBpbiBxYjY0IGZvcm1hdFxuICAgIGluIHRoZSB0ZXh0IGRvbWFpbiBpcyBtb3JlIGNvbXBhY3QgdGhhbiB3b3VsZCBiZSB0aGUgY2FzZSBpZiB0aGUgc3RyaW5nIHdlcmVcbiAgICBwYXNzZWQgaW4gYXMgcmF3IGJ5dGVzLiBUaGUgdGV4dCBpcyB1c2VkIGFzIGlzIHRvIGZvcm0gdGhlIHZhbHVlIHBhcnQgb2YgdGhlXG4gICAgcWI2NCB2ZXJzaW9uIG5vdCBpbmNsdWRpbmcgdGhlIGxlYWRlci5cblxuICAgIER1ZSB0byBhbWJpZ3VpdHkgdGhhdCBhcmlzZXMgZnJvbSBwcmUtcGFkZGluZyBiZXh0IHdob3NlIGxlbmd0aCBpcyBhIG11bHRpcGxlIG9mXG4gICAgdGhyZWUgd2l0aCBvbmUgb3IgbW9yZSAnQScgY2hhcnMuIEFueSBiZXh0IHRoYXQgc3RhcnRzIHdpdGggYW4gJ0EnIGFuZCB3aG9zZSBsZW5ndGhcbiAgICBpcyBlaXRoZXIgYSBtdWx0aXBsZSBvZiAzIG9yIDQgbWF5IG5vdCByb3VuZCB0cmlwLiBCZXh0IHdpdGggYSBsZWFkaW5nICdBJ1xuICAgIHdob3NlIGxlbmd0aCBpcyBhIG11bHRpcGxlIG9mIGZvdXIgbWF5IGhhdmUgdGhlIGxlYWRpbmcgJ0EnIHN0cmlwcGVkIHdoZW5cbiAgICByb3VuZCB0cmlwcGluZy5cblxuICAgICAgICBCZXh0ZXIoYmV4dD0nQUJCQicpLmJleHQgPT0gJ0JCQidcbiAgICAgICAgQmV4dGVyKGJleHQ9J0JCQicpLmJleHQgPT0gJ0JCQidcbiAgICAgICAgQmV4dGVyKGJleHQ9J0FCQkInKS5xYjY0ID09ICc0QUFCQUJCQicgPT0gQmV4dGVyKGJleHQ9J0JCQicpLnFiNjRcblxuICAgIFRvIGF2b2lkIHRoaXMgcHJvYmxlbSwgb25seSB1c2UgZm9yIGFwcGxpY2F0aW9ucyBvZiBiYXNlIDY0IHN0cmluZ3MgdGhhdFxuICAgIG5ldmVyIHN0YXJ0IHdpdGggJ0EnXG5cbiAgICBFeGFtcGxlczogYmFzZTY0IHRleHQgc3RyaW5nczpcblxuICAgIGJleHQgPSBcIlwiXG4gICAgcWI2NCA9ICc0QUFBJ1xuXG4gICAgYmV4dCA9IFwiLVwiXG4gICAgcWI2NCA9ICc2QUFCQUFBLSdcblxuICAgIGJleHQgPSBcIi1BXCJcbiAgICBxYjY0ID0gJzVBQUJBQS1BJ1xuXG4gICAgYmV4dCA9IFwiLUEtXCJcbiAgICBxYjY0ID0gJzRBQUJBLUEtJ1xuXG4gICAgYmV4dCA9IFwiLUEtQlwiXG4gICAgcWI2NCA9ICc0QUFCLUEtQidcblxuXG4gICAgRXhhbXBsZSB1c2VzOlxuICAgICAgICBDRVNSIGVuY29kZWQgcGF0aHMgZm9yIG5lc3RlZCBTQURzIGFuZCBTQUlEc1xuICAgICAgICBDRVNSIGVuY29kZWQgZnJhY3Rpb25hbGx5IHdlaWdodGVkIHRocmVzaG9sZCBleHByZXNzaW9uc1xuXG5cbiAgICBBdHRyaWJ1dGVzOlxuXG4gICAgSW5oZXJpdGVkIFByb3BlcnRpZXM6ICAoU2VlIE1hdHRlcilcbiAgICAgICAgLnBhZCAgaXMgaW50IG51bWJlciBvZiBwYWQgY2hhcnMgZ2l2ZW4gcmF3XG5cbiAgICAgICAgLmNvZGUgaXMgIHN0ciBkZXJpdmF0aW9uIGNvZGUgdG8gaW5kaWNhdGUgY3lwaGVyIHN1aXRlXG4gICAgICAgIC5yYXcgaXMgYnl0ZXMgY3J5cHRvIG1hdGVyaWFsIG9ubHkgd2l0aG91dCBjb2RlXG4gICAgICAgIC5pbmRleCBpcyBpbnQgY291bnQgb2YgYXR0YWNoZWQgY3J5cHRvIG1hdGVyaWFsIGJ5IGNvbnRleHQgKHJlY2VpcHRzKVxuICAgICAgICAucWI2NCBpcyBzdHIgaW4gQmFzZTY0IGZ1bGx5IHF1YWxpZmllZCB3aXRoIGRlcml2YXRpb24gY29kZSArIGNyeXB0byBtYXRcbiAgICAgICAgLnFiNjRiIGlzIGJ5dGVzIGluIEJhc2U2NCBmdWxseSBxdWFsaWZpZWQgd2l0aCBkZXJpdmF0aW9uIGNvZGUgKyBjcnlwdG8gbWF0XG4gICAgICAgIC5xYjIgIGlzIGJ5dGVzIGluIGJpbmFyeSB3aXRoIGRlcml2YXRpb24gY29kZSArIGNyeXB0byBtYXRlcmlhbFxuICAgICAgICAudHJhbnNmZXJhYmxlIGlzIEJvb2xlYW4sIFRydWUgd2hlbiB0cmFuc2ZlcmFibGUgZGVyaXZhdGlvbiBjb2RlIEZhbHNlIG90aGVyd2lzZVxuXG4gICAgUHJvcGVydGllczpcbiAgICAgICAgLnRleHQgaXMgdGhlIEJhc2U2NCB0ZXh0IHZhbHVlLCAucWI2NCB3aXRoIHRleHQgY29kZSBhbmQgbGVhZGVyIHJlbW92ZWQuXG5cbiAgICBIaWRkZW46XG4gICAgICAgIC5fcGFkIGlzIG1ldGhvZCB0byBjb21wdXRlICAucGFkIHByb3BlcnR5XG4gICAgICAgIC5fY29kZSBpcyBzdHIgdmFsdWUgZm9yIC5jb2RlIHByb3BlcnR5XG4gICAgICAgIC5fcmF3IGlzIGJ5dGVzIHZhbHVlIGZvciAucmF3IHByb3BlcnR5XG4gICAgICAgIC5faW5kZXggaXMgaW50IHZhbHVlIGZvciAuaW5kZXggcHJvcGVydHlcbiAgICAgICAgLl9pbmZpbCBpcyBtZXRob2QgdG8gY29tcHV0ZSBmdWxseSBxdWFsaWZpZWQgQmFzZTY0IGZyb20gLnJhdyBhbmQgLmNvZGVcbiAgICAgICAgLl9leGZpbCBpcyBtZXRob2QgdG8gZXh0cmFjdCAuY29kZSBhbmQgLnJhdyBmcm9tIGZ1bGx5IHF1YWxpZmllZCBCYXNlNjRcblxuICAgIE1ldGhvZHM6XG5cblxuXG5cbiAqL1xuZXhwb3J0IGNsYXNzIEJleHRlciBleHRlbmRzIE1hdHRlciB7XG4gICAgY29uc3RydWN0b3IoeyByYXcsIGNvZGUgPSBNdHJEZXguU3RyQjY0X0wwLCBxYjY0YiwgcWI2NCwgcWIyIH0sIGJleHQpIHtcbiAgICAgICAgaWYgKHJhdyA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBxYjY0YiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBxYjY0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHFiMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoYmV4dCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbXB0eU1hdGVyaWFsRXJyb3IoJ01pc3NpbmcgYmV4dCBzdHJpbmcuJyk7XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IFJlYjY0LmV4ZWMoYmV4dCk7XG4gICAgICAgICAgICBpZiAoIW1hdGNoKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBCYXNlNjQuJyk7XG4gICAgICAgICAgICByYXcgPSBCZXh0ZXIuX3Jhd2lmeShiZXh0KTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NGIsIHFiNjQsIHFiMiB9KTtcbiAgICAgICAgaWYgKCFCZXhEZXguaGFzKHRoaXMuY29kZSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29kZSA9ICR7dGhpcy5jb2RlfSBmb3IgQmV4dGVyLmApO1xuICAgIH1cbiAgICBzdGF0aWMgX3Jhd2lmeShiZXh0KSB7XG4gICAgICAgIGNvbnN0IHRzID0gYmV4dC5sZW5ndGggJSA0OyAvLyBiZXh0IHNpemUgbW9kIDRcbiAgICAgICAgY29uc3Qgd3MgPSAoNCAtIHRzKSAlIDQ7IC8vIHByZSBjb252IHdhZCBzaXplIGluIGNoYXJzXG4gICAgICAgIGNvbnN0IGxzID0gKDMgLSB0cykgJSAzOyAvLyBwb3N0IGNvbnYgbGVhZCBzaXplIGluIGJ5dGVzXG4gICAgICAgIGNvbnN0IHdhZCA9IG5ldyBBcnJheSh3cyk7XG4gICAgICAgIHdhZC5maWxsKCdBJyk7XG4gICAgICAgIGNvbnN0IGJhc2UgPSB3YWQuam9pbignJykgKyBiZXh0OyAvLyBwcmUgcGFkIHdpdGggd2FkIG9mIHplcm9zIGluIEJhc2U2NCA9PSAnQSdcbiAgICAgICAgY29uc3QgcmF3ID0gZGVjb2RlQmFzZTY0VXJsKGJhc2UpOyAvLyBbbHM6XSAgLy8gY29udmVydCBhbmQgcmVtb3ZlIGxlYWRlclxuICAgICAgICByZXR1cm4gVWludDhBcnJheS5mcm9tKHJhdykuc3ViYXJyYXkobHMpOyAvLyByYXcgYmluYXJ5IGVxdWl2YWxlbnQgb2YgdGV4dFxuICAgIH1cbiAgICBnZXQgYmV4dCgpIHtcbiAgICAgICAgY29uc3Qgc2l6YWdlID0gTWF0dGVyLlNpemVzLmdldCh0aGlzLmNvZGUpO1xuICAgICAgICBjb25zdCB3YWQgPSBVaW50OEFycmF5LmZyb20obmV3IEFycmF5KHNpemFnZSA9PT0gbnVsbCB8fCBzaXphZ2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNpemFnZS5scykuZmlsbCgwKSk7XG4gICAgICAgIGNvbnN0IGJleHQgPSBlbmNvZGVCYXNlNjRVcmwoY29uY2F0KHdhZCwgdGhpcy5yYXcpKTtcbiAgICAgICAgbGV0IHdzID0gMDtcbiAgICAgICAgaWYgKChzaXphZ2UgPT09IG51bGwgfHwgc2l6YWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaXphZ2UubHMpID09PSAwICYmIGJleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGJleHRbMF0gPT09ICdBJykge1xuICAgICAgICAgICAgICAgIHdzID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHdzID0gKChzaXphZ2UgPT09IG51bGwgfHwgc2l6YWdlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzaXphZ2UubHMpICsgMSkgJSA0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBiZXh0LnN1YnN0cmluZyh3cyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/bexter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/cigar.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/cigar.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cigar: () => (/* binding */ Cigar)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n\nclass Cigar extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code, qb64, qb64b, qb2 }, verfer) {\n        super({ raw, code, qb64, qb64b, qb2 });\n        this._verfer = verfer;\n    }\n    get verfer() {\n        return this._verfer;\n    }\n    set verfer(verfer) {\n        this._verfer = verfer;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9jaWdhci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQztBQUM5QixvQkFBb0IsOENBQU07QUFDakMsa0JBQWtCLDZCQUE2QjtBQUMvQyxnQkFBZ0IsNkJBQTZCO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2NpZ2FyLmpzPzk1MDQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0dGVyIH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5leHBvcnQgY2xhc3MgQ2lnYXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlLCBxYjY0LCBxYjY0YiwgcWIyIH0sIHZlcmZlcikge1xuICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NCwgcWI2NGIsIHFiMiB9KTtcbiAgICAgICAgdGhpcy5fdmVyZmVyID0gdmVyZmVyO1xuICAgIH1cbiAgICBnZXQgdmVyZmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmVyZmVyO1xuICAgIH1cbiAgICBzZXQgdmVyZmVyKHZlcmZlcikge1xuICAgICAgICB0aGlzLl92ZXJmZXIgPSB2ZXJmZXI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/cigar.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/cipher.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Cipher: () => (/* binding */ Cipher)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _decrypter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\");\n\n\nclass Cipher extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code, qb64, qb64b, qb2 }) {\n        if (raw != undefined && code == undefined) {\n            if (raw.length == _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter._rawSize(_matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Salt)) {\n                code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Salt;\n            }\n            else if (raw.length == _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter._rawSize(_matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Seed)) {\n                code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Salt;\n            }\n        }\n        super({ raw: raw, code: code, qb64b: qb64b, qb64: qb64, qb2: qb2 });\n        if (!Array.from([\n            _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Salt,\n            _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.X25519_Cipher_Seed,\n        ]).includes(this.code)) {\n            throw new Error(`Unsupported Cipher code == ${this.code}`);\n        }\n    }\n    decrypt(prikey = undefined, seed = undefined) {\n        const decrypter = new _decrypter_js__WEBPACK_IMPORTED_MODULE_1__.Decrypter({ qb64b: prikey }, seed);\n        return decrypter.decrypt(this.qb64b);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9jaXBoZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ0Y7QUFDcEMscUJBQXFCLDhDQUFNO0FBQ2xDLGtCQUFrQiw2QkFBNkI7QUFDL0M7QUFDQSw4QkFBOEIsOENBQU0sVUFBVSw4Q0FBTTtBQUNwRCx1QkFBdUIsOENBQU07QUFDN0I7QUFDQSxtQ0FBbUMsOENBQU0sVUFBVSw4Q0FBTTtBQUN6RCx1QkFBdUIsOENBQU07QUFDN0I7QUFDQTtBQUNBLGdCQUFnQiwwREFBMEQ7QUFDMUU7QUFDQSxZQUFZLDhDQUFNO0FBQ2xCLFlBQVksOENBQU07QUFDbEI7QUFDQSwwREFBMEQsVUFBVTtBQUNwRTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsb0RBQVMsR0FBRyxlQUFlO0FBQ3pEO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2NpcGhlci5qcz9kNDcxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1hdHRlciwgTXRyRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBEZWNyeXB0ZXIgfSBmcm9tIFwiLi9kZWNyeXB0ZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBDaXBoZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlLCBxYjY0LCBxYjY0YiwgcWIyIH0pIHtcbiAgICAgICAgaWYgKHJhdyAhPSB1bmRlZmluZWQgJiYgY29kZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChyYXcubGVuZ3RoID09IE1hdHRlci5fcmF3U2l6ZShNdHJEZXguWDI1NTE5X0NpcGhlcl9TYWx0KSkge1xuICAgICAgICAgICAgICAgIGNvZGUgPSBNdHJEZXguWDI1NTE5X0NpcGhlcl9TYWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocmF3Lmxlbmd0aCA9PSBNYXR0ZXIuX3Jhd1NpemUoTXRyRGV4LlgyNTUxOV9DaXBoZXJfU2VlZCkpIHtcbiAgICAgICAgICAgICAgICBjb2RlID0gTXRyRGV4LlgyNTUxOV9DaXBoZXJfU2FsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzdXBlcih7IHJhdzogcmF3LCBjb2RlOiBjb2RlLCBxYjY0YjogcWI2NGIsIHFiNjQ6IHFiNjQsIHFiMjogcWIyIH0pO1xuICAgICAgICBpZiAoIUFycmF5LmZyb20oW1xuICAgICAgICAgICAgTXRyRGV4LlgyNTUxOV9DaXBoZXJfU2FsdCxcbiAgICAgICAgICAgIE10ckRleC5YMjU1MTlfQ2lwaGVyX1NlZWQsXG4gICAgICAgIF0pLmluY2x1ZGVzKHRoaXMuY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgQ2lwaGVyIGNvZGUgPT0gJHt0aGlzLmNvZGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZGVjcnlwdChwcmlrZXkgPSB1bmRlZmluZWQsIHNlZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgZGVjcnlwdGVyID0gbmV3IERlY3J5cHRlcih7IHFiNjRiOiBwcmlrZXkgfSwgc2VlZCk7XG4gICAgICAgIHJldHVybiBkZWNyeXB0ZXIuZGVjcnlwdCh0aGlzLnFiNjRiKTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/core.js":
/*!********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/core.js ***!
  \********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   B64ChrByIdx: () => (/* binding */ B64ChrByIdx),\n/* harmony export */   B64IdxByChr: () => (/* binding */ B64IdxByChr),\n/* harmony export */   DipLabels: () => (/* binding */ DipLabels),\n/* harmony export */   DrtLabels: () => (/* binding */ DrtLabels),\n/* harmony export */   IcpLabels: () => (/* binding */ IcpLabels),\n/* harmony export */   Ilks: () => (/* binding */ Ilks),\n/* harmony export */   IxnLabels: () => (/* binding */ IxnLabels),\n/* harmony export */   KsnLabels: () => (/* binding */ KsnLabels),\n/* harmony export */   MINSIGSIZE: () => (/* binding */ MINSIGSIZE),\n/* harmony export */   MINSNIFFSIZE: () => (/* binding */ MINSNIFFSIZE),\n/* harmony export */   Protocols: () => (/* binding */ Protocols),\n/* harmony export */   RotLabels: () => (/* binding */ RotLabels),\n/* harmony export */   RpyLabels: () => (/* binding */ RpyLabels),\n/* harmony export */   Serials: () => (/* binding */ Serials),\n/* harmony export */   VEREX: () => (/* binding */ VEREX),\n/* harmony export */   VERFULLSIZE: () => (/* binding */ VERFULLSIZE),\n/* harmony export */   Version: () => (/* binding */ Version),\n/* harmony export */   Vrsn_1_0: () => (/* binding */ Vrsn_1_0),\n/* harmony export */   b: () => (/* binding */ b),\n/* harmony export */   b64ToInt: () => (/* binding */ b64ToInt),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   d: () => (/* binding */ d),\n/* harmony export */   deversify: () => (/* binding */ deversify),\n/* harmony export */   intToB64: () => (/* binding */ intToB64),\n/* harmony export */   intToB64b: () => (/* binding */ intToB64b),\n/* harmony export */   readInt: () => (/* binding */ readInt),\n/* harmony export */   versify: () => (/* binding */ versify)\n/* harmony export */ });\n/**\n * Serialization types supported by the KERI and ACDC protocols and this Signify implementation.\n */\nvar Serials;\n(function (Serials) {\n    Serials[\"JSON\"] = \"JSON\";\n})(Serials || (Serials = {}));\n/**\n * Protocol types supported by the KERI and ACDC protocols and this Signify implementation.\n */\nvar Protocols;\n(function (Protocols) {\n    Protocols[\"KERI\"] = \"KERI\";\n    Protocols[\"ACDC\"] = \"ACDC\";\n})(Protocols || (Protocols = {}));\n/**\n * Represents a protocol version of the KERI, ACDC, or other protocol specified in a CESR version string.\n */\nclass Version {\n    constructor(major = 1, minor = 0) {\n        this.major = major;\n        this.minor = minor;\n    }\n}\n/**\n * Denotes version 1.0 of a protocol.\n */\nconst Vrsn_1_0 = new Version();\n/**\n * Types of KERI and ACDC events.\n */\nconst Ilks = {\n    icp: 'icp',\n    rot: 'rot',\n    ixn: 'ixn',\n    dip: 'dip',\n    drt: 'drt',\n    rct: 'rct',\n    vrc: 'vrc',\n    rpy: 'rpy',\n    exn: 'exn',\n    vcp: 'vcp',\n    iss: 'iss',\n    rev: 'rev',\n    bis: 'bis',\n    brv: 'brv',\n};\n/**\n * Field labels for an inception event in V1 of the KERI protocol.\n */\nconst IcpLabels = [\n    'v',\n    'i',\n    's',\n    't',\n    'kt',\n    'k',\n    'n',\n    'bt',\n    'b',\n    'c',\n    'a',\n];\n/**\n * Field labels for an delegated inception event in V1 of the KERI protocol.\n */\nconst DipLabels = [\n    'v',\n    'i',\n    's',\n    't',\n    'kt',\n    'k',\n    'n',\n    'bt',\n    'b',\n    'c',\n    'a',\n    'di',\n];\n/**\n * Field labels for a rotation event in V1 of the KERI protocol.\n */\nconst RotLabels = [\n    'v',\n    'i',\n    's',\n    't',\n    'p',\n    'kt',\n    'k',\n    'n',\n    'bt',\n    'br',\n    'ba',\n    'a',\n];\n/**\n * Field labels for an delegated rotation event in V1 of the KERI protocol.\n */\nconst DrtLabels = [\n    'v',\n    'i',\n    's',\n    't',\n    'p',\n    'kt',\n    'k',\n    'n',\n    'bt',\n    'br',\n    'ba',\n    'a',\n];\n/**\n * Field labels for an interaction event in V1 of the KERI protocol.\n */\nconst IxnLabels = ['v', 'i', 's', 't', 'p', 'a'];\n/**\n * Field labels for a key state notice event in V1 of the KERI protocol.\n */\nconst KsnLabels = [\n    'v',\n    'i',\n    's',\n    't',\n    'p',\n    'd',\n    'f',\n    'dt',\n    'et',\n    'kt',\n    'k',\n    'n',\n    'bt',\n    'b',\n    'c',\n    'ee',\n    'di',\n    'r',\n];\n/**\n * Field labels for a reply event in V1 of the KERI protocol.\n */\nconst RpyLabels = ['v', 't', 'd', 'dt', 'r', 'a'];\n/**\n * Full size of a CESR version string in bytes.\n */\nconst VERFULLSIZE = 17;\n/**\n * Minimum number of bytes a CESR parser must sniff to receive the entire version string.\n */\nconst MINSNIFFSIZE = 12 + VERFULLSIZE;\nconst MINSIGSIZE = 4;\n// const version_pattern = 'KERI(?P<major>[0-9a-f])(?P<minor>[0-9a-f])\n// (?P<kind>[A-Z]{4})(?P<size>[0-9a-f]{6})'\n// const version_pattern1 = `KERI\\(\\?P<major>\\[0\\-9a\\-f\\]\\)\\(\\?P<minor>\\[0\\-9a\\-f\\]\\)\\\n// (\\?P<kind>\\[A\\-Z\\]\\{4\\}\\)\\(\\?P<size>\\[0\\-9a\\-f\\]\\{6\\}\\)_`\n/**\n * Regular expression for a version 1 CESR object version string.\n */\nconst VEREX = '(KERI|ACDC)([0-9a-f])([0-9a-f])([A-Z]{4})([0-9a-f]{6})_';\n/**\n * Parses a serialization version string into the protocol, protocol version, serialization type, and raw size.\n * Uses regex matchers to validate and extract version string parts.\n * @param {string} versionString version string\n * @return {Object} tuple of prototol (KERI or ACDC), kind of serialization like cbor,json, or mgpk,\n *                  protocol version, and raw size of serialization\n */\nfunction deversify(versionString) {\n    let kind;\n    let size;\n    let proto;\n    const version = Vrsn_1_0;\n    // we need to identify how to match the buffers pattern ,like we do regex matching for strings\n    const re = new RegExp(VEREX);\n    // Regex pattern matching\n    const match = re.exec(versionString);\n    if (match) {\n        [proto, version.major, version.minor, kind, size] = [\n            match[1],\n            +match[2],\n            +match[3],\n            match[4],\n            match[5],\n        ];\n        if (!Object.values(Serials).includes(kind)) {\n            throw new Error(`Invalid serialization kind = ${kind}`);\n        }\n        if (!Object.values(Protocols).includes(proto)) {\n            throw new Error(`Invalid serialization kind = ${kind}`);\n        }\n        const ta = kind;\n        kind = Serials[ta];\n        const pa = proto;\n        proto = Protocols[pa];\n        return [proto, kind, version, size];\n    }\n    throw new Error(`Invalid version string = ${versionString}`);\n}\n/**\n * Returns a valid KERI serialization version string specifying the protocol,\n * protocol version, serialization type, and raw byte size of the serialization.\n *\n * Defaults to version 1.0.\n * @param ident\n * @param version\n * @param kind\n * @param size\n */\nfunction versify(ident = Protocols.KERI, version, kind = Serials.JSON, size = 0) {\n    version = version == undefined ? Vrsn_1_0 : version; // defaults to Version 1\n    const major = version.major.toString(16); // hex digits\n    const minor = version.minor.toString(16); // hex digits\n    // raw size in hex digits zero padded to 6 characters\n    const rawSize = size.toString(16).padStart(6, '0');\n    const terminationChar = '_'; // v1 termination character\n    return `${ident}${major}${minor}${kind}${rawSize}${terminationChar}`;\n}\n/**\n * Map allowing lookup of Base64URLSafe characters by index.\n */\nconst B64ChrByIdx = new Map([\n    [0, 'A'],\n    [1, 'B'],\n    [2, 'C'],\n    [3, 'D'],\n    [4, 'E'],\n    [5, 'F'],\n    [6, 'G'],\n    [7, 'H'],\n    [8, 'I'],\n    [9, 'J'],\n    [10, 'K'],\n    [11, 'L'],\n    [12, 'M'],\n    [13, 'N'],\n    [14, 'O'],\n    [15, 'P'],\n    [16, 'Q'],\n    [17, 'R'],\n    [18, 'S'],\n    [19, 'T'],\n    [20, 'U'],\n    [21, 'V'],\n    [22, 'W'],\n    [23, 'X'],\n    [24, 'Y'],\n    [25, 'Z'],\n    [26, 'a'],\n    [27, 'b'],\n    [28, 'c'],\n    [29, 'd'],\n    [30, 'e'],\n    [31, 'f'],\n    [32, 'g'],\n    [33, 'h'],\n    [34, 'i'],\n    [35, 'j'],\n    [36, 'k'],\n    [37, 'l'],\n    [38, 'm'],\n    [39, 'n'],\n    [40, 'o'],\n    [41, 'p'],\n    [42, 'q'],\n    [43, 'r'],\n    [44, 's'],\n    [45, 't'],\n    [46, 'u'],\n    [47, 'v'],\n    [48, 'w'],\n    [49, 'x'],\n    [50, 'y'],\n    [51, 'z'],\n    [52, '0'],\n    [53, '1'],\n    [54, '2'],\n    [55, '3'],\n    [56, '4'],\n    [57, '5'],\n    [58, '6'],\n    [59, '7'],\n    [60, '8'],\n    [61, '9'],\n    [62, '-'],\n    [63, '_'],\n]);\n/**\n * Map allowing lookup of Base64URLSafe index by character.\n */\nconst B64IdxByChr = new Map(Array.from(B64ChrByIdx, (entry) => [entry[1], entry[0]]));\n/**\n * Converts an integer to a Base64URLSafe encoded string, left padded as specified.\n * @param i integer to convert\n * @param l minimum length of Base64 digits left padded with Base64 0 == 'A' character.\n */\nfunction intToB64(i, l = 1) {\n    let out = '';\n    while (l != 0) {\n        out = B64ChrByIdx.get(i % 64) + out;\n        i = Math.floor(i / 64);\n        if (i == 0) {\n            break;\n        }\n    }\n    const x = l - out.length;\n    for (let i = 0; i < x; i++) {\n        out = 'A' + out;\n    }\n    return out;\n}\n/**\n * Converts an integer to a Base64URLSafe encoded string to a byte array, left padded as specified.\n * @param i integer to convert\n * @param l minimum length of Base64 digits left padded with Base64 0 == 'A' character.\n */\nfunction intToB64b(n, l = 1) {\n    const s = intToB64(n, l);\n    return b(s);\n}\n/**\n * Converts a Base64URLSafe encoded string to an integer.\n * @param s string to convert\n */\nfunction b64ToInt(s) {\n    if (s.length == 0) {\n        throw new Error('Empty string, conversion undefined.');\n    }\n    let i = 0;\n    const rev = s.split('').reverse();\n    rev.forEach((c, e) => {\n        i |= B64IdxByChr.get(c) << (e * 6);\n    });\n    return i;\n}\n// Built in encoder and decoder for converting to and from UTF-8 strings and Uint8Array byte arrays.\nconst encoder = new TextEncoder();\nconst decoder = new TextDecoder();\n/**\n * Converts a UTF-8 string to bytes.\n * Output is an encoded array of bytes. Assumes UTF-8 encoding.\n * @param s string to be encoded as an array of bytes\n */\nfunction b(s) {\n    return encoder.encode(s);\n}\n/**\n * Convert bytes to UTF-8 string.\n * @param u array of bytes to be converted to UTF-8 string.\n */\nfunction d(u) {\n    return decoder.decode(u);\n}\n/**\n * Concatenates two byte arrays together in a new byte array.\n * @param one first byte array to be concatenated\n * @param two second byte array to be concatenated\n */\nfunction concat(one, two) {\n    const out = new Uint8Array(one.length + two.length);\n    out.set(one);\n    out.set(two, one.length);\n    return out;\n}\n/**\n * Converts a big-endian byte array into an integer.\n *\n * @param array - A `Uint8Array` of bytes representing a big-endian integer.\n * @returns The integer represented by the byte array.\n *\n * Example:\n *   readInt(Uint8Array([0x01, 0x02, 0x03])) // returns 66051\n *\n * How it works:\n * - The function interprets the array as a big-endian number.\n * - Each byte is added to the integer after shifting the previous value left by 8 bits (multiplying by 256).\n */\nfunction readInt(array) {\n    let value = 0;\n    for (let i = 0; i < array.length; i++) {\n        value = value * 256 + array[i];\n    }\n    return value;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9jb3JlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBLENBQUMsMEJBQTBCO0FBQzNCO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4QkFBOEI7QUFDL0I7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBLGtCQUFrQixFQUFFLG1CQUFtQixFQUFFO0FBQ3pDO0FBQ0EsdUJBQXVCLEdBQUcsMkJBQTJCLEdBQUc7QUFDeEQ7QUFDQTtBQUNBO0FBQ08scURBQXFELEVBQUUsV0FBVyxFQUFFO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixZQUFZLFFBQVE7QUFDcEI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxLQUFLO0FBQ2pFO0FBQ0E7QUFDQSw0REFBNEQsS0FBSztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxjQUFjO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHlEQUF5RDtBQUN6RCw4Q0FBOEM7QUFDOUMsOENBQThDO0FBQzlDO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsY0FBYyxNQUFNLEVBQUUsTUFBTSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLGdCQUFnQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLE9BQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxvQkFBb0Isa0JBQWtCO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvY29yZS5qcz9lMjNlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU2VyaWFsaXphdGlvbiB0eXBlcyBzdXBwb3J0ZWQgYnkgdGhlIEtFUkkgYW5kIEFDREMgcHJvdG9jb2xzIGFuZCB0aGlzIFNpZ25pZnkgaW1wbGVtZW50YXRpb24uXG4gKi9cbmV4cG9ydCB2YXIgU2VyaWFscztcbihmdW5jdGlvbiAoU2VyaWFscykge1xuICAgIFNlcmlhbHNbXCJKU09OXCJdID0gXCJKU09OXCI7XG59KShTZXJpYWxzIHx8IChTZXJpYWxzID0ge30pKTtcbi8qKlxuICogUHJvdG9jb2wgdHlwZXMgc3VwcG9ydGVkIGJ5IHRoZSBLRVJJIGFuZCBBQ0RDIHByb3RvY29scyBhbmQgdGhpcyBTaWduaWZ5IGltcGxlbWVudGF0aW9uLlxuICovXG5leHBvcnQgdmFyIFByb3RvY29scztcbihmdW5jdGlvbiAoUHJvdG9jb2xzKSB7XG4gICAgUHJvdG9jb2xzW1wiS0VSSVwiXSA9IFwiS0VSSVwiO1xuICAgIFByb3RvY29sc1tcIkFDRENcIl0gPSBcIkFDRENcIjtcbn0pKFByb3RvY29scyB8fCAoUHJvdG9jb2xzID0ge30pKTtcbi8qKlxuICogUmVwcmVzZW50cyBhIHByb3RvY29sIHZlcnNpb24gb2YgdGhlIEtFUkksIEFDREMsIG9yIG90aGVyIHByb3RvY29sIHNwZWNpZmllZCBpbiBhIENFU1IgdmVyc2lvbiBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJzaW9uIHtcbiAgICBjb25zdHJ1Y3RvcihtYWpvciA9IDEsIG1pbm9yID0gMCkge1xuICAgICAgICB0aGlzLm1ham9yID0gbWFqb3I7XG4gICAgICAgIHRoaXMubWlub3IgPSBtaW5vcjtcbiAgICB9XG59XG4vKipcbiAqIERlbm90ZXMgdmVyc2lvbiAxLjAgb2YgYSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IFZyc25fMV8wID0gbmV3IFZlcnNpb24oKTtcbi8qKlxuICogVHlwZXMgb2YgS0VSSSBhbmQgQUNEQyBldmVudHMuXG4gKi9cbmV4cG9ydCBjb25zdCBJbGtzID0ge1xuICAgIGljcDogJ2ljcCcsXG4gICAgcm90OiAncm90JyxcbiAgICBpeG46ICdpeG4nLFxuICAgIGRpcDogJ2RpcCcsXG4gICAgZHJ0OiAnZHJ0JyxcbiAgICByY3Q6ICdyY3QnLFxuICAgIHZyYzogJ3ZyYycsXG4gICAgcnB5OiAncnB5JyxcbiAgICBleG46ICdleG4nLFxuICAgIHZjcDogJ3ZjcCcsXG4gICAgaXNzOiAnaXNzJyxcbiAgICByZXY6ICdyZXYnLFxuICAgIGJpczogJ2JpcycsXG4gICAgYnJ2OiAnYnJ2Jyxcbn07XG4vKipcbiAqIEZpZWxkIGxhYmVscyBmb3IgYW4gaW5jZXB0aW9uIGV2ZW50IGluIFYxIG9mIHRoZSBLRVJJIHByb3RvY29sLlxuICovXG5leHBvcnQgY29uc3QgSWNwTGFiZWxzID0gW1xuICAgICd2JyxcbiAgICAnaScsXG4gICAgJ3MnLFxuICAgICd0JyxcbiAgICAna3QnLFxuICAgICdrJyxcbiAgICAnbicsXG4gICAgJ2J0JyxcbiAgICAnYicsXG4gICAgJ2MnLFxuICAgICdhJyxcbl07XG4vKipcbiAqIEZpZWxkIGxhYmVscyBmb3IgYW4gZGVsZWdhdGVkIGluY2VwdGlvbiBldmVudCBpbiBWMSBvZiB0aGUgS0VSSSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IERpcExhYmVscyA9IFtcbiAgICAndicsXG4gICAgJ2knLFxuICAgICdzJyxcbiAgICAndCcsXG4gICAgJ2t0JyxcbiAgICAnaycsXG4gICAgJ24nLFxuICAgICdidCcsXG4gICAgJ2InLFxuICAgICdjJyxcbiAgICAnYScsXG4gICAgJ2RpJyxcbl07XG4vKipcbiAqIEZpZWxkIGxhYmVscyBmb3IgYSByb3RhdGlvbiBldmVudCBpbiBWMSBvZiB0aGUgS0VSSSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJvdExhYmVscyA9IFtcbiAgICAndicsXG4gICAgJ2knLFxuICAgICdzJyxcbiAgICAndCcsXG4gICAgJ3AnLFxuICAgICdrdCcsXG4gICAgJ2snLFxuICAgICduJyxcbiAgICAnYnQnLFxuICAgICdicicsXG4gICAgJ2JhJyxcbiAgICAnYScsXG5dO1xuLyoqXG4gKiBGaWVsZCBsYWJlbHMgZm9yIGFuIGRlbGVnYXRlZCByb3RhdGlvbiBldmVudCBpbiBWMSBvZiB0aGUgS0VSSSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IERydExhYmVscyA9IFtcbiAgICAndicsXG4gICAgJ2knLFxuICAgICdzJyxcbiAgICAndCcsXG4gICAgJ3AnLFxuICAgICdrdCcsXG4gICAgJ2snLFxuICAgICduJyxcbiAgICAnYnQnLFxuICAgICdicicsXG4gICAgJ2JhJyxcbiAgICAnYScsXG5dO1xuLyoqXG4gKiBGaWVsZCBsYWJlbHMgZm9yIGFuIGludGVyYWN0aW9uIGV2ZW50IGluIFYxIG9mIHRoZSBLRVJJIHByb3RvY29sLlxuICovXG5leHBvcnQgY29uc3QgSXhuTGFiZWxzID0gWyd2JywgJ2knLCAncycsICd0JywgJ3AnLCAnYSddO1xuLyoqXG4gKiBGaWVsZCBsYWJlbHMgZm9yIGEga2V5IHN0YXRlIG5vdGljZSBldmVudCBpbiBWMSBvZiB0aGUgS0VSSSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IEtzbkxhYmVscyA9IFtcbiAgICAndicsXG4gICAgJ2knLFxuICAgICdzJyxcbiAgICAndCcsXG4gICAgJ3AnLFxuICAgICdkJyxcbiAgICAnZicsXG4gICAgJ2R0JyxcbiAgICAnZXQnLFxuICAgICdrdCcsXG4gICAgJ2snLFxuICAgICduJyxcbiAgICAnYnQnLFxuICAgICdiJyxcbiAgICAnYycsXG4gICAgJ2VlJyxcbiAgICAnZGknLFxuICAgICdyJyxcbl07XG4vKipcbiAqIEZpZWxkIGxhYmVscyBmb3IgYSByZXBseSBldmVudCBpbiBWMSBvZiB0aGUgS0VSSSBwcm90b2NvbC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJweUxhYmVscyA9IFsndicsICd0JywgJ2QnLCAnZHQnLCAncicsICdhJ107XG4vKipcbiAqIEZ1bGwgc2l6ZSBvZiBhIENFU1IgdmVyc2lvbiBzdHJpbmcgaW4gYnl0ZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBWRVJGVUxMU0laRSA9IDE3O1xuLyoqXG4gKiBNaW5pbXVtIG51bWJlciBvZiBieXRlcyBhIENFU1IgcGFyc2VyIG11c3Qgc25pZmYgdG8gcmVjZWl2ZSB0aGUgZW50aXJlIHZlcnNpb24gc3RyaW5nLlxuICovXG5leHBvcnQgY29uc3QgTUlOU05JRkZTSVpFID0gMTIgKyBWRVJGVUxMU0laRTtcbmV4cG9ydCBjb25zdCBNSU5TSUdTSVpFID0gNDtcbi8vIGNvbnN0IHZlcnNpb25fcGF0dGVybiA9ICdLRVJJKD9QPG1ham9yPlswLTlhLWZdKSg/UDxtaW5vcj5bMC05YS1mXSlcbi8vICg/UDxraW5kPltBLVpdezR9KSg/UDxzaXplPlswLTlhLWZdezZ9KSdcbi8vIGNvbnN0IHZlcnNpb25fcGF0dGVybjEgPSBgS0VSSVxcKFxcP1A8bWFqb3I+XFxbMFxcLTlhXFwtZlxcXVxcKVxcKFxcP1A8bWlub3I+XFxbMFxcLTlhXFwtZlxcXVxcKVxcXG4vLyAoXFw/UDxraW5kPlxcW0FcXC1aXFxdXFx7NFxcfVxcKVxcKFxcP1A8c2l6ZT5cXFswXFwtOWFcXC1mXFxdXFx7NlxcfVxcKV9gXG4vKipcbiAqIFJlZ3VsYXIgZXhwcmVzc2lvbiBmb3IgYSB2ZXJzaW9uIDEgQ0VTUiBvYmplY3QgdmVyc2lvbiBzdHJpbmcuXG4gKi9cbmV4cG9ydCBjb25zdCBWRVJFWCA9ICcoS0VSSXxBQ0RDKShbMC05YS1mXSkoWzAtOWEtZl0pKFtBLVpdezR9KShbMC05YS1mXXs2fSlfJztcbi8qKlxuICogUGFyc2VzIGEgc2VyaWFsaXphdGlvbiB2ZXJzaW9uIHN0cmluZyBpbnRvIHRoZSBwcm90b2NvbCwgcHJvdG9jb2wgdmVyc2lvbiwgc2VyaWFsaXphdGlvbiB0eXBlLCBhbmQgcmF3IHNpemUuXG4gKiBVc2VzIHJlZ2V4IG1hdGNoZXJzIHRvIHZhbGlkYXRlIGFuZCBleHRyYWN0IHZlcnNpb24gc3RyaW5nIHBhcnRzLlxuICogQHBhcmFtIHtzdHJpbmd9IHZlcnNpb25TdHJpbmcgdmVyc2lvbiBzdHJpbmdcbiAqIEByZXR1cm4ge09iamVjdH0gdHVwbGUgb2YgcHJvdG90b2wgKEtFUkkgb3IgQUNEQyksIGtpbmQgb2Ygc2VyaWFsaXphdGlvbiBsaWtlIGNib3IsanNvbiwgb3IgbWdwayxcbiAqICAgICAgICAgICAgICAgICAgcHJvdG9jb2wgdmVyc2lvbiwgYW5kIHJhdyBzaXplIG9mIHNlcmlhbGl6YXRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldmVyc2lmeSh2ZXJzaW9uU3RyaW5nKSB7XG4gICAgbGV0IGtpbmQ7XG4gICAgbGV0IHNpemU7XG4gICAgbGV0IHByb3RvO1xuICAgIGNvbnN0IHZlcnNpb24gPSBWcnNuXzFfMDtcbiAgICAvLyB3ZSBuZWVkIHRvIGlkZW50aWZ5IGhvdyB0byBtYXRjaCB0aGUgYnVmZmVycyBwYXR0ZXJuICxsaWtlIHdlIGRvIHJlZ2V4IG1hdGNoaW5nIGZvciBzdHJpbmdzXG4gICAgY29uc3QgcmUgPSBuZXcgUmVnRXhwKFZFUkVYKTtcbiAgICAvLyBSZWdleCBwYXR0ZXJuIG1hdGNoaW5nXG4gICAgY29uc3QgbWF0Y2ggPSByZS5leGVjKHZlcnNpb25TdHJpbmcpO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICBbcHJvdG8sIHZlcnNpb24ubWFqb3IsIHZlcnNpb24ubWlub3IsIGtpbmQsIHNpemVdID0gW1xuICAgICAgICAgICAgbWF0Y2hbMV0sXG4gICAgICAgICAgICArbWF0Y2hbMl0sXG4gICAgICAgICAgICArbWF0Y2hbM10sXG4gICAgICAgICAgICBtYXRjaFs0XSxcbiAgICAgICAgICAgIG1hdGNoWzVdLFxuICAgICAgICBdO1xuICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoU2VyaWFscykuaW5jbHVkZXMoa2luZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzZXJpYWxpemF0aW9uIGtpbmQgPSAke2tpbmR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFPYmplY3QudmFsdWVzKFByb3RvY29scykuaW5jbHVkZXMocHJvdG8pKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2VyaWFsaXphdGlvbiBraW5kID0gJHtraW5kfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRhID0ga2luZDtcbiAgICAgICAga2luZCA9IFNlcmlhbHNbdGFdO1xuICAgICAgICBjb25zdCBwYSA9IHByb3RvO1xuICAgICAgICBwcm90byA9IFByb3RvY29sc1twYV07XG4gICAgICAgIHJldHVybiBbcHJvdG8sIGtpbmQsIHZlcnNpb24sIHNpemVdO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdmVyc2lvbiBzdHJpbmcgPSAke3ZlcnNpb25TdHJpbmd9YCk7XG59XG4vKipcbiAqIFJldHVybnMgYSB2YWxpZCBLRVJJIHNlcmlhbGl6YXRpb24gdmVyc2lvbiBzdHJpbmcgc3BlY2lmeWluZyB0aGUgcHJvdG9jb2wsXG4gKiBwcm90b2NvbCB2ZXJzaW9uLCBzZXJpYWxpemF0aW9uIHR5cGUsIGFuZCByYXcgYnl0ZSBzaXplIG9mIHRoZSBzZXJpYWxpemF0aW9uLlxuICpcbiAqIERlZmF1bHRzIHRvIHZlcnNpb24gMS4wLlxuICogQHBhcmFtIGlkZW50XG4gKiBAcGFyYW0gdmVyc2lvblxuICogQHBhcmFtIGtpbmRcbiAqIEBwYXJhbSBzaXplXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2ZXJzaWZ5KGlkZW50ID0gUHJvdG9jb2xzLktFUkksIHZlcnNpb24sIGtpbmQgPSBTZXJpYWxzLkpTT04sIHNpemUgPSAwKSB7XG4gICAgdmVyc2lvbiA9IHZlcnNpb24gPT0gdW5kZWZpbmVkID8gVnJzbl8xXzAgOiB2ZXJzaW9uOyAvLyBkZWZhdWx0cyB0byBWZXJzaW9uIDFcbiAgICBjb25zdCBtYWpvciA9IHZlcnNpb24ubWFqb3IudG9TdHJpbmcoMTYpOyAvLyBoZXggZGlnaXRzXG4gICAgY29uc3QgbWlub3IgPSB2ZXJzaW9uLm1pbm9yLnRvU3RyaW5nKDE2KTsgLy8gaGV4IGRpZ2l0c1xuICAgIC8vIHJhdyBzaXplIGluIGhleCBkaWdpdHMgemVybyBwYWRkZWQgdG8gNiBjaGFyYWN0ZXJzXG4gICAgY29uc3QgcmF3U2l6ZSA9IHNpemUudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDYsICcwJyk7XG4gICAgY29uc3QgdGVybWluYXRpb25DaGFyID0gJ18nOyAvLyB2MSB0ZXJtaW5hdGlvbiBjaGFyYWN0ZXJcbiAgICByZXR1cm4gYCR7aWRlbnR9JHttYWpvcn0ke21pbm9yfSR7a2luZH0ke3Jhd1NpemV9JHt0ZXJtaW5hdGlvbkNoYXJ9YDtcbn1cbi8qKlxuICogTWFwIGFsbG93aW5nIGxvb2t1cCBvZiBCYXNlNjRVUkxTYWZlIGNoYXJhY3RlcnMgYnkgaW5kZXguXG4gKi9cbmV4cG9ydCBjb25zdCBCNjRDaHJCeUlkeCA9IG5ldyBNYXAoW1xuICAgIFswLCAnQSddLFxuICAgIFsxLCAnQiddLFxuICAgIFsyLCAnQyddLFxuICAgIFszLCAnRCddLFxuICAgIFs0LCAnRSddLFxuICAgIFs1LCAnRiddLFxuICAgIFs2LCAnRyddLFxuICAgIFs3LCAnSCddLFxuICAgIFs4LCAnSSddLFxuICAgIFs5LCAnSiddLFxuICAgIFsxMCwgJ0snXSxcbiAgICBbMTEsICdMJ10sXG4gICAgWzEyLCAnTSddLFxuICAgIFsxMywgJ04nXSxcbiAgICBbMTQsICdPJ10sXG4gICAgWzE1LCAnUCddLFxuICAgIFsxNiwgJ1EnXSxcbiAgICBbMTcsICdSJ10sXG4gICAgWzE4LCAnUyddLFxuICAgIFsxOSwgJ1QnXSxcbiAgICBbMjAsICdVJ10sXG4gICAgWzIxLCAnViddLFxuICAgIFsyMiwgJ1cnXSxcbiAgICBbMjMsICdYJ10sXG4gICAgWzI0LCAnWSddLFxuICAgIFsyNSwgJ1onXSxcbiAgICBbMjYsICdhJ10sXG4gICAgWzI3LCAnYiddLFxuICAgIFsyOCwgJ2MnXSxcbiAgICBbMjksICdkJ10sXG4gICAgWzMwLCAnZSddLFxuICAgIFszMSwgJ2YnXSxcbiAgICBbMzIsICdnJ10sXG4gICAgWzMzLCAnaCddLFxuICAgIFszNCwgJ2knXSxcbiAgICBbMzUsICdqJ10sXG4gICAgWzM2LCAnayddLFxuICAgIFszNywgJ2wnXSxcbiAgICBbMzgsICdtJ10sXG4gICAgWzM5LCAnbiddLFxuICAgIFs0MCwgJ28nXSxcbiAgICBbNDEsICdwJ10sXG4gICAgWzQyLCAncSddLFxuICAgIFs0MywgJ3InXSxcbiAgICBbNDQsICdzJ10sXG4gICAgWzQ1LCAndCddLFxuICAgIFs0NiwgJ3UnXSxcbiAgICBbNDcsICd2J10sXG4gICAgWzQ4LCAndyddLFxuICAgIFs0OSwgJ3gnXSxcbiAgICBbNTAsICd5J10sXG4gICAgWzUxLCAneiddLFxuICAgIFs1MiwgJzAnXSxcbiAgICBbNTMsICcxJ10sXG4gICAgWzU0LCAnMiddLFxuICAgIFs1NSwgJzMnXSxcbiAgICBbNTYsICc0J10sXG4gICAgWzU3LCAnNSddLFxuICAgIFs1OCwgJzYnXSxcbiAgICBbNTksICc3J10sXG4gICAgWzYwLCAnOCddLFxuICAgIFs2MSwgJzknXSxcbiAgICBbNjIsICctJ10sXG4gICAgWzYzLCAnXyddLFxuXSk7XG4vKipcbiAqIE1hcCBhbGxvd2luZyBsb29rdXAgb2YgQmFzZTY0VVJMU2FmZSBpbmRleCBieSBjaGFyYWN0ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBCNjRJZHhCeUNociA9IG5ldyBNYXAoQXJyYXkuZnJvbShCNjRDaHJCeUlkeCwgKGVudHJ5KSA9PiBbZW50cnlbMV0sIGVudHJ5WzBdXSkpO1xuLyoqXG4gKiBDb252ZXJ0cyBhbiBpbnRlZ2VyIHRvIGEgQmFzZTY0VVJMU2FmZSBlbmNvZGVkIHN0cmluZywgbGVmdCBwYWRkZWQgYXMgc3BlY2lmaWVkLlxuICogQHBhcmFtIGkgaW50ZWdlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gbCBtaW5pbXVtIGxlbmd0aCBvZiBCYXNlNjQgZGlnaXRzIGxlZnQgcGFkZGVkIHdpdGggQmFzZTY0IDAgPT0gJ0EnIGNoYXJhY3Rlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludFRvQjY0KGksIGwgPSAxKSB7XG4gICAgbGV0IG91dCA9ICcnO1xuICAgIHdoaWxlIChsICE9IDApIHtcbiAgICAgICAgb3V0ID0gQjY0Q2hyQnlJZHguZ2V0KGkgJSA2NCkgKyBvdXQ7XG4gICAgICAgIGkgPSBNYXRoLmZsb29yKGkgLyA2NCk7XG4gICAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHggPSBsIC0gb3V0Lmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHg7IGkrKykge1xuICAgICAgICBvdXQgPSAnQScgKyBvdXQ7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIGludGVnZXIgdG8gYSBCYXNlNjRVUkxTYWZlIGVuY29kZWQgc3RyaW5nIHRvIGEgYnl0ZSBhcnJheSwgbGVmdCBwYWRkZWQgYXMgc3BlY2lmaWVkLlxuICogQHBhcmFtIGkgaW50ZWdlciB0byBjb252ZXJ0XG4gKiBAcGFyYW0gbCBtaW5pbXVtIGxlbmd0aCBvZiBCYXNlNjQgZGlnaXRzIGxlZnQgcGFkZGVkIHdpdGggQmFzZTY0IDAgPT0gJ0EnIGNoYXJhY3Rlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGludFRvQjY0YihuLCBsID0gMSkge1xuICAgIGNvbnN0IHMgPSBpbnRUb0I2NChuLCBsKTtcbiAgICByZXR1cm4gYihzKTtcbn1cbi8qKlxuICogQ29udmVydHMgYSBCYXNlNjRVUkxTYWZlIGVuY29kZWQgc3RyaW5nIHRvIGFuIGludGVnZXIuXG4gKiBAcGFyYW0gcyBzdHJpbmcgdG8gY29udmVydFxuICovXG5leHBvcnQgZnVuY3Rpb24gYjY0VG9JbnQocykge1xuICAgIGlmIChzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgc3RyaW5nLCBjb252ZXJzaW9uIHVuZGVmaW5lZC4nKTtcbiAgICB9XG4gICAgbGV0IGkgPSAwO1xuICAgIGNvbnN0IHJldiA9IHMuc3BsaXQoJycpLnJldmVyc2UoKTtcbiAgICByZXYuZm9yRWFjaCgoYywgZSkgPT4ge1xuICAgICAgICBpIHw9IEI2NElkeEJ5Q2hyLmdldChjKSA8PCAoZSAqIDYpO1xuICAgIH0pO1xuICAgIHJldHVybiBpO1xufVxuLy8gQnVpbHQgaW4gZW5jb2RlciBhbmQgZGVjb2RlciBmb3IgY29udmVydGluZyB0byBhbmQgZnJvbSBVVEYtOCBzdHJpbmdzIGFuZCBVaW50OEFycmF5IGJ5dGUgYXJyYXlzLlxuY29uc3QgZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuLyoqXG4gKiBDb252ZXJ0cyBhIFVURi04IHN0cmluZyB0byBieXRlcy5cbiAqIE91dHB1dCBpcyBhbiBlbmNvZGVkIGFycmF5IG9mIGJ5dGVzLiBBc3N1bWVzIFVURi04IGVuY29kaW5nLlxuICogQHBhcmFtIHMgc3RyaW5nIHRvIGJlIGVuY29kZWQgYXMgYW4gYXJyYXkgb2YgYnl0ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGIocykge1xuICAgIHJldHVybiBlbmNvZGVyLmVuY29kZShzKTtcbn1cbi8qKlxuICogQ29udmVydCBieXRlcyB0byBVVEYtOCBzdHJpbmcuXG4gKiBAcGFyYW0gdSBhcnJheSBvZiBieXRlcyB0byBiZSBjb252ZXJ0ZWQgdG8gVVRGLTggc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZCh1KSB7XG4gICAgcmV0dXJuIGRlY29kZXIuZGVjb2RlKHUpO1xufVxuLyoqXG4gKiBDb25jYXRlbmF0ZXMgdHdvIGJ5dGUgYXJyYXlzIHRvZ2V0aGVyIGluIGEgbmV3IGJ5dGUgYXJyYXkuXG4gKiBAcGFyYW0gb25lIGZpcnN0IGJ5dGUgYXJyYXkgdG8gYmUgY29uY2F0ZW5hdGVkXG4gKiBAcGFyYW0gdHdvIHNlY29uZCBieXRlIGFycmF5IHRvIGJlIGNvbmNhdGVuYXRlZFxuICovXG5leHBvcnQgZnVuY3Rpb24gY29uY2F0KG9uZSwgdHdvKSB7XG4gICAgY29uc3Qgb3V0ID0gbmV3IFVpbnQ4QXJyYXkob25lLmxlbmd0aCArIHR3by5sZW5ndGgpO1xuICAgIG91dC5zZXQob25lKTtcbiAgICBvdXQuc2V0KHR3bywgb25lLmxlbmd0aCk7XG4gICAgcmV0dXJuIG91dDtcbn1cbi8qKlxuICogQ29udmVydHMgYSBiaWctZW5kaWFuIGJ5dGUgYXJyYXkgaW50byBhbiBpbnRlZ2VyLlxuICpcbiAqIEBwYXJhbSBhcnJheSAtIEEgYFVpbnQ4QXJyYXlgIG9mIGJ5dGVzIHJlcHJlc2VudGluZyBhIGJpZy1lbmRpYW4gaW50ZWdlci5cbiAqIEByZXR1cm5zIFRoZSBpbnRlZ2VyIHJlcHJlc2VudGVkIGJ5IHRoZSBieXRlIGFycmF5LlxuICpcbiAqIEV4YW1wbGU6XG4gKiAgIHJlYWRJbnQoVWludDhBcnJheShbMHgwMSwgMHgwMiwgMHgwM10pKSAvLyByZXR1cm5zIDY2MDUxXG4gKlxuICogSG93IGl0IHdvcmtzOlxuICogLSBUaGUgZnVuY3Rpb24gaW50ZXJwcmV0cyB0aGUgYXJyYXkgYXMgYSBiaWctZW5kaWFuIG51bWJlci5cbiAqIC0gRWFjaCBieXRlIGlzIGFkZGVkIHRvIHRoZSBpbnRlZ2VyIGFmdGVyIHNoaWZ0aW5nIHRoZSBwcmV2aW91cyB2YWx1ZSBsZWZ0IGJ5IDggYml0cyAobXVsdGlwbHlpbmcgYnkgMjU2KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlYWRJbnQoYXJyYXkpIHtcbiAgICBsZXQgdmFsdWUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAqIDI1NiArIGFycmF5W2ldO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/counter.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Counter: () => (/* binding */ Counter),\n/* harmony export */   CounterCodex: () => (/* binding */ CounterCodex),\n/* harmony export */   CtrDex: () => (/* binding */ CtrDex)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n\n\nclass CounterCodex extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Codex {\n    constructor() {\n        super(...arguments);\n        this.ControllerIdxSigs = '-A'; // Qualified Base64 Indexed Signature.\n        this.WitnessIdxSigs = '-B'; // Qualified Base64 Indexed Signature.\n        this.NonTransReceiptCouples = '-C'; // Composed Base64 Couple, pre+cig.\n        this.TransReceiptQuadruples = '-D'; // Composed Base64 Quadruple, pre+snu+dig+sig.\n        this.FirstSeenReplayCouples = '-E'; // Composed Base64 Couple, fnu+dts.\n        this.TransIdxSigGroups = '-F'; // Composed Base64 Group, pre+snu+dig+ControllerIdxSigs group.\n        this.SealSourceCouples = '-G'; // Composed Base64 couple, snu+dig of given delegators or issuers event\n        this.TransLastIdxSigGroups = '-H'; // Composed Base64 Group, pre+ControllerIdxSigs group.\n        this.SealSourceTriples = '-I'; // Composed Base64 triple, pre+snu+dig of anchoring source event\n        this.SadPathSig = '-J'; // Composed Base64 Group path+TransIdxSigGroup of SAID of content\n        this.SadPathSigGroup = '-K'; // Composed Base64 Group, root(path)+SaidPathCouples\n        this.PathedMaterialQuadlets = '-L'; // Composed Grouped Pathed Material Quadlet (4 char each)\n        this.AttachedMaterialQuadlets = '-V'; // Composed Grouped Attached Material Quadlet (4 char each)\n        this.BigAttachedMaterialQuadlets = '-0V'; // Composed Grouped Attached Material Quadlet (4 char each)\n        this.KERIProtocolStack = '--AAA'; // KERI ACDC Protocol Stack CESR Version\n    }\n}\nconst CtrDex = new CounterCodex();\nclass Counter {\n    constructor({ code, count, countB64, qb64b, qb64, qb2 }) {\n        this._code = '';\n        this._count = -1;\n        if (code != undefined) {\n            if (!Counter.Sizes.has(code)) {\n                throw new Error(`\"Unsupported code=${code}.`);\n            }\n            const sizage = Counter.Sizes.get(code);\n            const cs = sizage.hs + sizage.ss;\n            if (sizage.fs != cs || cs % 4 != 0) {\n                throw new Error(`Whole code size not full size or not multiple of 4. cs=${cs} fs=${sizage.fs}.`);\n            }\n            if (count == undefined) {\n                count = countB64 == undefined ? 1 : (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b64ToInt)(countB64);\n            }\n            if (count < 0 || count > 64 ** sizage.ss - 1) {\n                throw new Error(`Invalid count=${count} for code=${code}.`);\n            }\n            this._code = code;\n            this._count = count;\n        }\n        else if (qb64b != undefined) {\n            const qb64 = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.d)(qb64b);\n            this._exfil(qb64);\n        }\n        else if (qb64 != undefined) {\n            this._exfil(qb64);\n        }\n        else if (qb2 != undefined) {\n        }\n        else {\n            throw new Error(`Improper initialization need either (code and count) or qb64b or qb64 or qb2.`);\n        }\n    }\n    get code() {\n        return this._code;\n    }\n    get count() {\n        return this._count;\n    }\n    get qb64() {\n        return this._infil();\n    }\n    get qb64b() {\n        return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.qb64);\n    }\n    countToB64(l) {\n        if (l == undefined) {\n            const sizage = Counter.Sizes.get(this.code);\n            l = sizage.ss;\n        }\n        return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(this.count, l);\n    }\n    static semVerToB64(version = '', major = 0, minor = 0, patch = 0) {\n        let parts = [major, minor, patch];\n        if (version != '') {\n            const ssplits = version.split('.');\n            const splits = ssplits.map((x) => {\n                if (x == '')\n                    return 0;\n                return parseInt(x);\n            });\n            const off = splits.length;\n            const x = 3 - off;\n            for (let i = 0; i < x; i++) {\n                splits.push(parts[i + off]);\n            }\n            parts = splits;\n        }\n        parts.forEach((p) => {\n            if (p < 0 || p > 63) {\n                throw new Error(`Out of bounds semantic version. Part=${p} is < 0 or > 63.`);\n            }\n        });\n        return parts\n            .map((p) => {\n            return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(p, 1);\n        })\n            .join('');\n    }\n    _infil() {\n        const code = this.code;\n        const count = this.count;\n        const sizage = Counter.Sizes.get(code);\n        const cs = sizage.hs + sizage.ss;\n        if (sizage.fs != cs || cs % 4 != 0) {\n            throw new Error(`Whole code size not full size or not multiple of 4. cs=${cs} fs=${sizage.fs}.`);\n        }\n        if (count < 0 || count > 64 ** sizage.ss - 1) {\n            throw new Error(`Invalid count=${count} for code=${code}.`);\n        }\n        const both = `${code}${(0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(count, sizage.ss)}`;\n        if (both.length % 4) {\n            throw new Error(`Invalid size = ${both.length} of ${both} not a multiple of 4.`);\n        }\n        return both;\n    }\n    _exfil(qb64) {\n        if (qb64.length == 0) {\n            throw new Error('Empty Material');\n        }\n        const first = qb64.slice(0, 2);\n        if (!Counter.Hards.has(first)) {\n            throw new Error(`Unexpected code ${first}`);\n        }\n        const hs = Counter.Hards.get(first);\n        if (qb64.length < hs) {\n            throw new Error(`Need ${hs - qb64.length} more characters.`);\n        }\n        const hard = qb64.slice(0, hs);\n        if (!Counter.Sizes.has(hard)) {\n            throw new Error(`Unsupported code ${hard}`);\n        }\n        const sizage = Counter.Sizes.get(hard);\n        const cs = sizage.hs + sizage.ss;\n        if (qb64.length < cs) {\n            throw new Error(`Need ${cs - qb64.length} more chars.`);\n        }\n        const scount = qb64.slice(sizage.hs, sizage.hs + sizage.ss);\n        const count = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b64ToInt)(scount);\n        this._code = hard;\n        this._count = count;\n    }\n}\nCounter.Sizes = new Map(Object.entries({\n    '-A': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-B': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-C': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-D': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-E': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-F': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-G': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-H': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-I': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-J': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-K': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-L': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-V': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(2, 2, 4, 0),\n    '-0V': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(3, 5, 8, 0),\n    '--AAA': new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Sizage(5, 3, 8, 0),\n}));\nCounter.Hards = new Map([\n    ['-A', 2],\n    ['-B', 2],\n    ['-C', 2],\n    ['-D', 2],\n    ['-E', 2],\n    ['-F', 2],\n    ['-G', 2],\n    ['-H', 2],\n    ['-I', 2],\n    ['-J', 2],\n    ['-K', 2],\n    ['-L', 2],\n    ['-M', 2],\n    ['-N', 2],\n    ['-O', 2],\n    ['-P', 2],\n    ['-Q', 2],\n    ['-R', 2],\n    ['-S', 2],\n    ['-T', 2],\n    ['-U', 2],\n    ['-V', 2],\n    ['-W', 2],\n    ['-X', 2],\n    ['-Y', 2],\n    ['-Z', 2],\n    ['-a', 2],\n    ['-b', 2],\n    ['-c', 2],\n    ['-d', 2],\n    ['-e', 2],\n    ['-f', 2],\n    ['-g', 2],\n    ['-h', 2],\n    ['-i', 2],\n    ['-j', 2],\n    ['-k', 2],\n    ['-l', 2],\n    ['-m', 2],\n    ['-n', 2],\n    ['-o', 2],\n    ['-p', 2],\n    ['-q', 2],\n    ['-r', 2],\n    ['-s', 2],\n    ['-t', 2],\n    ['-u', 2],\n    ['-v', 2],\n    ['-w', 2],\n    ['-x', 2],\n    ['-y', 2],\n    ['-z', 2],\n    ['-0', 3],\n    ['--', 5],\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9jb3VudGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTRDO0FBQ1M7QUFDOUMsMkJBQTJCLDZDQUFLO0FBQ3ZDO0FBQ0E7QUFDQSx1Q0FBdUM7QUFDdkMsb0NBQW9DO0FBQ3BDLDRDQUE0QztBQUM1Qyw0Q0FBNEM7QUFDNUMsNENBQTRDO0FBQzVDLHVDQUF1QztBQUN2Qyx1Q0FBdUM7QUFDdkMsMkNBQTJDO0FBQzNDLHVDQUF1QztBQUN2QyxnQ0FBZ0M7QUFDaEMscUNBQXFDO0FBQ3JDLDRDQUE0QztBQUM1Qyw4Q0FBOEM7QUFDOUMsa0RBQWtEO0FBQ2xELDBDQUEwQztBQUMxQztBQUNBO0FBQ087QUFDQTtBQUNQLGtCQUFrQix5Q0FBeUM7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxREFBcUQsS0FBSztBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRixJQUFJLEtBQUssVUFBVTtBQUM3RztBQUNBO0FBQ0Esb0RBQW9ELGtEQUFRO0FBQzVEO0FBQ0E7QUFDQSxpREFBaUQsT0FBTyxXQUFXLEtBQUs7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQ0FBQztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0RBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSw0QkFBNEIsT0FBTztBQUNuQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsR0FBRztBQUMzRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFRO0FBQzNCLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0ZBQXNGLElBQUksS0FBSyxVQUFVO0FBQ3pHO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTyxXQUFXLEtBQUs7QUFDcEU7QUFDQSx3QkFBd0IsS0FBSyxFQUFFLGtEQUFRLG1CQUFtQjtBQUMxRDtBQUNBLDhDQUE4QyxhQUFhLEtBQUssTUFBTTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsTUFBTTtBQUNyRDtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxLQUFLO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFRO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDhDQUFNO0FBQ3BCLGNBQWMsOENBQU07QUFDcEIsY0FBYyw4Q0FBTTtBQUNwQixjQUFjLDhDQUFNO0FBQ3BCLGNBQWMsOENBQU07QUFDcEIsY0FBYyw4Q0FBTTtBQUNwQixjQUFjLDhDQUFNO0FBQ3BCLGNBQWMsOENBQU07QUFDcEIsY0FBYyw4Q0FBTTtBQUNwQixjQUFjLDhDQUFNO0FBQ3BCLGNBQWMsOENBQU07QUFDcEIsY0FBYyw4Q0FBTTtBQUNwQixjQUFjLDhDQUFNO0FBQ3BCLGVBQWUsOENBQU07QUFDckIsaUJBQWlCLDhDQUFNO0FBQ3ZCLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvY291bnRlci5qcz9iNDMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvZGV4LCBTaXphZ2UgfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IGIsIGI2NFRvSW50LCBkLCBpbnRUb0I2NCB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmV4cG9ydCBjbGFzcyBDb3VudGVyQ29kZXggZXh0ZW5kcyBDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuQ29udHJvbGxlcklkeFNpZ3MgPSAnLUEnOyAvLyBRdWFsaWZpZWQgQmFzZTY0IEluZGV4ZWQgU2lnbmF0dXJlLlxuICAgICAgICB0aGlzLldpdG5lc3NJZHhTaWdzID0gJy1CJzsgLy8gUXVhbGlmaWVkIEJhc2U2NCBJbmRleGVkIFNpZ25hdHVyZS5cbiAgICAgICAgdGhpcy5Ob25UcmFuc1JlY2VpcHRDb3VwbGVzID0gJy1DJzsgLy8gQ29tcG9zZWQgQmFzZTY0IENvdXBsZSwgcHJlK2NpZy5cbiAgICAgICAgdGhpcy5UcmFuc1JlY2VpcHRRdWFkcnVwbGVzID0gJy1EJzsgLy8gQ29tcG9zZWQgQmFzZTY0IFF1YWRydXBsZSwgcHJlK3NudStkaWcrc2lnLlxuICAgICAgICB0aGlzLkZpcnN0U2VlblJlcGxheUNvdXBsZXMgPSAnLUUnOyAvLyBDb21wb3NlZCBCYXNlNjQgQ291cGxlLCBmbnUrZHRzLlxuICAgICAgICB0aGlzLlRyYW5zSWR4U2lnR3JvdXBzID0gJy1GJzsgLy8gQ29tcG9zZWQgQmFzZTY0IEdyb3VwLCBwcmUrc251K2RpZytDb250cm9sbGVySWR4U2lncyBncm91cC5cbiAgICAgICAgdGhpcy5TZWFsU291cmNlQ291cGxlcyA9ICctRyc7IC8vIENvbXBvc2VkIEJhc2U2NCBjb3VwbGUsIHNudStkaWcgb2YgZ2l2ZW4gZGVsZWdhdG9ycyBvciBpc3N1ZXJzIGV2ZW50XG4gICAgICAgIHRoaXMuVHJhbnNMYXN0SWR4U2lnR3JvdXBzID0gJy1IJzsgLy8gQ29tcG9zZWQgQmFzZTY0IEdyb3VwLCBwcmUrQ29udHJvbGxlcklkeFNpZ3MgZ3JvdXAuXG4gICAgICAgIHRoaXMuU2VhbFNvdXJjZVRyaXBsZXMgPSAnLUknOyAvLyBDb21wb3NlZCBCYXNlNjQgdHJpcGxlLCBwcmUrc251K2RpZyBvZiBhbmNob3Jpbmcgc291cmNlIGV2ZW50XG4gICAgICAgIHRoaXMuU2FkUGF0aFNpZyA9ICctSic7IC8vIENvbXBvc2VkIEJhc2U2NCBHcm91cCBwYXRoK1RyYW5zSWR4U2lnR3JvdXAgb2YgU0FJRCBvZiBjb250ZW50XG4gICAgICAgIHRoaXMuU2FkUGF0aFNpZ0dyb3VwID0gJy1LJzsgLy8gQ29tcG9zZWQgQmFzZTY0IEdyb3VwLCByb290KHBhdGgpK1NhaWRQYXRoQ291cGxlc1xuICAgICAgICB0aGlzLlBhdGhlZE1hdGVyaWFsUXVhZGxldHMgPSAnLUwnOyAvLyBDb21wb3NlZCBHcm91cGVkIFBhdGhlZCBNYXRlcmlhbCBRdWFkbGV0ICg0IGNoYXIgZWFjaClcbiAgICAgICAgdGhpcy5BdHRhY2hlZE1hdGVyaWFsUXVhZGxldHMgPSAnLVYnOyAvLyBDb21wb3NlZCBHcm91cGVkIEF0dGFjaGVkIE1hdGVyaWFsIFF1YWRsZXQgKDQgY2hhciBlYWNoKVxuICAgICAgICB0aGlzLkJpZ0F0dGFjaGVkTWF0ZXJpYWxRdWFkbGV0cyA9ICctMFYnOyAvLyBDb21wb3NlZCBHcm91cGVkIEF0dGFjaGVkIE1hdGVyaWFsIFF1YWRsZXQgKDQgY2hhciBlYWNoKVxuICAgICAgICB0aGlzLktFUklQcm90b2NvbFN0YWNrID0gJy0tQUFBJzsgLy8gS0VSSSBBQ0RDIFByb3RvY29sIFN0YWNrIENFU1IgVmVyc2lvblxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBDdHJEZXggPSBuZXcgQ291bnRlckNvZGV4KCk7XG5leHBvcnQgY2xhc3MgQ291bnRlciB7XG4gICAgY29uc3RydWN0b3IoeyBjb2RlLCBjb3VudCwgY291bnRCNjQsIHFiNjRiLCBxYjY0LCBxYjIgfSkge1xuICAgICAgICB0aGlzLl9jb2RlID0gJyc7XG4gICAgICAgIHRoaXMuX2NvdW50ID0gLTE7XG4gICAgICAgIGlmIChjb2RlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKCFDb3VudGVyLlNpemVzLmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJVbnN1cHBvcnRlZCBjb2RlPSR7Y29kZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBzaXphZ2UgPSBDb3VudGVyLlNpemVzLmdldChjb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGNzID0gc2l6YWdlLmhzICsgc2l6YWdlLnNzO1xuICAgICAgICAgICAgaWYgKHNpemFnZS5mcyAhPSBjcyB8fCBjcyAlIDQgIT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgV2hvbGUgY29kZSBzaXplIG5vdCBmdWxsIHNpemUgb3Igbm90IG11bHRpcGxlIG9mIDQuIGNzPSR7Y3N9IGZzPSR7c2l6YWdlLmZzfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb3VudCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBjb3VudCA9IGNvdW50QjY0ID09IHVuZGVmaW5lZCA/IDEgOiBiNjRUb0ludChjb3VudEI2NCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY291bnQgPCAwIHx8IGNvdW50ID4gNjQgKiogc2l6YWdlLnNzIC0gMSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb3VudD0ke2NvdW50fSBmb3IgY29kZT0ke2NvZGV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY29kZSA9IGNvZGU7XG4gICAgICAgICAgICB0aGlzLl9jb3VudCA9IGNvdW50O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHFiNjRiICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3QgcWI2NCA9IGQocWI2NGIpO1xuICAgICAgICAgICAgdGhpcy5fZXhmaWwocWI2NCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocWI2NCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX2V4ZmlsKHFiNjQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHFiMiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW1wcm9wZXIgaW5pdGlhbGl6YXRpb24gbmVlZCBlaXRoZXIgKGNvZGUgYW5kIGNvdW50KSBvciBxYjY0YiBvciBxYjY0IG9yIHFiMi5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvZGU7XG4gICAgfVxuICAgIGdldCBjb3VudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvdW50O1xuICAgIH1cbiAgICBnZXQgcWI2NCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2luZmlsKCk7XG4gICAgfVxuICAgIGdldCBxYjY0YigpIHtcbiAgICAgICAgcmV0dXJuIGIodGhpcy5xYjY0KTtcbiAgICB9XG4gICAgY291bnRUb0I2NChsKSB7XG4gICAgICAgIGlmIChsID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc3Qgc2l6YWdlID0gQ291bnRlci5TaXplcy5nZXQodGhpcy5jb2RlKTtcbiAgICAgICAgICAgIGwgPSBzaXphZ2Uuc3M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGludFRvQjY0KHRoaXMuY291bnQsIGwpO1xuICAgIH1cbiAgICBzdGF0aWMgc2VtVmVyVG9CNjQodmVyc2lvbiA9ICcnLCBtYWpvciA9IDAsIG1pbm9yID0gMCwgcGF0Y2ggPSAwKSB7XG4gICAgICAgIGxldCBwYXJ0cyA9IFttYWpvciwgbWlub3IsIHBhdGNoXTtcbiAgICAgICAgaWYgKHZlcnNpb24gIT0gJycpIHtcbiAgICAgICAgICAgIGNvbnN0IHNzcGxpdHMgPSB2ZXJzaW9uLnNwbGl0KCcuJyk7XG4gICAgICAgICAgICBjb25zdCBzcGxpdHMgPSBzc3BsaXRzLm1hcCgoeCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh4ID09ICcnKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoeCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG9mZiA9IHNwbGl0cy5sZW5ndGg7XG4gICAgICAgICAgICBjb25zdCB4ID0gMyAtIG9mZjtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgeDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3BsaXRzLnB1c2gocGFydHNbaSArIG9mZl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFydHMgPSBzcGxpdHM7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMuZm9yRWFjaCgocCkgPT4ge1xuICAgICAgICAgICAgaWYgKHAgPCAwIHx8IHAgPiA2Mykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgT3V0IG9mIGJvdW5kcyBzZW1hbnRpYyB2ZXJzaW9uLiBQYXJ0PSR7cH0gaXMgPCAwIG9yID4gNjMuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFydHNcbiAgICAgICAgICAgIC5tYXAoKHApID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpbnRUb0I2NChwLCAxKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5qb2luKCcnKTtcbiAgICB9XG4gICAgX2luZmlsKCkge1xuICAgICAgICBjb25zdCBjb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMuY291bnQ7XG4gICAgICAgIGNvbnN0IHNpemFnZSA9IENvdW50ZXIuU2l6ZXMuZ2V0KGNvZGUpO1xuICAgICAgICBjb25zdCBjcyA9IHNpemFnZS5ocyArIHNpemFnZS5zcztcbiAgICAgICAgaWYgKHNpemFnZS5mcyAhPSBjcyB8fCBjcyAlIDQgIT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBXaG9sZSBjb2RlIHNpemUgbm90IGZ1bGwgc2l6ZSBvciBub3QgbXVsdGlwbGUgb2YgNC4gY3M9JHtjc30gZnM9JHtzaXphZ2UuZnN9LmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCA8IDAgfHwgY291bnQgPiA2NCAqKiBzaXphZ2Uuc3MgLSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY291bnQ9JHtjb3VudH0gZm9yIGNvZGU9JHtjb2RlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBib3RoID0gYCR7Y29kZX0ke2ludFRvQjY0KGNvdW50LCBzaXphZ2Uuc3MpfWA7XG4gICAgICAgIGlmIChib3RoLmxlbmd0aCAlIDQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaXplID0gJHtib3RoLmxlbmd0aH0gb2YgJHtib3RofSBub3QgYSBtdWx0aXBsZSBvZiA0LmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBib3RoO1xuICAgIH1cbiAgICBfZXhmaWwocWI2NCkge1xuICAgICAgICBpZiAocWI2NC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSBNYXRlcmlhbCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gcWI2NC5zbGljZSgwLCAyKTtcbiAgICAgICAgaWYgKCFDb3VudGVyLkhhcmRzLmhhcyhmaXJzdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBjb2RlICR7Zmlyc3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaHMgPSBDb3VudGVyLkhhcmRzLmdldChmaXJzdCk7XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA8IGhzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5lZWQgJHtocyAtIHFiNjQubGVuZ3RofSBtb3JlIGNoYXJhY3RlcnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFyZCA9IHFiNjQuc2xpY2UoMCwgaHMpO1xuICAgICAgICBpZiAoIUNvdW50ZXIuU2l6ZXMuaGFzKGhhcmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvZGUgJHtoYXJkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNpemFnZSA9IENvdW50ZXIuU2l6ZXMuZ2V0KGhhcmQpO1xuICAgICAgICBjb25zdCBjcyA9IHNpemFnZS5ocyArIHNpemFnZS5zcztcbiAgICAgICAgaWYgKHFiNjQubGVuZ3RoIDwgY3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCAke2NzIC0gcWI2NC5sZW5ndGh9IG1vcmUgY2hhcnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2NvdW50ID0gcWI2NC5zbGljZShzaXphZ2UuaHMsIHNpemFnZS5ocyArIHNpemFnZS5zcyk7XG4gICAgICAgIGNvbnN0IGNvdW50ID0gYjY0VG9JbnQoc2NvdW50KTtcbiAgICAgICAgdGhpcy5fY29kZSA9IGhhcmQ7XG4gICAgICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XG4gICAgfVxufVxuQ291bnRlci5TaXplcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoe1xuICAgICctQSc6IG5ldyBTaXphZ2UoMiwgMiwgNCwgMCksXG4gICAgJy1CJzogbmV3IFNpemFnZSgyLCAyLCA0LCAwKSxcbiAgICAnLUMnOiBuZXcgU2l6YWdlKDIsIDIsIDQsIDApLFxuICAgICctRCc6IG5ldyBTaXphZ2UoMiwgMiwgNCwgMCksXG4gICAgJy1FJzogbmV3IFNpemFnZSgyLCAyLCA0LCAwKSxcbiAgICAnLUYnOiBuZXcgU2l6YWdlKDIsIDIsIDQsIDApLFxuICAgICctRyc6IG5ldyBTaXphZ2UoMiwgMiwgNCwgMCksXG4gICAgJy1IJzogbmV3IFNpemFnZSgyLCAyLCA0LCAwKSxcbiAgICAnLUknOiBuZXcgU2l6YWdlKDIsIDIsIDQsIDApLFxuICAgICctSic6IG5ldyBTaXphZ2UoMiwgMiwgNCwgMCksXG4gICAgJy1LJzogbmV3IFNpemFnZSgyLCAyLCA0LCAwKSxcbiAgICAnLUwnOiBuZXcgU2l6YWdlKDIsIDIsIDQsIDApLFxuICAgICctVic6IG5ldyBTaXphZ2UoMiwgMiwgNCwgMCksXG4gICAgJy0wVic6IG5ldyBTaXphZ2UoMywgNSwgOCwgMCksXG4gICAgJy0tQUFBJzogbmV3IFNpemFnZSg1LCAzLCA4LCAwKSxcbn0pKTtcbkNvdW50ZXIuSGFyZHMgPSBuZXcgTWFwKFtcbiAgICBbJy1BJywgMl0sXG4gICAgWyctQicsIDJdLFxuICAgIFsnLUMnLCAyXSxcbiAgICBbJy1EJywgMl0sXG4gICAgWyctRScsIDJdLFxuICAgIFsnLUYnLCAyXSxcbiAgICBbJy1HJywgMl0sXG4gICAgWyctSCcsIDJdLFxuICAgIFsnLUknLCAyXSxcbiAgICBbJy1KJywgMl0sXG4gICAgWyctSycsIDJdLFxuICAgIFsnLUwnLCAyXSxcbiAgICBbJy1NJywgMl0sXG4gICAgWyctTicsIDJdLFxuICAgIFsnLU8nLCAyXSxcbiAgICBbJy1QJywgMl0sXG4gICAgWyctUScsIDJdLFxuICAgIFsnLVInLCAyXSxcbiAgICBbJy1TJywgMl0sXG4gICAgWyctVCcsIDJdLFxuICAgIFsnLVUnLCAyXSxcbiAgICBbJy1WJywgMl0sXG4gICAgWyctVycsIDJdLFxuICAgIFsnLVgnLCAyXSxcbiAgICBbJy1ZJywgMl0sXG4gICAgWyctWicsIDJdLFxuICAgIFsnLWEnLCAyXSxcbiAgICBbJy1iJywgMl0sXG4gICAgWyctYycsIDJdLFxuICAgIFsnLWQnLCAyXSxcbiAgICBbJy1lJywgMl0sXG4gICAgWyctZicsIDJdLFxuICAgIFsnLWcnLCAyXSxcbiAgICBbJy1oJywgMl0sXG4gICAgWyctaScsIDJdLFxuICAgIFsnLWonLCAyXSxcbiAgICBbJy1rJywgMl0sXG4gICAgWyctbCcsIDJdLFxuICAgIFsnLW0nLCAyXSxcbiAgICBbJy1uJywgMl0sXG4gICAgWyctbycsIDJdLFxuICAgIFsnLXAnLCAyXSxcbiAgICBbJy1xJywgMl0sXG4gICAgWyctcicsIDJdLFxuICAgIFsnLXMnLCAyXSxcbiAgICBbJy10JywgMl0sXG4gICAgWyctdScsIDJdLFxuICAgIFsnLXYnLCAyXSxcbiAgICBbJy13JywgMl0sXG4gICAgWycteCcsIDJdLFxuICAgIFsnLXknLCAyXSxcbiAgICBbJy16JywgMl0sXG4gICAgWyctMCcsIDNdLFxuICAgIFsnLS0nLCA1XSxcbl0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/decrypter.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Decrypter: () => (/* binding */ Decrypter)\n/* harmony export */ });\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _signer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./signer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\");\n/* harmony import */ var _cipher_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./cipher.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _salter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n\n\n\n\n\n\nclass Decrypter extends _matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter {\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Private, qb64, qb64b, qb2 }, seed = undefined) {\n        try {\n            super({ raw, code, qb64, qb64b, qb2 });\n        }\n        catch (e) {\n            if (e instanceof _kering_js__WEBPACK_IMPORTED_MODULE_4__.EmptyMaterialError) {\n                if (seed != undefined) {\n                    const signer = new _signer_js__WEBPACK_IMPORTED_MODULE_2__.Signer({ qb64b: seed });\n                    if (signer.code != _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed) {\n                        throw new Error(`Unsupported signing seed derivation code ${signer.code}`);\n                    }\n                    const sigkey = new Uint8Array(signer.raw.length + signer.verfer.raw.length);\n                    sigkey.set(signer.raw);\n                    sigkey.set(signer.verfer.raw, signer.raw.length);\n                    raw =\n                        libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_ed25519_sk_to_curve25519(sigkey);\n                    super({ raw, code, qb64, qb64b, qb2 });\n                }\n                else {\n                    throw e;\n                }\n            }\n            else {\n                throw e;\n            }\n        }\n        if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Private) {\n            this._decrypt = this._x25519;\n        }\n        else {\n            throw new Error(`Unsupported decrypter code = ${this.code}.`);\n        }\n    }\n    decrypt(ser = null, cipher = null, transferable = false) {\n        if (ser == null && cipher == null) {\n            throw new _kering_js__WEBPACK_IMPORTED_MODULE_4__.EmptyMaterialError('Neither ser or cipher were provided');\n        }\n        if (ser != null) {\n            cipher = new _cipher_js__WEBPACK_IMPORTED_MODULE_3__.Cipher({ qb64b: ser });\n        }\n        return this._decrypt(cipher, this.raw, transferable);\n    }\n    _x25519(cipher, prikey, transferable = false) {\n        const pubkey = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_scalarmult_base(prikey);\n        const plain = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_box_seal_open(cipher.raw, pubkey, prikey);\n        if (cipher.code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Cipher_Salt) {\n            return new _salter_js__WEBPACK_IMPORTED_MODULE_5__.Salter({ qb64b: plain });\n        }\n        else if (cipher.code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Cipher_Seed) {\n            return new _signer_js__WEBPACK_IMPORTED_MODULE_2__.Signer({ qb64b: plain, transferable: transferable });\n        }\n        else {\n            throw new Error(`Unsupported cipher text code == ${cipher.code}`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9kZWNyeXB0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRDtBQUNIO0FBQ1I7QUFDQTtBQUNZO0FBQ1o7QUFDOUIsd0JBQXdCLDhDQUFNO0FBQ3JDLGtCQUFrQixZQUFZLDhDQUFNLG1DQUFtQztBQUN2RTtBQUNBLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQTtBQUNBLDZCQUE2QiwwREFBa0I7QUFDL0M7QUFDQSx1Q0FBdUMsOENBQU0sR0FBRyxhQUFhO0FBQzdELHVDQUF1Qyw4Q0FBTTtBQUM3QyxvRkFBb0YsWUFBWTtBQUNoRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHlGQUE4QztBQUN0RSw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw4Q0FBTTtBQUMvQjtBQUNBO0FBQ0E7QUFDQSw0REFBNEQsVUFBVTtBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQiwwREFBa0I7QUFDeEM7QUFDQTtBQUNBLHlCQUF5Qiw4Q0FBTSxHQUFHLFlBQVk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkVBQWdDO0FBQ3ZELHNCQUFzQix5RUFBOEI7QUFDcEQsMkJBQTJCLDhDQUFNO0FBQ2pDLHVCQUF1Qiw4Q0FBTSxHQUFHLGNBQWM7QUFDOUM7QUFDQSxnQ0FBZ0MsOENBQU07QUFDdEMsdUJBQXVCLDhDQUFNLEdBQUcsMENBQTBDO0FBQzFFO0FBQ0E7QUFDQSwrREFBK0QsWUFBWTtBQUMzRTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9kZWNyeXB0ZXIuanM/M2M3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbGlic29kaXVtIGZyb20gJ2xpYnNvZGl1bS13cmFwcGVycy1zdW1vJztcbmltcG9ydCB7IE1hdHRlciwgTXRyRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBTaWduZXIgfSBmcm9tIFwiLi9zaWduZXIuanNcIjtcbmltcG9ydCB7IENpcGhlciB9IGZyb20gXCIuL2NpcGhlci5qc1wiO1xuaW1wb3J0IHsgRW1wdHlNYXRlcmlhbEVycm9yIH0gZnJvbSBcIi4va2VyaW5nLmpzXCI7XG5pbXBvcnQgeyBTYWx0ZXIgfSBmcm9tIFwiLi9zYWx0ZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBEZWNyeXB0ZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlID0gTXRyRGV4LlgyNTUxOV9Qcml2YXRlLCBxYjY0LCBxYjY0YiwgcWIyIH0sIHNlZWQgPSB1bmRlZmluZWQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1cGVyKHsgcmF3LCBjb2RlLCBxYjY0LCBxYjY0YiwgcWIyIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVtcHR5TWF0ZXJpYWxFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChzZWVkICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgU2lnbmVyKHsgcWI2NGI6IHNlZWQgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzaWduZXIuY29kZSAhPSBNdHJEZXguRWQyNTUxOV9TZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHNpZ25pbmcgc2VlZCBkZXJpdmF0aW9uIGNvZGUgJHtzaWduZXIuY29kZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWdrZXkgPSBuZXcgVWludDhBcnJheShzaWduZXIucmF3Lmxlbmd0aCArIHNpZ25lci52ZXJmZXIucmF3Lmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ2tleS5zZXQoc2lnbmVyLnJhdyk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ2tleS5zZXQoc2lnbmVyLnZlcmZlci5yYXcsIHNpZ25lci5yYXcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgICAgcmF3ID1cbiAgICAgICAgICAgICAgICAgICAgICAgIGxpYnNvZGl1bS5jcnlwdG9fc2lnbl9lZDI1NTE5X3NrX3RvX2N1cnZlMjU1MTkoc2lna2V5KTtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIoeyByYXcsIGNvZGUsIHFiNjQsIHFiNjRiLCBxYjIgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29kZSA9PSBNdHJEZXguWDI1NTE5X1ByaXZhdGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2RlY3J5cHQgPSB0aGlzLl94MjU1MTk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRlY3J5cHRlciBjb2RlID0gJHt0aGlzLmNvZGV9LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlY3J5cHQoc2VyID0gbnVsbCwgY2lwaGVyID0gbnVsbCwgdHJhbnNmZXJhYmxlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHNlciA9PSBudWxsICYmIGNpcGhlciA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW1wdHlNYXRlcmlhbEVycm9yKCdOZWl0aGVyIHNlciBvciBjaXBoZXIgd2VyZSBwcm92aWRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2lwaGVyID0gbmV3IENpcGhlcih7IHFiNjRiOiBzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlY3J5cHQoY2lwaGVyLCB0aGlzLnJhdywgdHJhbnNmZXJhYmxlKTtcbiAgICB9XG4gICAgX3gyNTUxOShjaXBoZXIsIHByaWtleSwgdHJhbnNmZXJhYmxlID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3QgcHVia2V5ID0gbGlic29kaXVtLmNyeXB0b19zY2FsYXJtdWx0X2Jhc2UocHJpa2V5KTtcbiAgICAgICAgY29uc3QgcGxhaW4gPSBsaWJzb2RpdW0uY3J5cHRvX2JveF9zZWFsX29wZW4oY2lwaGVyLnJhdywgcHVia2V5LCBwcmlrZXkpO1xuICAgICAgICBpZiAoY2lwaGVyLmNvZGUgPT0gTXRyRGV4LlgyNTUxOV9DaXBoZXJfU2FsdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTYWx0ZXIoeyBxYjY0YjogcGxhaW4gfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoY2lwaGVyLmNvZGUgPT0gTXRyRGV4LlgyNTUxOV9DaXBoZXJfU2VlZCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduZXIoeyBxYjY0YjogcGxhaW4sIHRyYW5zZmVyYWJsZTogdHJhbnNmZXJhYmxlIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaXBoZXIgdGV4dCBjb2RlID09ICR7Y2lwaGVyLmNvZGV9YCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/diger.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Diger: () => (/* binding */ Diger)\n/* harmony export */ });\n/* harmony import */ var _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @noble/hashes/blake3 */ \"(ssr)/./node_modules/@noble/hashes/esm/blake3.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n\n\n/**\n * @description : Diger is subset of Matter and is used to verify the digest of serialization\n * It uses  .raw : as digest\n * .code as digest algorithm\n *\n */\nclass Diger extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    // This constructor will assign digest verification function to ._verify\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256, qb64, qb64b, qb2 }, ser = null) {\n        try {\n            super({ raw, code, qb64, qb64b, qb2 });\n        }\n        catch (error) {\n            if (ser == null) {\n                throw error;\n            }\n            if (code === _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256) {\n                const dig = _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_1__.blake3.create({ dkLen: 32 }).update(ser).digest();\n                super({ raw: dig, code: code });\n            }\n            else {\n                throw new Error(`Unsupported code = ${code} for digester.`);\n            }\n        }\n        if (code === _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256) {\n            this._verify = this.blake3_256;\n        }\n        else {\n            throw new Error(`Unsupported code = ${code} for digester.`);\n        }\n    }\n    /**\n     *\n     * @param {Uint8Array} ser  serialization bytes\n     * @description  This method will return true if digest of bytes serialization ser matches .raw\n     * using .raw as reference digest for ._verify digest algorithm determined\n     by .code\n     */\n    verify(ser) {\n        return this._verify(ser, this.raw);\n    }\n    compare(ser, dig = null, diger = null) {\n        if (dig != null) {\n            if (dig.toString() == this.qb64) {\n                return true;\n            }\n            diger = new Diger({ qb64b: dig });\n        }\n        else if (diger != null) {\n            if (diger.qb64b == this.qb64b) {\n                return true;\n            }\n        }\n        else {\n            throw new Error('Both dig and diger may not be None.');\n        }\n        if (diger.code == this.code) {\n            return false;\n        }\n        return diger.verify(ser) && this.verify(ser);\n    }\n    blake3_256(ser, dig) {\n        const digest = _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_1__.blake3.create({ dkLen: 32 }).update(ser).digest();\n        return (digest.length == dig.length && digest.toString() === dig.toString());\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9kaWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFDRDtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxvQkFBb0IsOENBQU07QUFDakM7QUFDQSxrQkFBa0IsWUFBWSw4Q0FBTSwrQkFBK0I7QUFDbkU7QUFDQSxvQkFBb0IsNkJBQTZCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQU07QUFDL0IsNEJBQTRCLHdEQUFNLFVBQVUsV0FBVztBQUN2RCx3QkFBd0Isc0JBQXNCO0FBQzlDO0FBQ0E7QUFDQSxzREFBc0QsTUFBTTtBQUM1RDtBQUNBO0FBQ0EscUJBQXFCLDhDQUFNO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxNQUFNO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxZQUFZO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxZQUFZO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1Qix3REFBTSxVQUFVLFdBQVc7QUFDbEQ7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvZGlnZXIuanM/N2UyZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBibGFrZTMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL2JsYWtlMyc7XG5pbXBvcnQgeyBNYXR0ZXIsIE10ckRleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gOiBEaWdlciBpcyBzdWJzZXQgb2YgTWF0dGVyIGFuZCBpcyB1c2VkIHRvIHZlcmlmeSB0aGUgZGlnZXN0IG9mIHNlcmlhbGl6YXRpb25cbiAqIEl0IHVzZXMgIC5yYXcgOiBhcyBkaWdlc3RcbiAqIC5jb2RlIGFzIGRpZ2VzdCBhbGdvcml0aG1cbiAqXG4gKi9cbmV4cG9ydCBjbGFzcyBEaWdlciBleHRlbmRzIE1hdHRlciB7XG4gICAgLy8gVGhpcyBjb25zdHJ1Y3RvciB3aWxsIGFzc2lnbiBkaWdlc3QgdmVyaWZpY2F0aW9uIGZ1bmN0aW9uIHRvIC5fdmVyaWZ5XG4gICAgY29uc3RydWN0b3IoeyByYXcsIGNvZGUgPSBNdHJEZXguQmxha2UzXzI1NiwgcWI2NCwgcWI2NGIsIHFiMiB9LCBzZXIgPSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NCwgcWI2NGIsIHFiMiB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChzZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNvZGUgPT09IE10ckRleC5CbGFrZTNfMjU2KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZGlnID0gYmxha2UzLmNyZWF0ZSh7IGRrTGVuOiAzMiB9KS51cGRhdGUoc2VyKS5kaWdlc3QoKTtcbiAgICAgICAgICAgICAgICBzdXBlcih7IHJhdzogZGlnLCBjb2RlOiBjb2RlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb2RlID0gJHtjb2RlfSBmb3IgZGlnZXN0ZXIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvZGUgPT09IE10ckRleC5CbGFrZTNfMjU2KSB7XG4gICAgICAgICAgICB0aGlzLl92ZXJpZnkgPSB0aGlzLmJsYWtlM18yNTY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvZGUgPSAke2NvZGV9IGZvciBkaWdlc3Rlci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VWludDhBcnJheX0gc2VyICBzZXJpYWxpemF0aW9uIGJ5dGVzXG4gICAgICogQGRlc2NyaXB0aW9uICBUaGlzIG1ldGhvZCB3aWxsIHJldHVybiB0cnVlIGlmIGRpZ2VzdCBvZiBieXRlcyBzZXJpYWxpemF0aW9uIHNlciBtYXRjaGVzIC5yYXdcbiAgICAgKiB1c2luZyAucmF3IGFzIHJlZmVyZW5jZSBkaWdlc3QgZm9yIC5fdmVyaWZ5IGRpZ2VzdCBhbGdvcml0aG0gZGV0ZXJtaW5lZFxuICAgICBieSAuY29kZVxuICAgICAqL1xuICAgIHZlcmlmeShzZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcmlmeShzZXIsIHRoaXMucmF3KTtcbiAgICB9XG4gICAgY29tcGFyZShzZXIsIGRpZyA9IG51bGwsIGRpZ2VyID0gbnVsbCkge1xuICAgICAgICBpZiAoZGlnICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChkaWcudG9TdHJpbmcoKSA9PSB0aGlzLnFiNjQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRpZ2VyID0gbmV3IERpZ2VyKHsgcWI2NGI6IGRpZyB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWdlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoZGlnZXIucWI2NGIgPT0gdGhpcy5xYjY0Yikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCb3RoIGRpZyBhbmQgZGlnZXIgbWF5IG5vdCBiZSBOb25lLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkaWdlci5jb2RlID09IHRoaXMuY29kZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWdlci52ZXJpZnkoc2VyKSAmJiB0aGlzLnZlcmlmeShzZXIpO1xuICAgIH1cbiAgICBibGFrZTNfMjU2KHNlciwgZGlnKSB7XG4gICAgICAgIGNvbnN0IGRpZ2VzdCA9IGJsYWtlMy5jcmVhdGUoeyBka0xlbjogMzIgfSkudXBkYXRlKHNlcikuZGlnZXN0KCk7XG4gICAgICAgIHJldHVybiAoZGlnZXN0Lmxlbmd0aCA9PSBkaWcubGVuZ3RoICYmIGRpZ2VzdC50b1N0cmluZygpID09PSBkaWcudG9TdHJpbmcoKSk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js":
/*!*************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/encrypter.js ***!
  \*************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Encrypter: () => (/* binding */ Encrypter)\n/* harmony export */ });\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _verfer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _signer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\");\n/* harmony import */ var _cipher_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cipher.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n\n\n\n\n\n\nclass Encrypter extends _matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter {\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519, qb64, qb64b, qb2 }, verkey = null) {\n        if (raw == undefined && verkey != null) {\n            const verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_2__.Verfer({ qb64b: verkey });\n            if (!Array.from([_matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519N, _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519]).includes(verfer.code)) {\n                throw new Error(`Unsupported verkey derivation code = ${verfer.code}.`);\n            }\n            raw = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_ed25519_pk_to_curve25519(verfer.raw);\n        }\n        super({ raw, code, qb64, qb64b, qb2 });\n        if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519) {\n            this._encrypt = this._x25519;\n        }\n        else {\n            throw new Error(`Unsupported encrypter code = ${this.code}.`);\n        }\n    }\n    verifySeed(seed) {\n        const signer = new _signer_js__WEBPACK_IMPORTED_MODULE_3__.Signer({ qb64b: seed });\n        const keypair = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_seed_keypair(signer.raw);\n        const pubkey = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_ed25519_pk_to_curve25519(keypair.publicKey);\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_5__.arrayEquals)(pubkey, this.raw);\n    }\n    encrypt(ser = null, matter = null) {\n        if (ser == null && matter == null) {\n            throw new Error('Neither ser nor matter are provided.');\n        }\n        if (ser != null) {\n            matter = new _matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter({ qb64b: ser });\n        }\n        let code;\n        if (matter.code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128) {\n            code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Cipher_Salt;\n        }\n        else {\n            code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.X25519_Cipher_Seed;\n        }\n        return this._encrypt(matter.qb64, this.raw, code);\n    }\n    _x25519(ser, pubkey, code) {\n        const raw = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_box_seal(ser, pubkey);\n        return new _cipher_js__WEBPACK_IMPORTED_MODULE_4__.Cipher({ raw: raw, code: code });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9lbmNyeXB0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFnRDtBQUNIO0FBQ1I7QUFDQTtBQUNBO0FBQ0k7QUFDbEMsd0JBQXdCLDhDQUFNO0FBQ3JDLGtCQUFrQixZQUFZLDhDQUFNLDJCQUEyQjtBQUMvRDtBQUNBLCtCQUErQiw4Q0FBTSxHQUFHLGVBQWU7QUFDdkQsNkJBQTZCLDhDQUFNLFdBQVcsOENBQU07QUFDcEQsd0VBQXdFLFlBQVk7QUFDcEY7QUFDQSxrQkFBa0IseUZBQThDO0FBQ2hFO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3Qyx5QkFBeUIsOENBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0EsNERBQTRELFVBQVU7QUFDdEU7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLDhDQUFNLEdBQUcsYUFBYTtBQUNqRCx3QkFBd0IsNkVBQWtDO0FBQzFELHVCQUF1Qix5RkFBOEM7QUFDckUsZUFBZSxzREFBVztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQU0sR0FBRyxZQUFZO0FBQzlDO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU07QUFDakMsbUJBQW1CLDhDQUFNO0FBQ3pCO0FBQ0E7QUFDQSxtQkFBbUIsOENBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0Isb0VBQXlCO0FBQzdDLG1CQUFtQiw4Q0FBTSxHQUFHLHNCQUFzQjtBQUNsRDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvZW5jcnlwdGVyLmpzP2M3MGEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxpYnNvZGl1bSBmcm9tICdsaWJzb2RpdW0td3JhcHBlcnMtc3Vtbyc7XG5pbXBvcnQgeyBNYXR0ZXIsIE10ckRleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgVmVyZmVyIH0gZnJvbSBcIi4vdmVyZmVyLmpzXCI7XG5pbXBvcnQgeyBTaWduZXIgfSBmcm9tIFwiLi9zaWduZXIuanNcIjtcbmltcG9ydCB7IENpcGhlciB9IGZyb20gXCIuL2NpcGhlci5qc1wiO1xuaW1wb3J0IHsgYXJyYXlFcXVhbHMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuZXhwb3J0IGNsYXNzIEVuY3J5cHRlciBleHRlbmRzIE1hdHRlciB7XG4gICAgY29uc3RydWN0b3IoeyByYXcsIGNvZGUgPSBNdHJEZXguWDI1NTE5LCBxYjY0LCBxYjY0YiwgcWIyIH0sIHZlcmtleSA9IG51bGwpIHtcbiAgICAgICAgaWYgKHJhdyA9PSB1bmRlZmluZWQgJiYgdmVya2V5ICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcmZlciA9IG5ldyBWZXJmZXIoeyBxYjY0YjogdmVya2V5IH0pO1xuICAgICAgICAgICAgaWYgKCFBcnJheS5mcm9tKFtNdHJEZXguRWQyNTUxOU4sIE10ckRleC5FZDI1NTE5XSkuaW5jbHVkZXModmVyZmVyLmNvZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCB2ZXJrZXkgZGVyaXZhdGlvbiBjb2RlID0gJHt2ZXJmZXIuY29kZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYXcgPSBsaWJzb2RpdW0uY3J5cHRvX3NpZ25fZWQyNTUxOV9wa190b19jdXJ2ZTI1NTE5KHZlcmZlci5yYXcpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHsgcmF3LCBjb2RlLCBxYjY0LCBxYjY0YiwgcWIyIH0pO1xuICAgICAgICBpZiAodGhpcy5jb2RlID09IE10ckRleC5YMjU1MTkpIHtcbiAgICAgICAgICAgIHRoaXMuX2VuY3J5cHQgPSB0aGlzLl94MjU1MTk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGVuY3J5cHRlciBjb2RlID0gJHt0aGlzLmNvZGV9LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZlcmlmeVNlZWQoc2VlZCkge1xuICAgICAgICBjb25zdCBzaWduZXIgPSBuZXcgU2lnbmVyKHsgcWI2NGI6IHNlZWQgfSk7XG4gICAgICAgIGNvbnN0IGtleXBhaXIgPSBsaWJzb2RpdW0uY3J5cHRvX3NpZ25fc2VlZF9rZXlwYWlyKHNpZ25lci5yYXcpO1xuICAgICAgICBjb25zdCBwdWJrZXkgPSBsaWJzb2RpdW0uY3J5cHRvX3NpZ25fZWQyNTUxOV9wa190b19jdXJ2ZTI1NTE5KGtleXBhaXIucHVibGljS2V5KTtcbiAgICAgICAgcmV0dXJuIGFycmF5RXF1YWxzKHB1YmtleSwgdGhpcy5yYXcpO1xuICAgIH1cbiAgICBlbmNyeXB0KHNlciA9IG51bGwsIG1hdHRlciA9IG51bGwpIHtcbiAgICAgICAgaWYgKHNlciA9PSBudWxsICYmIG1hdHRlciA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05laXRoZXIgc2VyIG5vciBtYXR0ZXIgYXJlIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgbWF0dGVyID0gbmV3IE1hdHRlcih7IHFiNjRiOiBzZXIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNvZGU7XG4gICAgICAgIGlmIChtYXR0ZXIuY29kZSA9PSBNdHJEZXguU2FsdF8xMjgpIHtcbiAgICAgICAgICAgIGNvZGUgPSBNdHJEZXguWDI1NTE5X0NpcGhlcl9TYWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29kZSA9IE10ckRleC5YMjU1MTlfQ2lwaGVyX1NlZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2VuY3J5cHQobWF0dGVyLnFiNjQsIHRoaXMucmF3LCBjb2RlKTtcbiAgICB9XG4gICAgX3gyNTUxOShzZXIsIHB1YmtleSwgY29kZSkge1xuICAgICAgICBjb25zdCByYXcgPSBsaWJzb2RpdW0uY3J5cHRvX2JveF9zZWFsKHNlciwgcHVia2V5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBDaXBoZXIoeyByYXc6IHJhdywgY29kZTogY29kZSB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/eventing.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ample: () => (/* binding */ ample),\n/* harmony export */   incept: () => (/* binding */ incept),\n/* harmony export */   interact: () => (/* binding */ interact),\n/* harmony export */   messagize: () => (/* binding */ messagize),\n/* harmony export */   reply: () => (/* binding */ reply),\n/* harmony export */   rotate: () => (/* binding */ rotate)\n/* harmony export */ });\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _tholder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./tholder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js\");\n/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./number.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\");\n/* harmony import */ var _prefixer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./prefixer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\");\n/* harmony import */ var _serder_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _saider_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./saider.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\");\n/* harmony import */ var _counter_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./counter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js\");\n/* harmony import */ var _seqner_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./seqner.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js\");\n\n\n\n\n\n\n\n\n\nconst MaxIntThold = 2 ** 32 - 1;\nfunction rotate({ pre = undefined, keys, dig = undefined, ilk = _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.rot, sn = 1, isith = undefined, ndigs = undefined, nsith = undefined, wits = undefined, cuts = undefined, adds = undefined, toad = undefined, data = undefined, version = undefined, kind = undefined, intive = true, }) {\n    const vs = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.versify)(_core_js__WEBPACK_IMPORTED_MODULE_0__.Protocols.KERI, version, kind, 0);\n    const _ilk = ilk;\n    if (_ilk != _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.rot && _ilk != _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.drt) {\n        throw new Error(`Invalid ilk = ${ilk} for rot or drt.`);\n    }\n    const sner = new _number_js__WEBPACK_IMPORTED_MODULE_2__.CesrNumber({}, sn);\n    if (sner.num < 1) {\n        throw new Error(`Invalid sn = 0x${sner.numh} for rot or drt.`);\n    }\n    let _isit;\n    if (isith == undefined) {\n        _isit = Math.max(1, Math.ceil(keys.length / 2));\n    }\n    else {\n        _isit = isith; // TODO this type as number does not make sense when isith is a string containing weighted thresholds\n    }\n    const tholder = new _tholder_js__WEBPACK_IMPORTED_MODULE_1__.Tholder({ sith: _isit });\n    if (tholder.num != undefined && tholder.num < 1) {\n        throw new Error(`Invalid sith = ${tholder.num} less than 1.`);\n    }\n    if (tholder.size > keys.length) {\n        // TODO this error should say that the threshold has not been met\n        throw new Error(`Invalid sith = ${tholder.num} for keys = ${keys}`);\n    }\n    let _ndigs;\n    if (ndigs === undefined) {\n        _ndigs = [];\n    }\n    else {\n        _ndigs = ndigs;\n    }\n    let _nsith;\n    if (nsith === undefined) {\n        _nsith = Math.max(1, Math.ceil(_ndigs.length / 2));\n    }\n    else {\n        _nsith = nsith;\n    }\n    const ntholder = new _tholder_js__WEBPACK_IMPORTED_MODULE_1__.Tholder({ sith: _nsith });\n    if (ntholder.num != undefined && ntholder.num < 1) {\n        throw new Error(`Invalid sith = ${ntholder.num} less than 1.`);\n    }\n    if (ntholder.size > _ndigs.length) {\n        // TODO this error should say that the threshold has not been met\n        throw new Error(`Signing threshold failure: ${keys.length} number of signers not equal to or greater than sith = ${tholder.size} for keys = ${keys}`);\n    }\n    let _wits;\n    if (wits === undefined) {\n        _wits = [];\n    }\n    else {\n        _wits = wits;\n    }\n    const witset = new Set(_wits);\n    if (witset.size != _wits.length) {\n        throw new Error(`Invalid wits = ${wits}, has duplicates.`);\n    }\n    let _cuts;\n    if (cuts === undefined) {\n        _cuts = [];\n    }\n    else {\n        _cuts = cuts;\n    }\n    const cutset = new Set(_cuts);\n    if (cutset.size != _cuts.length) {\n        throw new Error(`Invalid cuts = ${cuts}, has duplicates.`);\n    }\n    let _adds;\n    if (adds === undefined) {\n        _adds = [];\n    }\n    else {\n        _adds = adds;\n    }\n    const addset = new Set(_adds);\n    //non empty intersection of witset and addset\n    const witaddset = new Set([...witset].filter((x) => addset.has(x)));\n    if (witaddset.size > 0) {\n        throw new Error(`Invalid member combination among wits = ${wits}, and adds = ${adds}.`);\n    }\n    // non empty intersection of cutset and addset\n    const cutaddset = new Set([...cutset].filter((x) => addset.has(x)));\n    if (cutaddset.size > 0) {\n        throw new Error(`Invalid member combination among cuts = ${cuts}, and adds = ${adds}.`);\n    }\n    const newitsetdiff = new Set(_wits);\n    _cuts.forEach(function (v) {\n        newitsetdiff.delete(v);\n    });\n    const newitset = new Set((function* () {\n        yield* newitsetdiff;\n        yield* addset;\n    })());\n    if (newitset.size != witset.size - cutset.size + addset.size) {\n        throw new Error(`Invalid member combination among wits = ${wits}, cuts = ${cuts}, and adds = ${adds}.`);\n    }\n    let _toad;\n    if (toad === undefined) {\n        if (newitset.size == 0) {\n            _toad = 0;\n        }\n        else {\n            _toad = ample(newitset.size);\n        }\n    }\n    else {\n        _toad = toad;\n    }\n    if (newitset.size > 0) {\n        if (_toad < 1 || _toad > newitset.size) {\n            throw new Error(`Invalid toad = ${_toad} for wit = ${wits}`);\n        }\n    }\n    else {\n        if (_toad != 0) {\n            throw new Error(`Invalid toad = ${_toad} for wit = ${wits}`);\n        }\n    }\n    const _sad = {\n        v: vs,\n        t: _ilk,\n        d: '',\n        i: pre,\n        s: sner.numh,\n        p: dig,\n        kt: tholder.num &&\n            intive &&\n            tholder.num !== undefined &&\n            tholder.num <= MaxIntThold\n            ? tholder.num.toString(16)\n            : tholder.sith,\n        k: keys,\n        nt: ntholder.num &&\n            intive &&\n            ntholder.num !== undefined &&\n            ntholder.num <= MaxIntThold\n            ? ntholder.num.toString(16)\n            : ntholder.sith,\n        n: _ndigs,\n        bt: _toad && intive && _toad !== undefined && _toad <= MaxIntThold\n            ? _toad\n            : _toad.toString(16),\n        br: cuts,\n        ba: adds,\n        a: data != undefined ? data : [],\n    };\n    const [, sad] = _saider_js__WEBPACK_IMPORTED_MODULE_6__.Saider.saidify(_sad);\n    return new _serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(sad);\n}\nfunction ample(n, f, weak = true) {\n    n = Math.max(0, n); // no negatives\n    let f1;\n    if (f == undefined) {\n        f1 = Math.max(1, Math.floor(Math.max(0, n - 1) / 3)); // least floor f subject to n >= 3*f+1\n        const f2 = Math.max(1, Math.ceil(Math.max(0, n - 1) / 3)); // most Math.ceil f subject to n >= 3*f+1\n        if (weak) {\n            // try both fs to see which one has lowest m\n            return Math.min(n, Math.ceil((n + f1 + 1) / 2), Math.ceil((n + f2 + 1) / 2));\n        }\n        else {\n            return Math.min(n, Math.max(0, n - f1, Math.ceil((n + f1 + 1) / 2)));\n        }\n    }\n    else {\n        f = Math.max(0, f);\n        const m1 = Math.ceil((n + f + 1) / 2);\n        const m2 = Math.max(0, n - f);\n        if (m2 < m1 && n > 0) {\n            throw new Error(`Invalid f=${f} is too big for n=${n}.`);\n        }\n        if (weak) {\n            return Math.min(n, m1, m2);\n        }\n        else {\n            return Math.min(n, Math.max(m1, m2));\n        }\n    }\n}\nfunction incept({ keys, isith, ndigs, nsith, toad, wits, cnfg, data, version = _core_js__WEBPACK_IMPORTED_MODULE_0__.Vrsn_1_0, kind = _core_js__WEBPACK_IMPORTED_MODULE_0__.Serials.JSON, code, intive = false, delpre, }) {\n    const vs = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.versify)(_core_js__WEBPACK_IMPORTED_MODULE_0__.Protocols.KERI, version, kind, 0);\n    const ilk = delpre == undefined ? _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.icp : _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.dip;\n    const sner = new _number_js__WEBPACK_IMPORTED_MODULE_2__.CesrNumber({}, 0);\n    if (isith == undefined) {\n        isith = Math.max(1, Math.ceil(keys.length / 2));\n    }\n    const tholder = new _tholder_js__WEBPACK_IMPORTED_MODULE_1__.Tholder({ sith: isith });\n    if (tholder.num != undefined && tholder.num < 1) {\n        throw new Error(`Invalid sith = ${tholder.num} less than 1.`);\n    }\n    if (tholder.size > keys.length) {\n        throw new Error(`Invalid sith = ${tholder.num} for keys ${keys}`);\n    }\n    if (ndigs == undefined) {\n        ndigs = new Array();\n    }\n    if (nsith == undefined) {\n        nsith = Math.max(0, Math.ceil(ndigs.length / 2));\n    }\n    const ntholder = new _tholder_js__WEBPACK_IMPORTED_MODULE_1__.Tholder({ sith: nsith });\n    if (ntholder.num != undefined && ntholder.num < 0) {\n        throw new Error(`Invalid nsith = ${ntholder.num} less than 0.`);\n    }\n    if (ntholder.size > keys.length) {\n        throw new Error(`Invalid nsith = ${ntholder.num} for keys ${ndigs}`);\n    }\n    wits = wits == undefined ? [] : wits;\n    if (new Set(wits).size != wits.length) {\n        throw new Error(`Invalid wits = ${wits}, has duplicates.`);\n    }\n    if (toad == undefined) {\n        if (wits.length == 0) {\n            toad = 0;\n        }\n        else {\n            toad = ample(wits.length);\n        }\n    }\n    const toader = new _number_js__WEBPACK_IMPORTED_MODULE_2__.CesrNumber({}, toad);\n    if (wits.length > 0) {\n        if (toader.num < 1 || toader.num > wits.length) {\n            throw new Error(`Invalid toad = ${toader.num} for wits = ${wits}`);\n        }\n    }\n    else {\n        if (toader.num != 0) {\n            throw new Error(`Invalid toad = ${toader.num} for wits = ${wits}`);\n        }\n    }\n    cnfg = cnfg == undefined ? new Array() : cnfg;\n    data = data == undefined ? new Array() : data;\n    let sad = {\n        v: vs,\n        t: ilk,\n        d: '',\n        i: '',\n        s: sner.numh,\n        kt: intive && tholder.num != undefined ? tholder.num : tholder.sith,\n        k: keys,\n        nt: intive && tholder.num != undefined ? ntholder.num : ntholder.sith,\n        n: ndigs,\n        bt: intive ? toader.num : toader.numh,\n        b: wits,\n        c: cnfg,\n        a: data,\n    };\n    if (delpre != undefined) {\n        sad['di'] = delpre;\n        if (code == undefined) {\n            code = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Blake3_256;\n        }\n    }\n    let prefixer;\n    if (delpre == undefined && code == undefined && keys.length == 1) {\n        prefixer = new _prefixer_js__WEBPACK_IMPORTED_MODULE_3__.Prefixer({ qb64: keys[0] });\n        if (prefixer.digestive) {\n            throw new Error(`Invalid code, digestive=${prefixer.code}, must be derived from ked.`);\n        }\n    }\n    else {\n        prefixer = new _prefixer_js__WEBPACK_IMPORTED_MODULE_3__.Prefixer({ code: code }, sad);\n        if (delpre != undefined) {\n            if (!prefixer.digestive) {\n                throw new Error(`Invalid derivation code = ${prefixer.code} for delegation. Must be digestive`);\n            }\n        }\n    }\n    sad['i'] = prefixer.qb64;\n    if (prefixer.digestive) {\n        sad['d'] = prefixer.qb64;\n    }\n    else {\n        [, sad] = _saider_js__WEBPACK_IMPORTED_MODULE_6__.Saider.saidify(sad);\n    }\n    return new _serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(sad);\n}\nfunction messagize(serder, sigers, seal, wigers, cigars, pipelined = false) {\n    let msg = new Uint8Array((0,_core_js__WEBPACK_IMPORTED_MODULE_0__.b)(serder.raw));\n    let atc = new Uint8Array();\n    if (sigers == undefined && wigers == undefined && cigars == undefined) {\n        throw new Error(`Missing attached signatures on message = ${serder.sad}.`);\n    }\n    if (sigers != undefined) {\n        if (seal != undefined) {\n            if (seal[0] == 'SealEvent') {\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({ code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.TransIdxSigGroups, count: 1 })\n                    .qb64b);\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new TextEncoder().encode(seal[1].i));\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _seqner_js__WEBPACK_IMPORTED_MODULE_8__.Seqner({ sn: parseInt(seal[1].s) }).qb64b);\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new TextEncoder().encode(seal[1].d));\n            }\n            else if (seal[0] == 'SealLast') {\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({\n                    code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.TransLastIdxSigGroups,\n                    count: 1,\n                }).qb64b);\n                atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new TextEncoder().encode(seal[1].i));\n            }\n        }\n        atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({\n            code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.ControllerIdxSigs,\n            count: sigers.length,\n        }).qb64b);\n        sigers.forEach((siger) => {\n            atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, siger.qb64b);\n        });\n    }\n    if (wigers != undefined) {\n        atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({\n            code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.ControllerIdxSigs,\n            count: wigers.length,\n        }).qb64b);\n        wigers.forEach((wiger) => {\n            if (wiger.verfer && !(wiger.verfer.code in _matter_js__WEBPACK_IMPORTED_MODULE_5__.NonTransDex)) {\n                throw new Error(`Attempt to use tranferable prefix=${wiger.verfer.qb64} for receipt.`);\n            }\n            atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, wiger.qb64b);\n        });\n    }\n    if (cigars != undefined) {\n        atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({\n            code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.ControllerIdxSigs,\n            count: cigars.length,\n        }).qb64b);\n        cigars.forEach((cigar) => {\n            if (cigar.verfer && !(cigar.verfer.code in _matter_js__WEBPACK_IMPORTED_MODULE_5__.NonTransDex)) {\n                throw new Error(`Attempt to use tranferable prefix=${cigar.verfer.qb64} for receipt.`);\n            }\n            atc = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(atc, cigar.qb64b);\n        });\n    }\n    if (pipelined) {\n        if (atc.length % 4 != 0) {\n            throw new Error(`Invalid attachments size=${atc.length}, nonintegral quadlets.`);\n        }\n        msg = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(msg, new _counter_js__WEBPACK_IMPORTED_MODULE_7__.Counter({\n            code: _counter_js__WEBPACK_IMPORTED_MODULE_7__.CtrDex.AttachedMaterialQuadlets,\n            count: Math.floor(atc.length / 4),\n        }).qb64b);\n    }\n    msg = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.concat)(msg, atc);\n    return msg;\n}\nfunction interact(args) {\n    let { pre, dig, sn, data, version, kind } = args;\n    const vs = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.versify)(_core_js__WEBPACK_IMPORTED_MODULE_0__.Protocols.KERI, version, kind, 0);\n    const ilk = _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.ixn;\n    const sner = new _number_js__WEBPACK_IMPORTED_MODULE_2__.CesrNumber({}, sn);\n    if (sner.num < 1) {\n        throw new Error(`Invalid sn = 0x${sner.numh} for ixn.`);\n    }\n    data = data == undefined ? new Array() : data;\n    let sad = {\n        v: vs,\n        t: ilk,\n        d: '',\n        i: pre,\n        s: sner.numh,\n        p: dig,\n        a: data,\n    };\n    [, sad] = _saider_js__WEBPACK_IMPORTED_MODULE_6__.Saider.saidify(sad);\n    return new _serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(sad);\n}\nfunction reply(route = '', data, stamp, version, kind = _core_js__WEBPACK_IMPORTED_MODULE_0__.Serials.JSON) {\n    const vs = (0,_core_js__WEBPACK_IMPORTED_MODULE_0__.versify)(_core_js__WEBPACK_IMPORTED_MODULE_0__.Protocols.KERI, version, kind, 0);\n    if (data == undefined) {\n        data = {};\n    }\n    const _sad = {\n        v: vs,\n        t: _core_js__WEBPACK_IMPORTED_MODULE_0__.Ilks.rpy,\n        d: '',\n        dt: stamp !== null && stamp !== void 0 ? stamp : new Date().toISOString().replace('Z', '000+00:00'),\n        r: route,\n        a: data,\n    };\n    const [, sad] = _saider_js__WEBPACK_IMPORTED_MODULE_6__.Saider.saidify(_sad);\n    const saider = new _saider_js__WEBPACK_IMPORTED_MODULE_6__.Saider({ qb64: sad['d'] });\n    if (!saider.verify(sad, true, true, kind, 'd'))\n        throw new Error(`Invalid said = ${saider.qb64} for reply msg=${sad}.`);\n    return new _serder_js__WEBPACK_IMPORTED_MODULE_4__.Serder(sad);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9ldmVudGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBb0Y7QUFDN0M7QUFDRTtBQUNBO0FBQ0o7QUFDYTtBQUNiO0FBQ1U7QUFDVjtBQUNyQztBQUNPLGtCQUFrQiw4Q0FBOEMsMENBQUksd05BQXdOO0FBQ25TLGVBQWUsaURBQU8sQ0FBQywrQ0FBUztBQUNoQztBQUNBLGdCQUFnQiwwQ0FBSSxnQkFBZ0IsMENBQUk7QUFDeEMseUNBQXlDLEtBQUs7QUFDOUM7QUFDQSxxQkFBcUIsa0RBQVUsR0FBRztBQUNsQztBQUNBLDBDQUEwQyxXQUFXO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBLHdCQUF3QixnREFBTyxHQUFHLGFBQWE7QUFDL0M7QUFDQSwwQ0FBMEMsYUFBYTtBQUN2RDtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsYUFBYSxhQUFhLEtBQUs7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUFPLEdBQUcsY0FBYztBQUNqRDtBQUNBLDBDQUEwQyxjQUFjO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLHNEQUFzRCxhQUFhLHdEQUF3RCxjQUFjLGFBQWEsS0FBSztBQUMzSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxLQUFLO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDLEtBQUs7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEtBQUssZUFBZSxLQUFLO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEtBQUssZUFBZSxLQUFLO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLG1FQUFtRSxLQUFLLFdBQVcsS0FBSyxlQUFlLEtBQUs7QUFDNUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU8sWUFBWSxLQUFLO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLE9BQU8sWUFBWSxLQUFLO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBTTtBQUMxQixlQUFlLDhDQUFNO0FBQ3JCO0FBQ087QUFDUCx3QkFBd0I7QUFDeEI7QUFDQTtBQUNBLDhEQUE4RDtBQUM5RCxtRUFBbUU7QUFDbkU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsR0FBRyxtQkFBbUIsRUFBRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxrQkFBa0IsNkRBQTZELDhDQUFRLFNBQVMsNkNBQU8sc0NBQXNDO0FBQ3BKLGVBQWUsaURBQU8sQ0FBQywrQ0FBUztBQUNoQyxzQ0FBc0MsMENBQUksT0FBTywwQ0FBSTtBQUNyRCxxQkFBcUIsa0RBQVUsR0FBRztBQUNsQztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQU8sR0FBRyxhQUFhO0FBQy9DO0FBQ0EsMENBQTBDLGFBQWE7QUFDdkQ7QUFDQTtBQUNBLDBDQUEwQyxhQUFhLFdBQVcsS0FBSztBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBTyxHQUFHLGFBQWE7QUFDaEQ7QUFDQSwyQ0FBMkMsY0FBYztBQUN6RDtBQUNBO0FBQ0EsMkNBQTJDLGNBQWMsV0FBVyxNQUFNO0FBQzFFO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQyxLQUFLO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QixrREFBVSxHQUFHO0FBQ3BDO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWSxhQUFhLEtBQUs7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsWUFBWSxhQUFhLEtBQUs7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsOENBQU07QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsa0RBQVEsR0FBRyxlQUFlO0FBQ2pEO0FBQ0EsdURBQXVELGNBQWM7QUFDckU7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLGtEQUFRLEdBQUcsWUFBWTtBQUM5QztBQUNBO0FBQ0EsNkRBQTZELGVBQWU7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw4Q0FBTTtBQUN4QjtBQUNBLGVBQWUsOENBQU07QUFDckI7QUFDTztBQUNQLDZCQUE2QiwyQ0FBQztBQUM5QjtBQUNBO0FBQ0Esb0VBQW9FLFdBQVc7QUFDL0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsZ0RBQU0sVUFBVSxnREFBTyxHQUFHLE1BQU0sK0NBQU0sOEJBQThCO0FBQzFGO0FBQ0Esc0JBQXNCLGdEQUFNO0FBQzVCLHNCQUFzQixnREFBTSxVQUFVLDhDQUFNLEdBQUcseUJBQXlCO0FBQ3hFLHNCQUFzQixnREFBTTtBQUM1QjtBQUNBO0FBQ0Esc0JBQXNCLGdEQUFNLFVBQVUsZ0RBQU87QUFDN0MsMEJBQTBCLCtDQUFNO0FBQ2hDO0FBQ0EsaUJBQWlCO0FBQ2pCLHNCQUFzQixnREFBTTtBQUM1QjtBQUNBO0FBQ0EsY0FBYyxnREFBTSxVQUFVLGdEQUFPO0FBQ3JDLGtCQUFrQiwrQ0FBTTtBQUN4QjtBQUNBLFNBQVM7QUFDVDtBQUNBLGtCQUFrQixnREFBTTtBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWMsZ0RBQU0sVUFBVSxnREFBTztBQUNyQyxrQkFBa0IsK0NBQU07QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx1REFBdUQsbURBQVc7QUFDbEUscUVBQXFFLG1CQUFtQjtBQUN4RjtBQUNBLGtCQUFrQixnREFBTTtBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGNBQWMsZ0RBQU0sVUFBVSxnREFBTztBQUNyQyxrQkFBa0IsK0NBQU07QUFDeEI7QUFDQSxTQUFTO0FBQ1Q7QUFDQSx1REFBdUQsbURBQVc7QUFDbEUscUVBQXFFLG1CQUFtQjtBQUN4RjtBQUNBLGtCQUFrQixnREFBTTtBQUN4QixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELFdBQVc7QUFDbkU7QUFDQSxjQUFjLGdEQUFNLFVBQVUsZ0RBQU87QUFDckMsa0JBQWtCLCtDQUFNO0FBQ3hCO0FBQ0EsU0FBUztBQUNUO0FBQ0EsVUFBVSxnREFBTTtBQUNoQjtBQUNBO0FBQ087QUFDUCxVQUFVLG9DQUFvQztBQUM5QyxlQUFlLGlEQUFPLENBQUMsK0NBQVM7QUFDaEMsZ0JBQWdCLDBDQUFJO0FBQ3BCLHFCQUFxQixrREFBVSxHQUFHO0FBQ2xDO0FBQ0EsMENBQTBDLFdBQVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsOENBQU07QUFDcEIsZUFBZSw4Q0FBTTtBQUNyQjtBQUNPLHdEQUF3RCw2Q0FBTztBQUN0RSxlQUFlLGlEQUFPLENBQUMsK0NBQVM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsMENBQUk7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDhDQUFNO0FBQzFCLHVCQUF1Qiw4Q0FBTSxHQUFHLGdCQUFnQjtBQUNoRDtBQUNBLDBDQUEwQyxhQUFhLGdCQUFnQixJQUFJO0FBQzNFLGVBQWUsOENBQU07QUFDckIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9ldmVudGluZy5qcz8wNjNkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGIsIGNvbmNhdCwgUHJvdG9jb2xzLCBJbGtzLCBTZXJpYWxzLCB2ZXJzaWZ5LCBWcnNuXzFfMCwgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBUaG9sZGVyIH0gZnJvbSBcIi4vdGhvbGRlci5qc1wiO1xuaW1wb3J0IHsgQ2Vzck51bWJlciB9IGZyb20gXCIuL251bWJlci5qc1wiO1xuaW1wb3J0IHsgUHJlZml4ZXIgfSBmcm9tIFwiLi9wcmVmaXhlci5qc1wiO1xuaW1wb3J0IHsgU2VyZGVyIH0gZnJvbSBcIi4vc2VyZGVyLmpzXCI7XG5pbXBvcnQgeyBNdHJEZXgsIE5vblRyYW5zRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBTYWlkZXIgfSBmcm9tIFwiLi9zYWlkZXIuanNcIjtcbmltcG9ydCB7IENvdW50ZXIsIEN0ckRleCB9IGZyb20gXCIuL2NvdW50ZXIuanNcIjtcbmltcG9ydCB7IFNlcW5lciB9IGZyb20gXCIuL3NlcW5lci5qc1wiO1xuY29uc3QgTWF4SW50VGhvbGQgPSAyICoqIDMyIC0gMTtcbmV4cG9ydCBmdW5jdGlvbiByb3RhdGUoeyBwcmUgPSB1bmRlZmluZWQsIGtleXMsIGRpZyA9IHVuZGVmaW5lZCwgaWxrID0gSWxrcy5yb3QsIHNuID0gMSwgaXNpdGggPSB1bmRlZmluZWQsIG5kaWdzID0gdW5kZWZpbmVkLCBuc2l0aCA9IHVuZGVmaW5lZCwgd2l0cyA9IHVuZGVmaW5lZCwgY3V0cyA9IHVuZGVmaW5lZCwgYWRkcyA9IHVuZGVmaW5lZCwgdG9hZCA9IHVuZGVmaW5lZCwgZGF0YSA9IHVuZGVmaW5lZCwgdmVyc2lvbiA9IHVuZGVmaW5lZCwga2luZCA9IHVuZGVmaW5lZCwgaW50aXZlID0gdHJ1ZSwgfSkge1xuICAgIGNvbnN0IHZzID0gdmVyc2lmeShQcm90b2NvbHMuS0VSSSwgdmVyc2lvbiwga2luZCwgMCk7XG4gICAgY29uc3QgX2lsayA9IGlsaztcbiAgICBpZiAoX2lsayAhPSBJbGtzLnJvdCAmJiBfaWxrICE9IElsa3MuZHJ0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBpbGsgPSAke2lsa30gZm9yIHJvdCBvciBkcnQuYCk7XG4gICAgfVxuICAgIGNvbnN0IHNuZXIgPSBuZXcgQ2Vzck51bWJlcih7fSwgc24pO1xuICAgIGlmIChzbmVyLm51bSA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNuID0gMHgke3NuZXIubnVtaH0gZm9yIHJvdCBvciBkcnQuYCk7XG4gICAgfVxuICAgIGxldCBfaXNpdDtcbiAgICBpZiAoaXNpdGggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9pc2l0ID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKGtleXMubGVuZ3RoIC8gMikpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgX2lzaXQgPSBpc2l0aDsgLy8gVE9ETyB0aGlzIHR5cGUgYXMgbnVtYmVyIGRvZXMgbm90IG1ha2Ugc2Vuc2Ugd2hlbiBpc2l0aCBpcyBhIHN0cmluZyBjb250YWluaW5nIHdlaWdodGVkIHRocmVzaG9sZHNcbiAgICB9XG4gICAgY29uc3QgdGhvbGRlciA9IG5ldyBUaG9sZGVyKHsgc2l0aDogX2lzaXQgfSk7XG4gICAgaWYgKHRob2xkZXIubnVtICE9IHVuZGVmaW5lZCAmJiB0aG9sZGVyLm51bSA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNpdGggPSAke3Rob2xkZXIubnVtfSBsZXNzIHRoYW4gMS5gKTtcbiAgICB9XG4gICAgaWYgKHRob2xkZXIuc2l6ZSA+IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIFRPRE8gdGhpcyBlcnJvciBzaG91bGQgc2F5IHRoYXQgdGhlIHRocmVzaG9sZCBoYXMgbm90IGJlZW4gbWV0XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaXRoID0gJHt0aG9sZGVyLm51bX0gZm9yIGtleXMgPSAke2tleXN9YCk7XG4gICAgfVxuICAgIGxldCBfbmRpZ3M7XG4gICAgaWYgKG5kaWdzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX25kaWdzID0gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfbmRpZ3MgPSBuZGlncztcbiAgICB9XG4gICAgbGV0IF9uc2l0aDtcbiAgICBpZiAobnNpdGggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBfbnNpdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoX25kaWdzLmxlbmd0aCAvIDIpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF9uc2l0aCA9IG5zaXRoO1xuICAgIH1cbiAgICBjb25zdCBudGhvbGRlciA9IG5ldyBUaG9sZGVyKHsgc2l0aDogX25zaXRoIH0pO1xuICAgIGlmIChudGhvbGRlci5udW0gIT0gdW5kZWZpbmVkICYmIG50aG9sZGVyLm51bSA8IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNpdGggPSAke250aG9sZGVyLm51bX0gbGVzcyB0aGFuIDEuYCk7XG4gICAgfVxuICAgIGlmIChudGhvbGRlci5zaXplID4gX25kaWdzLmxlbmd0aCkge1xuICAgICAgICAvLyBUT0RPIHRoaXMgZXJyb3Igc2hvdWxkIHNheSB0aGF0IHRoZSB0aHJlc2hvbGQgaGFzIG5vdCBiZWVuIG1ldFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNpZ25pbmcgdGhyZXNob2xkIGZhaWx1cmU6ICR7a2V5cy5sZW5ndGh9IG51bWJlciBvZiBzaWduZXJzIG5vdCBlcXVhbCB0byBvciBncmVhdGVyIHRoYW4gc2l0aCA9ICR7dGhvbGRlci5zaXplfSBmb3Iga2V5cyA9ICR7a2V5c31gKTtcbiAgICB9XG4gICAgbGV0IF93aXRzO1xuICAgIGlmICh3aXRzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgX3dpdHMgPSBbXTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIF93aXRzID0gd2l0cztcbiAgICB9XG4gICAgY29uc3Qgd2l0c2V0ID0gbmV3IFNldChfd2l0cyk7XG4gICAgaWYgKHdpdHNldC5zaXplICE9IF93aXRzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgd2l0cyA9ICR7d2l0c30sIGhhcyBkdXBsaWNhdGVzLmApO1xuICAgIH1cbiAgICBsZXQgX2N1dHM7XG4gICAgaWYgKGN1dHMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBfY3V0cyA9IFtdO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgX2N1dHMgPSBjdXRzO1xuICAgIH1cbiAgICBjb25zdCBjdXRzZXQgPSBuZXcgU2V0KF9jdXRzKTtcbiAgICBpZiAoY3V0c2V0LnNpemUgIT0gX2N1dHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjdXRzID0gJHtjdXRzfSwgaGFzIGR1cGxpY2F0ZXMuYCk7XG4gICAgfVxuICAgIGxldCBfYWRkcztcbiAgICBpZiAoYWRkcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIF9hZGRzID0gW107XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfYWRkcyA9IGFkZHM7XG4gICAgfVxuICAgIGNvbnN0IGFkZHNldCA9IG5ldyBTZXQoX2FkZHMpO1xuICAgIC8vbm9uIGVtcHR5IGludGVyc2VjdGlvbiBvZiB3aXRzZXQgYW5kIGFkZHNldFxuICAgIGNvbnN0IHdpdGFkZHNldCA9IG5ldyBTZXQoWy4uLndpdHNldF0uZmlsdGVyKCh4KSA9PiBhZGRzZXQuaGFzKHgpKSk7XG4gICAgaWYgKHdpdGFkZHNldC5zaXplID4gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWVtYmVyIGNvbWJpbmF0aW9uIGFtb25nIHdpdHMgPSAke3dpdHN9LCBhbmQgYWRkcyA9ICR7YWRkc30uYCk7XG4gICAgfVxuICAgIC8vIG5vbiBlbXB0eSBpbnRlcnNlY3Rpb24gb2YgY3V0c2V0IGFuZCBhZGRzZXRcbiAgICBjb25zdCBjdXRhZGRzZXQgPSBuZXcgU2V0KFsuLi5jdXRzZXRdLmZpbHRlcigoeCkgPT4gYWRkc2V0Lmhhcyh4KSkpO1xuICAgIGlmIChjdXRhZGRzZXQuc2l6ZSA+IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG1lbWJlciBjb21iaW5hdGlvbiBhbW9uZyBjdXRzID0gJHtjdXRzfSwgYW5kIGFkZHMgPSAke2FkZHN9LmApO1xuICAgIH1cbiAgICBjb25zdCBuZXdpdHNldGRpZmYgPSBuZXcgU2V0KF93aXRzKTtcbiAgICBfY3V0cy5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgIG5ld2l0c2V0ZGlmZi5kZWxldGUodik7XG4gICAgfSk7XG4gICAgY29uc3QgbmV3aXRzZXQgPSBuZXcgU2V0KChmdW5jdGlvbiogKCkge1xuICAgICAgICB5aWVsZCogbmV3aXRzZXRkaWZmO1xuICAgICAgICB5aWVsZCogYWRkc2V0O1xuICAgIH0pKCkpO1xuICAgIGlmIChuZXdpdHNldC5zaXplICE9IHdpdHNldC5zaXplIC0gY3V0c2V0LnNpemUgKyBhZGRzZXQuc2l6ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbWVtYmVyIGNvbWJpbmF0aW9uIGFtb25nIHdpdHMgPSAke3dpdHN9LCBjdXRzID0gJHtjdXRzfSwgYW5kIGFkZHMgPSAke2FkZHN9LmApO1xuICAgIH1cbiAgICBsZXQgX3RvYWQ7XG4gICAgaWYgKHRvYWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAobmV3aXRzZXQuc2l6ZSA9PSAwKSB7XG4gICAgICAgICAgICBfdG9hZCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBfdG9hZCA9IGFtcGxlKG5ld2l0c2V0LnNpemUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBfdG9hZCA9IHRvYWQ7XG4gICAgfVxuICAgIGlmIChuZXdpdHNldC5zaXplID4gMCkge1xuICAgICAgICBpZiAoX3RvYWQgPCAxIHx8IF90b2FkID4gbmV3aXRzZXQuc2l6ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRvYWQgPSAke190b2FkfSBmb3Igd2l0ID0gJHt3aXRzfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoX3RvYWQgIT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRvYWQgPSAke190b2FkfSBmb3Igd2l0ID0gJHt3aXRzfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IF9zYWQgPSB7XG4gICAgICAgIHY6IHZzLFxuICAgICAgICB0OiBfaWxrLFxuICAgICAgICBkOiAnJyxcbiAgICAgICAgaTogcHJlLFxuICAgICAgICBzOiBzbmVyLm51bWgsXG4gICAgICAgIHA6IGRpZyxcbiAgICAgICAga3Q6IHRob2xkZXIubnVtICYmXG4gICAgICAgICAgICBpbnRpdmUgJiZcbiAgICAgICAgICAgIHRob2xkZXIubnVtICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHRob2xkZXIubnVtIDw9IE1heEludFRob2xkXG4gICAgICAgICAgICA/IHRob2xkZXIubnVtLnRvU3RyaW5nKDE2KVxuICAgICAgICAgICAgOiB0aG9sZGVyLnNpdGgsXG4gICAgICAgIGs6IGtleXMsXG4gICAgICAgIG50OiBudGhvbGRlci5udW0gJiZcbiAgICAgICAgICAgIGludGl2ZSAmJlxuICAgICAgICAgICAgbnRob2xkZXIubnVtICE9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIG50aG9sZGVyLm51bSA8PSBNYXhJbnRUaG9sZFxuICAgICAgICAgICAgPyBudGhvbGRlci5udW0udG9TdHJpbmcoMTYpXG4gICAgICAgICAgICA6IG50aG9sZGVyLnNpdGgsXG4gICAgICAgIG46IF9uZGlncyxcbiAgICAgICAgYnQ6IF90b2FkICYmIGludGl2ZSAmJiBfdG9hZCAhPT0gdW5kZWZpbmVkICYmIF90b2FkIDw9IE1heEludFRob2xkXG4gICAgICAgICAgICA/IF90b2FkXG4gICAgICAgICAgICA6IF90b2FkLnRvU3RyaW5nKDE2KSxcbiAgICAgICAgYnI6IGN1dHMsXG4gICAgICAgIGJhOiBhZGRzLFxuICAgICAgICBhOiBkYXRhICE9IHVuZGVmaW5lZCA/IGRhdGEgOiBbXSxcbiAgICB9O1xuICAgIGNvbnN0IFssIHNhZF0gPSBTYWlkZXIuc2FpZGlmeShfc2FkKTtcbiAgICByZXR1cm4gbmV3IFNlcmRlcihzYWQpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFtcGxlKG4sIGYsIHdlYWsgPSB0cnVlKSB7XG4gICAgbiA9IE1hdGgubWF4KDAsIG4pOyAvLyBubyBuZWdhdGl2ZXNcbiAgICBsZXQgZjE7XG4gICAgaWYgKGYgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGYxID0gTWF0aC5tYXgoMSwgTWF0aC5mbG9vcihNYXRoLm1heCgwLCBuIC0gMSkgLyAzKSk7IC8vIGxlYXN0IGZsb29yIGYgc3ViamVjdCB0byBuID49IDMqZisxXG4gICAgICAgIGNvbnN0IGYyID0gTWF0aC5tYXgoMSwgTWF0aC5jZWlsKE1hdGgubWF4KDAsIG4gLSAxKSAvIDMpKTsgLy8gbW9zdCBNYXRoLmNlaWwgZiBzdWJqZWN0IHRvIG4gPj0gMypmKzFcbiAgICAgICAgaWYgKHdlYWspIHtcbiAgICAgICAgICAgIC8vIHRyeSBib3RoIGZzIHRvIHNlZSB3aGljaCBvbmUgaGFzIGxvd2VzdCBtXG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4obiwgTWF0aC5jZWlsKChuICsgZjEgKyAxKSAvIDIpLCBNYXRoLmNlaWwoKG4gKyBmMiArIDEpIC8gMikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKG4sIE1hdGgubWF4KDAsIG4gLSBmMSwgTWF0aC5jZWlsKChuICsgZjEgKyAxKSAvIDIpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGYgPSBNYXRoLm1heCgwLCBmKTtcbiAgICAgICAgY29uc3QgbTEgPSBNYXRoLmNlaWwoKG4gKyBmICsgMSkgLyAyKTtcbiAgICAgICAgY29uc3QgbTIgPSBNYXRoLm1heCgwLCBuIC0gZik7XG4gICAgICAgIGlmIChtMiA8IG0xICYmIG4gPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZj0ke2Z9IGlzIHRvbyBiaWcgZm9yIG49JHtufS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2Vhaykge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKG4sIG0xLCBtMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gTWF0aC5taW4obiwgTWF0aC5tYXgobTEsIG0yKSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gaW5jZXB0KHsga2V5cywgaXNpdGgsIG5kaWdzLCBuc2l0aCwgdG9hZCwgd2l0cywgY25mZywgZGF0YSwgdmVyc2lvbiA9IFZyc25fMV8wLCBraW5kID0gU2VyaWFscy5KU09OLCBjb2RlLCBpbnRpdmUgPSBmYWxzZSwgZGVscHJlLCB9KSB7XG4gICAgY29uc3QgdnMgPSB2ZXJzaWZ5KFByb3RvY29scy5LRVJJLCB2ZXJzaW9uLCBraW5kLCAwKTtcbiAgICBjb25zdCBpbGsgPSBkZWxwcmUgPT0gdW5kZWZpbmVkID8gSWxrcy5pY3AgOiBJbGtzLmRpcDtcbiAgICBjb25zdCBzbmVyID0gbmV3IENlc3JOdW1iZXIoe30sIDApO1xuICAgIGlmIChpc2l0aCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaXNpdGggPSBNYXRoLm1heCgxLCBNYXRoLmNlaWwoa2V5cy5sZW5ndGggLyAyKSk7XG4gICAgfVxuICAgIGNvbnN0IHRob2xkZXIgPSBuZXcgVGhvbGRlcih7IHNpdGg6IGlzaXRoIH0pO1xuICAgIGlmICh0aG9sZGVyLm51bSAhPSB1bmRlZmluZWQgJiYgdGhvbGRlci5udW0gPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaXRoID0gJHt0aG9sZGVyLm51bX0gbGVzcyB0aGFuIDEuYCk7XG4gICAgfVxuICAgIGlmICh0aG9sZGVyLnNpemUgPiBrZXlzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2l0aCA9ICR7dGhvbGRlci5udW19IGZvciBrZXlzICR7a2V5c31gKTtcbiAgICB9XG4gICAgaWYgKG5kaWdzID09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZGlncyA9IG5ldyBBcnJheSgpO1xuICAgIH1cbiAgICBpZiAobnNpdGggPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG5zaXRoID0gTWF0aC5tYXgoMCwgTWF0aC5jZWlsKG5kaWdzLmxlbmd0aCAvIDIpKTtcbiAgICB9XG4gICAgY29uc3QgbnRob2xkZXIgPSBuZXcgVGhvbGRlcih7IHNpdGg6IG5zaXRoIH0pO1xuICAgIGlmIChudGhvbGRlci5udW0gIT0gdW5kZWZpbmVkICYmIG50aG9sZGVyLm51bSA8IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG5zaXRoID0gJHtudGhvbGRlci5udW19IGxlc3MgdGhhbiAwLmApO1xuICAgIH1cbiAgICBpZiAobnRob2xkZXIuc2l6ZSA+IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBuc2l0aCA9ICR7bnRob2xkZXIubnVtfSBmb3Iga2V5cyAke25kaWdzfWApO1xuICAgIH1cbiAgICB3aXRzID0gd2l0cyA9PSB1bmRlZmluZWQgPyBbXSA6IHdpdHM7XG4gICAgaWYgKG5ldyBTZXQod2l0cykuc2l6ZSAhPSB3aXRzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgd2l0cyA9ICR7d2l0c30sIGhhcyBkdXBsaWNhdGVzLmApO1xuICAgIH1cbiAgICBpZiAodG9hZCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHdpdHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRvYWQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdG9hZCA9IGFtcGxlKHdpdHMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b2FkZXIgPSBuZXcgQ2Vzck51bWJlcih7fSwgdG9hZCk7XG4gICAgaWYgKHdpdHMubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAodG9hZGVyLm51bSA8IDEgfHwgdG9hZGVyLm51bSA+IHdpdHMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdG9hZCA9ICR7dG9hZGVyLm51bX0gZm9yIHdpdHMgPSAke3dpdHN9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmICh0b2FkZXIubnVtICE9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0b2FkID0gJHt0b2FkZXIubnVtfSBmb3Igd2l0cyA9ICR7d2l0c31gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjbmZnID0gY25mZyA9PSB1bmRlZmluZWQgPyBuZXcgQXJyYXkoKSA6IGNuZmc7XG4gICAgZGF0YSA9IGRhdGEgPT0gdW5kZWZpbmVkID8gbmV3IEFycmF5KCkgOiBkYXRhO1xuICAgIGxldCBzYWQgPSB7XG4gICAgICAgIHY6IHZzLFxuICAgICAgICB0OiBpbGssXG4gICAgICAgIGQ6ICcnLFxuICAgICAgICBpOiAnJyxcbiAgICAgICAgczogc25lci5udW1oLFxuICAgICAgICBrdDogaW50aXZlICYmIHRob2xkZXIubnVtICE9IHVuZGVmaW5lZCA/IHRob2xkZXIubnVtIDogdGhvbGRlci5zaXRoLFxuICAgICAgICBrOiBrZXlzLFxuICAgICAgICBudDogaW50aXZlICYmIHRob2xkZXIubnVtICE9IHVuZGVmaW5lZCA/IG50aG9sZGVyLm51bSA6IG50aG9sZGVyLnNpdGgsXG4gICAgICAgIG46IG5kaWdzLFxuICAgICAgICBidDogaW50aXZlID8gdG9hZGVyLm51bSA6IHRvYWRlci5udW1oLFxuICAgICAgICBiOiB3aXRzLFxuICAgICAgICBjOiBjbmZnLFxuICAgICAgICBhOiBkYXRhLFxuICAgIH07XG4gICAgaWYgKGRlbHByZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgc2FkWydkaSddID0gZGVscHJlO1xuICAgICAgICBpZiAoY29kZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvZGUgPSBNdHJEZXguQmxha2UzXzI1NjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJlZml4ZXI7XG4gICAgaWYgKGRlbHByZSA9PSB1bmRlZmluZWQgJiYgY29kZSA9PSB1bmRlZmluZWQgJiYga2V5cy5sZW5ndGggPT0gMSkge1xuICAgICAgICBwcmVmaXhlciA9IG5ldyBQcmVmaXhlcih7IHFiNjQ6IGtleXNbMF0gfSk7XG4gICAgICAgIGlmIChwcmVmaXhlci5kaWdlc3RpdmUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2RlLCBkaWdlc3RpdmU9JHtwcmVmaXhlci5jb2RlfSwgbXVzdCBiZSBkZXJpdmVkIGZyb20ga2VkLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBwcmVmaXhlciA9IG5ldyBQcmVmaXhlcih7IGNvZGU6IGNvZGUgfSwgc2FkKTtcbiAgICAgICAgaWYgKGRlbHByZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICghcHJlZml4ZXIuZGlnZXN0aXZlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGRlcml2YXRpb24gY29kZSA9ICR7cHJlZml4ZXIuY29kZX0gZm9yIGRlbGVnYXRpb24uIE11c3QgYmUgZGlnZXN0aXZlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2FkWydpJ10gPSBwcmVmaXhlci5xYjY0O1xuICAgIGlmIChwcmVmaXhlci5kaWdlc3RpdmUpIHtcbiAgICAgICAgc2FkWydkJ10gPSBwcmVmaXhlci5xYjY0O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgWywgc2FkXSA9IFNhaWRlci5zYWlkaWZ5KHNhZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU2VyZGVyKHNhZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gbWVzc2FnaXplKHNlcmRlciwgc2lnZXJzLCBzZWFsLCB3aWdlcnMsIGNpZ2FycywgcGlwZWxpbmVkID0gZmFsc2UpIHtcbiAgICBsZXQgbXNnID0gbmV3IFVpbnQ4QXJyYXkoYihzZXJkZXIucmF3KSk7XG4gICAgbGV0IGF0YyA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgaWYgKHNpZ2VycyA9PSB1bmRlZmluZWQgJiYgd2lnZXJzID09IHVuZGVmaW5lZCAmJiBjaWdhcnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBhdHRhY2hlZCBzaWduYXR1cmVzIG9uIG1lc3NhZ2UgPSAke3NlcmRlci5zYWR9LmApO1xuICAgIH1cbiAgICBpZiAoc2lnZXJzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc2VhbCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChzZWFsWzBdID09ICdTZWFsRXZlbnQnKSB7XG4gICAgICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IENvdW50ZXIoeyBjb2RlOiBDdHJEZXguVHJhbnNJZHhTaWdHcm91cHMsIGNvdW50OiAxIH0pXG4gICAgICAgICAgICAgICAgICAgIC5xYjY0Yik7XG4gICAgICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlYWxbMV0uaSkpO1xuICAgICAgICAgICAgICAgIGF0YyA9IGNvbmNhdChhdGMsIG5ldyBTZXFuZXIoeyBzbjogcGFyc2VJbnQoc2VhbFsxXS5zKSB9KS5xYjY0Yik7XG4gICAgICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlYWxbMV0uZCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc2VhbFswXSA9PSAnU2VhbExhc3QnKSB7XG4gICAgICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IENvdW50ZXIoe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBDdHJEZXguVHJhbnNMYXN0SWR4U2lnR3JvdXBzLFxuICAgICAgICAgICAgICAgICAgICBjb3VudDogMSxcbiAgICAgICAgICAgICAgICB9KS5xYjY0Yik7XG4gICAgICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKHNlYWxbMV0uaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0YyA9IGNvbmNhdChhdGMsIG5ldyBDb3VudGVyKHtcbiAgICAgICAgICAgIGNvZGU6IEN0ckRleC5Db250cm9sbGVySWR4U2lncyxcbiAgICAgICAgICAgIGNvdW50OiBzaWdlcnMubGVuZ3RoLFxuICAgICAgICB9KS5xYjY0Yik7XG4gICAgICAgIHNpZ2Vycy5mb3JFYWNoKChzaWdlcikgPT4ge1xuICAgICAgICAgICAgYXRjID0gY29uY2F0KGF0Yywgc2lnZXIucWI2NGIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHdpZ2VycyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYXRjID0gY29uY2F0KGF0YywgbmV3IENvdW50ZXIoe1xuICAgICAgICAgICAgY29kZTogQ3RyRGV4LkNvbnRyb2xsZXJJZHhTaWdzLFxuICAgICAgICAgICAgY291bnQ6IHdpZ2Vycy5sZW5ndGgsXG4gICAgICAgIH0pLnFiNjRiKTtcbiAgICAgICAgd2lnZXJzLmZvckVhY2goKHdpZ2VyKSA9PiB7XG4gICAgICAgICAgICBpZiAod2lnZXIudmVyZmVyICYmICEod2lnZXIudmVyZmVyLmNvZGUgaW4gTm9uVHJhbnNEZXgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0IHRvIHVzZSB0cmFuZmVyYWJsZSBwcmVmaXg9JHt3aWdlci52ZXJmZXIucWI2NH0gZm9yIHJlY2VpcHQuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhdGMgPSBjb25jYXQoYXRjLCB3aWdlci5xYjY0Yik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoY2lnYXJzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBhdGMgPSBjb25jYXQoYXRjLCBuZXcgQ291bnRlcih7XG4gICAgICAgICAgICBjb2RlOiBDdHJEZXguQ29udHJvbGxlcklkeFNpZ3MsXG4gICAgICAgICAgICBjb3VudDogY2lnYXJzLmxlbmd0aCxcbiAgICAgICAgfSkucWI2NGIpO1xuICAgICAgICBjaWdhcnMuZm9yRWFjaCgoY2lnYXIpID0+IHtcbiAgICAgICAgICAgIGlmIChjaWdhci52ZXJmZXIgJiYgIShjaWdhci52ZXJmZXIuY29kZSBpbiBOb25UcmFuc0RleCkpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHQgdG8gdXNlIHRyYW5mZXJhYmxlIHByZWZpeD0ke2NpZ2FyLnZlcmZlci5xYjY0fSBmb3IgcmVjZWlwdC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF0YyA9IGNvbmNhdChhdGMsIGNpZ2FyLnFiNjRiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChwaXBlbGluZWQpIHtcbiAgICAgICAgaWYgKGF0Yy5sZW5ndGggJSA0ICE9IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhdHRhY2htZW50cyBzaXplPSR7YXRjLmxlbmd0aH0sIG5vbmludGVncmFsIHF1YWRsZXRzLmApO1xuICAgICAgICB9XG4gICAgICAgIG1zZyA9IGNvbmNhdChtc2csIG5ldyBDb3VudGVyKHtcbiAgICAgICAgICAgIGNvZGU6IEN0ckRleC5BdHRhY2hlZE1hdGVyaWFsUXVhZGxldHMsXG4gICAgICAgICAgICBjb3VudDogTWF0aC5mbG9vcihhdGMubGVuZ3RoIC8gNCksXG4gICAgICAgIH0pLnFiNjRiKTtcbiAgICB9XG4gICAgbXNnID0gY29uY2F0KG1zZywgYXRjKTtcbiAgICByZXR1cm4gbXNnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGludGVyYWN0KGFyZ3MpIHtcbiAgICBsZXQgeyBwcmUsIGRpZywgc24sIGRhdGEsIHZlcnNpb24sIGtpbmQgfSA9IGFyZ3M7XG4gICAgY29uc3QgdnMgPSB2ZXJzaWZ5KFByb3RvY29scy5LRVJJLCB2ZXJzaW9uLCBraW5kLCAwKTtcbiAgICBjb25zdCBpbGsgPSBJbGtzLml4bjtcbiAgICBjb25zdCBzbmVyID0gbmV3IENlc3JOdW1iZXIoe30sIHNuKTtcbiAgICBpZiAoc25lci5udW0gPCAxKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzbiA9IDB4JHtzbmVyLm51bWh9IGZvciBpeG4uYCk7XG4gICAgfVxuICAgIGRhdGEgPSBkYXRhID09IHVuZGVmaW5lZCA/IG5ldyBBcnJheSgpIDogZGF0YTtcbiAgICBsZXQgc2FkID0ge1xuICAgICAgICB2OiB2cyxcbiAgICAgICAgdDogaWxrLFxuICAgICAgICBkOiAnJyxcbiAgICAgICAgaTogcHJlLFxuICAgICAgICBzOiBzbmVyLm51bWgsXG4gICAgICAgIHA6IGRpZyxcbiAgICAgICAgYTogZGF0YSxcbiAgICB9O1xuICAgIFssIHNhZF0gPSBTYWlkZXIuc2FpZGlmeShzYWQpO1xuICAgIHJldHVybiBuZXcgU2VyZGVyKHNhZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVwbHkocm91dGUgPSAnJywgZGF0YSwgc3RhbXAsIHZlcnNpb24sIGtpbmQgPSBTZXJpYWxzLkpTT04pIHtcbiAgICBjb25zdCB2cyA9IHZlcnNpZnkoUHJvdG9jb2xzLktFUkksIHZlcnNpb24sIGtpbmQsIDApO1xuICAgIGlmIChkYXRhID09IHVuZGVmaW5lZCkge1xuICAgICAgICBkYXRhID0ge307XG4gICAgfVxuICAgIGNvbnN0IF9zYWQgPSB7XG4gICAgICAgIHY6IHZzLFxuICAgICAgICB0OiBJbGtzLnJweSxcbiAgICAgICAgZDogJycsXG4gICAgICAgIGR0OiBzdGFtcCAhPT0gbnVsbCAmJiBzdGFtcCAhPT0gdm9pZCAwID8gc3RhbXAgOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnWicsICcwMDArMDA6MDAnKSxcbiAgICAgICAgcjogcm91dGUsXG4gICAgICAgIGE6IGRhdGEsXG4gICAgfTtcbiAgICBjb25zdCBbLCBzYWRdID0gU2FpZGVyLnNhaWRpZnkoX3NhZCk7XG4gICAgY29uc3Qgc2FpZGVyID0gbmV3IFNhaWRlcih7IHFiNjQ6IHNhZFsnZCddIH0pO1xuICAgIGlmICghc2FpZGVyLnZlcmlmeShzYWQsIHRydWUsIHRydWUsIGtpbmQsICdkJykpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzYWlkID0gJHtzYWlkZXIucWI2NH0gZm9yIHJlcGx5IG1zZz0ke3NhZH0uYCk7XG4gICAgcmV0dXJuIG5ldyBTZXJkZXIoc2FkKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/httping.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HEADER_SIG_INPUT: () => (/* binding */ HEADER_SIG_INPUT),\n/* harmony export */   HEADER_SIG_TIME: () => (/* binding */ HEADER_SIG_TIME),\n/* harmony export */   Inputage: () => (/* binding */ Inputage),\n/* harmony export */   Unqualified: () => (/* binding */ Unqualified),\n/* harmony export */   desiginput: () => (/* binding */ desiginput),\n/* harmony export */   normalize: () => (/* binding */ normalize),\n/* harmony export */   parseRangeHeaders: () => (/* binding */ parseRangeHeaders),\n/* harmony export */   siginput: () => (/* binding */ siginput)\n/* harmony export */ });\n/* harmony import */ var structured_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! structured-headers */ \"(ssr)/./node_modules/structured-headers/dist/index.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js\");\n\n\n\n\nconst HEADER_SIG_INPUT = normalize('Signature-Input');\nconst HEADER_SIG_TIME = normalize('Signify-Timestamp');\nfunction normalize(header) {\n    return header.trim();\n}\n/**\n * Generates, serializes, and signs a Signature-Input HTTP header value as a structured header\n * @param signer\n * @param sigInputArgs\n */\nfunction siginput(signer, sigInputArgs) {\n    const { name, method, path, headers, fields, expires, nonce, alg, keyid, context, } = sigInputArgs;\n    const items = new Array();\n    const ifields = new Array();\n    fields.forEach((field) => {\n        if (field.startsWith('@')) {\n            switch (field) {\n                case '@method':\n                    items.push(`\"${field}\": ${method}`);\n                    ifields.push([field, new Map()]);\n                    break;\n                case '@path':\n                    items.push(`\"${field}\": ${path}`);\n                    ifields.push([field, new Map()]);\n                    break;\n            }\n        }\n        else {\n            if (!headers.has(field))\n                return;\n            ifields.push([field, new Map()]);\n            const value = normalize(headers.get(field));\n            items.push(`\"${field}\": ${value}`);\n        }\n    });\n    const nameParams = new Map();\n    const now = Math.floor((0,_utils_js__WEBPACK_IMPORTED_MODULE_2__.nowUTC)().getTime() / 1000);\n    nameParams.set('created', now);\n    const values = [\n        `(${ifields.map((field) => field[0]).join(' ')})`,\n        `created=${now}`,\n    ];\n    if (expires != undefined) {\n        values.push(`expires=${expires}`);\n        nameParams.set('expires', expires);\n    }\n    if (nonce != undefined) {\n        values.push(`nonce=${nonce}`);\n        nameParams.set('nonce', nonce);\n    }\n    if (keyid != undefined) {\n        values.push(`keyid=${keyid}`);\n        nameParams.set('keyid', keyid);\n    }\n    if (context != undefined) {\n        values.push(`context=${context}`);\n        nameParams.set('context', context);\n    }\n    if (alg != undefined) {\n        values.push(`alg=${alg}`);\n        nameParams.set('alg', alg);\n    }\n    const sid = new Map([[name, [ifields, nameParams]]]);\n    const params = values.join(';');\n    items.push(`\"@signature-params: ${params}\"`);\n    const ser = items.join('\\n');\n    const sig = signer.sign((0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b)(ser));\n    return [\n        new Map([\n            [HEADER_SIG_INPUT, `${(0,structured_headers__WEBPACK_IMPORTED_MODULE_0__.serializeDictionary)(sid)}`],\n        ]),\n        sig,\n    ];\n}\nclass Unqualified {\n    constructor(raw) {\n        this._raw = raw;\n    }\n    get qb64() {\n        return (0,_base64_js__WEBPACK_IMPORTED_MODULE_3__.encodeBase64Url)(this._raw);\n    }\n    get qb64b() {\n        return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.qb64);\n    }\n}\nclass Inputage {\n}\nfunction desiginput(value) {\n    const sid = (0,structured_headers__WEBPACK_IMPORTED_MODULE_0__.parseDictionary)(value);\n    const siginputs = new Array();\n    sid.forEach((value, key) => {\n        const siginput = new Inputage();\n        siginput.name = key;\n        let list;\n        let params;\n        [list, params] = value;\n        siginput.fields = list.map((item) => item[0]);\n        if (!params.has('created')) {\n            throw new Error('missing required `created` field from signature input');\n        }\n        siginput.created = params.get('created');\n        if (params.has('expires')) {\n            siginput.expires = params.get('expires');\n        }\n        if (params.has('nonce')) {\n            siginput.nonce = params.get('nonce');\n        }\n        if (params.has('alg')) {\n            siginput.alg = params.get('alg');\n        }\n        if (params.has('keyid')) {\n            siginput.keyid = params.get('keyid');\n        }\n        if (params.has('context')) {\n            siginput.context = params.get('context');\n        }\n        siginputs.push(siginput);\n    });\n    return siginputs;\n}\n/** Parse start, end and total from HTTP Content-Range header value\n * @param {string|null} header - HTTP Range header value\n * @param {string} typ - type of range, e.g. \"aids\"\n * @returns {start: number, end: number, total: number} - object with start, end and total properties\n */\nfunction parseRangeHeaders(header, typ) {\n    if (header !== null) {\n        const data = header.replace(`${typ} `, '');\n        const values = data.split('/');\n        const rng = values[0].split('-');\n        return {\n            start: parseInt(rng[0]),\n            end: parseInt(rng[1]),\n            total: parseInt(values[1]),\n        };\n    }\n    else {\n        return { start: 0, end: 0, total: 0 };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9odHRwaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUEyRTtBQUM3QztBQUNNO0FBQ1U7QUFDdkM7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLFlBQVksNEVBQTRFO0FBQ3hGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxNQUFNLEtBQUssT0FBTztBQUNyRDtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsTUFBTSxLQUFLLEtBQUs7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLE1BQU0sS0FBSyxNQUFNO0FBQzVDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsMkJBQTJCLGlEQUFNO0FBQ2pDO0FBQ0E7QUFDQSxZQUFZLDJDQUEyQztBQUN2RCxtQkFBbUIsSUFBSTtBQUN2QjtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE1BQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLE1BQU07QUFDbkM7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLFFBQVE7QUFDdkM7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLElBQUk7QUFDL0I7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLHNDQUFzQyxPQUFPO0FBQzdDO0FBQ0EsNEJBQTRCLDJDQUFDO0FBQzdCO0FBQ0E7QUFDQSxrQ0FBa0MsdUVBQW1CLE1BQU07QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSwyREFBZTtBQUM5QjtBQUNBO0FBQ0EsZUFBZSwyQ0FBQztBQUNoQjtBQUNBO0FBQ087QUFDUDtBQUNPO0FBQ1AsZ0JBQWdCLG1FQUFlO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFdBQVcsYUFBYTtBQUN4QixXQUFXLFFBQVE7QUFDbkIsYUFBYSwyQ0FBMkM7QUFDeEQ7QUFDTztBQUNQO0FBQ0EsdUNBQXVDLEtBQUs7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9odHRwaW5nLmpzP2E4MWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgc2VyaWFsaXplRGljdGlvbmFyeSwgcGFyc2VEaWN0aW9uYXJ5LCB9IGZyb20gJ3N0cnVjdHVyZWQtaGVhZGVycyc7XG5pbXBvcnQgeyBiIH0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHsgbm93VVRDIH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbmltcG9ydCB7IGVuY29kZUJhc2U2NFVybCB9IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9TSUdfSU5QVVQgPSBub3JtYWxpemUoJ1NpZ25hdHVyZS1JbnB1dCcpO1xuZXhwb3J0IGNvbnN0IEhFQURFUl9TSUdfVElNRSA9IG5vcm1hbGl6ZSgnU2lnbmlmeS1UaW1lc3RhbXAnKTtcbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemUoaGVhZGVyKSB7XG4gICAgcmV0dXJuIGhlYWRlci50cmltKCk7XG59XG4vKipcbiAqIEdlbmVyYXRlcywgc2VyaWFsaXplcywgYW5kIHNpZ25zIGEgU2lnbmF0dXJlLUlucHV0IEhUVFAgaGVhZGVyIHZhbHVlIGFzIGEgc3RydWN0dXJlZCBoZWFkZXJcbiAqIEBwYXJhbSBzaWduZXJcbiAqIEBwYXJhbSBzaWdJbnB1dEFyZ3NcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNpZ2lucHV0KHNpZ25lciwgc2lnSW5wdXRBcmdzKSB7XG4gICAgY29uc3QgeyBuYW1lLCBtZXRob2QsIHBhdGgsIGhlYWRlcnMsIGZpZWxkcywgZXhwaXJlcywgbm9uY2UsIGFsZywga2V5aWQsIGNvbnRleHQsIH0gPSBzaWdJbnB1dEFyZ3M7XG4gICAgY29uc3QgaXRlbXMgPSBuZXcgQXJyYXkoKTtcbiAgICBjb25zdCBpZmllbGRzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzLmZvckVhY2goKGZpZWxkKSA9PiB7XG4gICAgICAgIGlmIChmaWVsZC5zdGFydHNXaXRoKCdAJykpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdAbWV0aG9kJzpcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChgXCIke2ZpZWxkfVwiOiAke21ldGhvZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgaWZpZWxkcy5wdXNoKFtmaWVsZCwgbmV3IE1hcCgpXSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ0BwYXRoJzpcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMucHVzaChgXCIke2ZpZWxkfVwiOiAke3BhdGh9YCk7XG4gICAgICAgICAgICAgICAgICAgIGlmaWVsZHMucHVzaChbZmllbGQsIG5ldyBNYXAoKV0pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaGVhZGVycy5oYXMoZmllbGQpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmaWVsZHMucHVzaChbZmllbGQsIG5ldyBNYXAoKV0pO1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub3JtYWxpemUoaGVhZGVycy5nZXQoZmllbGQpKTtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goYFwiJHtmaWVsZH1cIjogJHt2YWx1ZX1gKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IG5hbWVQYXJhbXMgPSBuZXcgTWFwKCk7XG4gICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihub3dVVEMoKS5nZXRUaW1lKCkgLyAxMDAwKTtcbiAgICBuYW1lUGFyYW1zLnNldCgnY3JlYXRlZCcsIG5vdyk7XG4gICAgY29uc3QgdmFsdWVzID0gW1xuICAgICAgICBgKCR7aWZpZWxkcy5tYXAoKGZpZWxkKSA9PiBmaWVsZFswXSkuam9pbignICcpfSlgLFxuICAgICAgICBgY3JlYXRlZD0ke25vd31gLFxuICAgIF07XG4gICAgaWYgKGV4cGlyZXMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGBleHBpcmVzPSR7ZXhwaXJlc31gKTtcbiAgICAgICAgbmFtZVBhcmFtcy5zZXQoJ2V4cGlyZXMnLCBleHBpcmVzKTtcbiAgICB9XG4gICAgaWYgKG5vbmNlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZXMucHVzaChgbm9uY2U9JHtub25jZX1gKTtcbiAgICAgICAgbmFtZVBhcmFtcy5zZXQoJ25vbmNlJywgbm9uY2UpO1xuICAgIH1cbiAgICBpZiAoa2V5aWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGBrZXlpZD0ke2tleWlkfWApO1xuICAgICAgICBuYW1lUGFyYW1zLnNldCgna2V5aWQnLCBrZXlpZCk7XG4gICAgfVxuICAgIGlmIChjb250ZXh0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICB2YWx1ZXMucHVzaChgY29udGV4dD0ke2NvbnRleHR9YCk7XG4gICAgICAgIG5hbWVQYXJhbXMuc2V0KCdjb250ZXh0JywgY29udGV4dCk7XG4gICAgfVxuICAgIGlmIChhbGcgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHZhbHVlcy5wdXNoKGBhbGc9JHthbGd9YCk7XG4gICAgICAgIG5hbWVQYXJhbXMuc2V0KCdhbGcnLCBhbGcpO1xuICAgIH1cbiAgICBjb25zdCBzaWQgPSBuZXcgTWFwKFtbbmFtZSwgW2lmaWVsZHMsIG5hbWVQYXJhbXNdXV0pO1xuICAgIGNvbnN0IHBhcmFtcyA9IHZhbHVlcy5qb2luKCc7Jyk7XG4gICAgaXRlbXMucHVzaChgXCJAc2lnbmF0dXJlLXBhcmFtczogJHtwYXJhbXN9XCJgKTtcbiAgICBjb25zdCBzZXIgPSBpdGVtcy5qb2luKCdcXG4nKTtcbiAgICBjb25zdCBzaWcgPSBzaWduZXIuc2lnbihiKHNlcikpO1xuICAgIHJldHVybiBbXG4gICAgICAgIG5ldyBNYXAoW1xuICAgICAgICAgICAgW0hFQURFUl9TSUdfSU5QVVQsIGAke3NlcmlhbGl6ZURpY3Rpb25hcnkoc2lkKX1gXSxcbiAgICAgICAgXSksXG4gICAgICAgIHNpZyxcbiAgICBdO1xufVxuZXhwb3J0IGNsYXNzIFVucXVhbGlmaWVkIHtcbiAgICBjb25zdHJ1Y3RvcihyYXcpIHtcbiAgICAgICAgdGhpcy5fcmF3ID0gcmF3O1xuICAgIH1cbiAgICBnZXQgcWI2NCgpIHtcbiAgICAgICAgcmV0dXJuIGVuY29kZUJhc2U2NFVybCh0aGlzLl9yYXcpO1xuICAgIH1cbiAgICBnZXQgcWI2NGIoKSB7XG4gICAgICAgIHJldHVybiBiKHRoaXMucWI2NCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIElucHV0YWdlIHtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZXNpZ2lucHV0KHZhbHVlKSB7XG4gICAgY29uc3Qgc2lkID0gcGFyc2VEaWN0aW9uYXJ5KHZhbHVlKTtcbiAgICBjb25zdCBzaWdpbnB1dHMgPSBuZXcgQXJyYXkoKTtcbiAgICBzaWQuZm9yRWFjaCgodmFsdWUsIGtleSkgPT4ge1xuICAgICAgICBjb25zdCBzaWdpbnB1dCA9IG5ldyBJbnB1dGFnZSgpO1xuICAgICAgICBzaWdpbnB1dC5uYW1lID0ga2V5O1xuICAgICAgICBsZXQgbGlzdDtcbiAgICAgICAgbGV0IHBhcmFtcztcbiAgICAgICAgW2xpc3QsIHBhcmFtc10gPSB2YWx1ZTtcbiAgICAgICAgc2lnaW5wdXQuZmllbGRzID0gbGlzdC5tYXAoKGl0ZW0pID0+IGl0ZW1bMF0pO1xuICAgICAgICBpZiAoIXBhcmFtcy5oYXMoJ2NyZWF0ZWQnKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtaXNzaW5nIHJlcXVpcmVkIGBjcmVhdGVkYCBmaWVsZCBmcm9tIHNpZ25hdHVyZSBpbnB1dCcpO1xuICAgICAgICB9XG4gICAgICAgIHNpZ2lucHV0LmNyZWF0ZWQgPSBwYXJhbXMuZ2V0KCdjcmVhdGVkJyk7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzKCdleHBpcmVzJykpIHtcbiAgICAgICAgICAgIHNpZ2lucHV0LmV4cGlyZXMgPSBwYXJhbXMuZ2V0KCdleHBpcmVzJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ25vbmNlJykpIHtcbiAgICAgICAgICAgIHNpZ2lucHV0Lm5vbmNlID0gcGFyYW1zLmdldCgnbm9uY2UnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zLmhhcygnYWxnJykpIHtcbiAgICAgICAgICAgIHNpZ2lucHV0LmFsZyA9IHBhcmFtcy5nZXQoJ2FsZycpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJhbXMuaGFzKCdrZXlpZCcpKSB7XG4gICAgICAgICAgICBzaWdpbnB1dC5rZXlpZCA9IHBhcmFtcy5nZXQoJ2tleWlkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5oYXMoJ2NvbnRleHQnKSkge1xuICAgICAgICAgICAgc2lnaW5wdXQuY29udGV4dCA9IHBhcmFtcy5nZXQoJ2NvbnRleHQnKTtcbiAgICAgICAgfVxuICAgICAgICBzaWdpbnB1dHMucHVzaChzaWdpbnB1dCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHNpZ2lucHV0cztcbn1cbi8qKiBQYXJzZSBzdGFydCwgZW5kIGFuZCB0b3RhbCBmcm9tIEhUVFAgQ29udGVudC1SYW5nZSBoZWFkZXIgdmFsdWVcbiAqIEBwYXJhbSB7c3RyaW5nfG51bGx9IGhlYWRlciAtIEhUVFAgUmFuZ2UgaGVhZGVyIHZhbHVlXG4gKiBAcGFyYW0ge3N0cmluZ30gdHlwIC0gdHlwZSBvZiByYW5nZSwgZS5nLiBcImFpZHNcIlxuICogQHJldHVybnMge3N0YXJ0OiBudW1iZXIsIGVuZDogbnVtYmVyLCB0b3RhbDogbnVtYmVyfSAtIG9iamVjdCB3aXRoIHN0YXJ0LCBlbmQgYW5kIHRvdGFsIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmFuZ2VIZWFkZXJzKGhlYWRlciwgdHlwKSB7XG4gICAgaWYgKGhlYWRlciAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBkYXRhID0gaGVhZGVyLnJlcGxhY2UoYCR7dHlwfSBgLCAnJyk7XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGRhdGEuc3BsaXQoJy8nKTtcbiAgICAgICAgY29uc3Qgcm5nID0gdmFsdWVzWzBdLnNwbGl0KCctJyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydDogcGFyc2VJbnQocm5nWzBdKSxcbiAgICAgICAgICAgIGVuZDogcGFyc2VJbnQocm5nWzFdKSxcbiAgICAgICAgICAgIHRvdGFsOiBwYXJzZUludCh2YWx1ZXNbMV0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgc3RhcnQ6IDAsIGVuZDogMCwgdG90YWw6IDAgfTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/httping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/indexer.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/indexer.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IdrDex: () => (/* binding */ IdrDex),\n/* harmony export */   IdxBthSigDex: () => (/* binding */ IdxBthSigDex),\n/* harmony export */   IdxCrtSigDex: () => (/* binding */ IdxCrtSigDex),\n/* harmony export */   IdxSigDex: () => (/* binding */ IdxSigDex),\n/* harmony export */   IndexedBothSigCodex: () => (/* binding */ IndexedBothSigCodex),\n/* harmony export */   IndexedCurrentSigCodex: () => (/* binding */ IndexedCurrentSigCodex),\n/* harmony export */   IndexedSigCodex: () => (/* binding */ IndexedSigCodex),\n/* harmony export */   Indexer: () => (/* binding */ Indexer),\n/* harmony export */   IndexerCodex: () => (/* binding */ IndexerCodex),\n/* harmony export */   Xizage: () => (/* binding */ Xizage)\n/* harmony export */ });\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js\");\n\n\n\nclass IndexerCodex {\n    constructor() {\n        this.Ed25519_Sig = 'A'; // Ed25519 sig appears same in both lists if any.\n        this.Ed25519_Crt_Sig = 'B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Sig = 'C'; // ECDSA secp256k1 sig appears same in both lists if any.\n        this.ECDSA_256k1_Crt_Sig = 'D'; // ECDSA secp256k1 sig appears in current list.\n        this.ECDSA_256r1_Sig = 'E'; // ECDSA secp256r1 sig appears same in both lists if any.\n        this.ECDSA_256r1_Crt_Sig = 'F'; // ECDSA secp256r1 sig appears in current list.\n        this.Ed448_Sig = '0A'; // Ed448 signature appears in both lists.\n        this.Ed448_Crt_Sig = '0B'; // Ed448 signature appears in current list only.\n        this.Ed25519_Big_Sig = '2A'; // Ed25519 sig appears in both lists.\n        this.Ed25519_Big_Crt_Sig = '2B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Big_Sig = '2C'; // ECDSA secp256k1 sig appears in both lists.\n        this.ECDSA_256k1_Big_Crt_Sig = '2D'; // ECDSA secp256k1 sig appears in current list only.\n        this.ECDSA_256r1_Big_Sig = '2E'; // ECDSA secp256r1 sig appears in both lists.\n        this.ECDSA_256r1_Big_Crt_Sig = '2F'; // ECDSA secp256r1 sig appears in current list only.\n        this.Ed448_Big_Sig = '3A'; // Ed448 signature appears in both lists.\n        this.Ed448_Big_Crt_Sig = '3B'; // Ed448 signature appears in current list only.\n    }\n}\nconst IdrDex = new IndexerCodex();\nclass IndexedSigCodex {\n    constructor() {\n        this.Ed25519_Sig = 'A'; // Ed25519 sig appears same in both lists if any.\n        this.Ed25519_Crt_Sig = 'B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Sig = 'C'; // ECDSA secp256k1 sig appears same in both lists if any.\n        this.ECDSA_256k1_Crt_Sig = 'D'; // ECDSA secp256k1 sig appears in current list.\n        this.ECDSA_256r1_Sig = 'E'; // ECDSA secp256r1 sig appears same in both lists if any.\n        this.ECDSA_256r1_Crt_Sig = 'F'; // ECDSA secp256r1 sig appears in current list.\n        this.Ed448_Sig = '0A'; // Ed448 signature appears in both lists.\n        this.Ed448_Crt_Sig = '0B'; // Ed448 signature appears in current list only.\n        this.Ed25519_Big_Sig = '2A'; // Ed25519 sig appears in both lists.\n        this.Ed25519_Big_Crt_Sig = '2B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Big_Sig = '2C'; // ECDSA secp256k1 sig appears in both lists.\n        this.ECDSA_256k1_Big_Crt_Sig = '2D'; // ECDSA secp256k1 sig appears in current list only.\n        this.ECDSA_256r1_Big_Sig = '2E'; // ECDSA secp256r1 sig appears in both lists.\n        this.ECDSA_256r1_Big_Crt_Sig = '2F'; // ECDSA secp256r1 sig appears in current list only.\n        this.Ed448_Big_Sig = '3A'; // Ed448 signature appears in both lists.\n        this.Ed448_Big_Crt_Sig = '3B'; // Ed448 signature appears in current list only.\n    }\n    has(prop) {\n        const m = new Map(Array.from(Object.entries(this), (v) => [v[1], v[0]]));\n        return m.has(prop);\n    }\n}\nconst IdxSigDex = new IndexedSigCodex();\nclass IndexedCurrentSigCodex {\n    constructor() {\n        this.Ed25519_Crt_Sig = 'B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Crt_Sig = 'D'; // ECDSA secp256k1 sig appears in current list only.\n        this.ECDSA_256r1_Crt_Sig = 'F'; // ECDSA secp256r1 sig appears in current list.\n        this.Ed448_Crt_Sig = '0B'; // Ed448 signature appears in current list only.\n        this.Ed25519_Big_Crt_Sig = '2B'; // Ed25519 sig appears in current list only.\n        this.ECDSA_256k1_Big_Crt_Sig = '2D'; // ECDSA secp256k1 sig appears in current list only.\n        this.ECDSA_256r1_Big_Crt_Sig = '2F'; // ECDSA secp256r1 sig appears in current list only.\n        this.Ed448_Big_Crt_Sig = '3B'; // Ed448 signature appears in current list only.\n    }\n    has(prop) {\n        const m = new Map(Array.from(Object.entries(this), (v) => [v[1], v[0]]));\n        return m.has(prop);\n    }\n}\nconst IdxCrtSigDex = new IndexedCurrentSigCodex();\nclass IndexedBothSigCodex {\n    constructor() {\n        this.Ed25519_Sig = 'A'; // Ed25519 sig appears same in both lists if any.\n        this.ECDSA_256k1_Sig = 'C'; // ECDSA secp256k1 sig appears same in both lists if any.\n        this.Ed448_Sig = '0A'; // Ed448 signature appears in both lists.\n        this.Ed25519_Big_Sig = '2A'; // Ed25519 sig appears in both listsy.\n        this.ECDSA_256k1_Big_Sig = '2C'; // ECDSA secp256k1 sig appears in both lists.\n        this.Ed448_Big_Sig = '3A'; // Ed448 signature appears in both lists.\n    }\n    has(prop) {\n        const m = new Map(Array.from(Object.entries(this), (v) => [v[1], v[0]]));\n        return m.has(prop);\n    }\n}\nconst IdxBthSigDex = new IndexedBothSigCodex();\nclass Xizage {\n    constructor(hs, ss, os, fs, ls) {\n        this.hs = hs;\n        this.ss = ss;\n        this.os = os;\n        this.fs = fs;\n        this.ls = ls;\n    }\n}\nclass Indexer {\n    constructor({ raw = undefined, code = IdrDex.Ed25519_Sig, index = 0, ondex = undefined, qb64b = undefined, qb64 = undefined, qb2 = undefined, }) {\n        this.Codex = IdrDex;\n        this._code = '';\n        this._index = -1;\n        this._raw = new Uint8Array(0);\n        if (raw != undefined) {\n            if (code == undefined) {\n                throw new _kering_js__WEBPACK_IMPORTED_MODULE_0__.EmptyMaterialError(`Improper initialization need either (raw and code) or qb64b or qb64 or qb2.`);\n            }\n            if (!Indexer.Sizes.has(code)) {\n                throw new Error(`Unsupported code=${code}.`);\n            }\n            const xizage = Indexer.Sizes.get(code);\n            const os = xizage.os;\n            const fs = xizage.fs;\n            const cs = xizage.hs + xizage.ss;\n            const ms = xizage.ss - xizage.os;\n            if (!Number.isInteger(index) || index < 0 || index > 64 ** ms - 1) {\n                throw new Error(`Invalid index=${index} for code=${code}.`);\n            }\n            if (ondex != undefined &&\n                xizage.os != 0 &&\n                !(ondex >= 0 && ondex <= 64 ** os - 1)) {\n                throw new Error(`Invalid ondex=${ondex} for code=${code}.`);\n            }\n            if (IdxCrtSigDex.has(code) && ondex != undefined) {\n                throw new Error(`Non None ondex=${ondex} for code=${code}.`);\n            }\n            if (IdxBthSigDex.has(code)) {\n                if (ondex == undefined) {\n                    ondex = index;\n                }\n                else {\n                    if (ondex != index && os == 0) {\n                        throw new Error(`Non matching ondex=${ondex} and index=${index} for code=${code}.`);\n                    }\n                }\n            }\n            if (fs == undefined) {\n                throw new Error('variable length unsupported');\n            }\n            // TODO: Don't support this code\n            //  if not fs:  # compute fs from index\n            //       if cs % 4:\n            //           raise InvalidCodeSizeError(f\"Whole code size not multiple of 4 for \"\n            //                                      f\"variable length material. cs={cs}.\")\n            //       if os != 0:\n            //           raise InvalidCodeSizeError(f\"Non-zero other index size for \"\n            //                                      f\"variable length material. os={os}.\")\n            //       fs = (index * 4) + cs\n            const rawsize = Math.floor(((fs - cs) * 3) / 4);\n            raw = raw.slice(0, rawsize);\n            if (raw.length != rawsize) {\n                throw new Error(`Not enougth raw bytes for code=${code} and index=${index} ,expected ${rawsize} got ${raw.length}.`);\n            }\n            this._code = code;\n            this._index = index;\n            this._ondex = ondex;\n            this._raw = raw;\n        }\n        else if (qb64b != undefined) {\n            const qb64 = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.d)(qb64b);\n            this._exfil(qb64);\n        }\n        else if (qb64 != undefined) {\n            this._exfil(qb64);\n        }\n        else if (qb2 != undefined) {\n            this._bexfil(qb2);\n        }\n        else {\n            throw new _kering_js__WEBPACK_IMPORTED_MODULE_0__.EmptyMaterialError(`Improper initialization need either (raw and code and index) or qb64b or qb64 or qb2.`);\n        }\n    }\n    _bexfil(qb2) {\n        throw new Error(`qb2 not yet supported: ${qb2}`);\n    }\n    static _rawSize(code) {\n        const xizage = Indexer.Sizes.get(code);\n        return Math.floor(xizage.fs - ((xizage.hs + xizage.ss) * 3) / 4);\n    }\n    get code() {\n        return this._code;\n    }\n    get raw() {\n        return this._raw;\n    }\n    get index() {\n        return this._index;\n    }\n    get ondex() {\n        return this._ondex;\n    }\n    get qb64() {\n        return this._infil();\n    }\n    get qb64b() {\n        return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.qb64);\n    }\n    _infil() {\n        const code = this.code;\n        const index = this.index;\n        const ondex = this.ondex;\n        const raw = this.raw;\n        const ps = (3 - (raw.length % 3)) % 3;\n        const xizage = Indexer.Sizes.get(code);\n        const cs = xizage.hs + xizage.ss;\n        const ms = xizage.ss - xizage.os;\n        // TODO: don't support this code\n        //  if not fs:  # compute fs from index\n        //       if cs % 4:\n        //           raise InvalidCodeSizeError(f\"Whole code size not multiple of 4 for \"\n        //                                      f\"variable length material. cs={cs}.\")\n        //       if os != 0:\n        //           raise InvalidCodeSizeError(f\"Non-zero other index size for \"\n        //                                      f\"variable length material. os={os}.\")\n        //       fs = (index * 4) + cs\n        if (index < 0 || index > 64 ** ms - 1) {\n            throw new Error(`Invalid index=${index} for code=${code}.`);\n        }\n        if (ondex != undefined &&\n            xizage.os != 0 &&\n            !(ondex >= 0 && ondex <= 64 ** xizage.os - 1)) {\n            throw new Error(`Invalid ondex=${ondex} for os=${xizage.os} and code=${code}.`);\n        }\n        const both = `${code}${(0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(index, ms)}${(0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(ondex == undefined ? 0 : ondex, xizage.os)}`;\n        if (both.length != cs) {\n            throw new Error(`Mismatch code size = ${cs} with table = ${both.length}.`);\n        }\n        if (cs % 4 != ps - xizage.ls) {\n            throw new Error(`Invalid code=${both} for converted raw pad size=${ps}.`);\n        }\n        const bytes = new Uint8Array(ps + raw.length);\n        for (let i = 0; i < ps; i++) {\n            bytes[i] = 0;\n        }\n        for (let i = 0; i < raw.length; i++) {\n            const odx = i + ps;\n            bytes[odx] = raw[i];\n        }\n        const full = both + (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64Url)(bytes).slice(ps - xizage.ls);\n        if (full.length != xizage.fs) {\n            throw new Error(`Invalid code=${both} for raw size=${raw.length}.`);\n        }\n        return full;\n    }\n    _exfil(qb64) {\n        if (qb64.length == 0) {\n            throw new Error('Empty Material');\n        }\n        const first = qb64[0];\n        if (!Array.from(Indexer.Hards.keys()).includes(first)) {\n            throw new Error(`Unexpected code ${first}`);\n        }\n        const hs = Indexer.Hards.get(first);\n        if (qb64.length < hs) {\n            throw new Error(`Need ${hs - qb64.length} more characters.`);\n        }\n        const hard = qb64.slice(0, hs);\n        if (!Array.from(Indexer.Sizes.keys()).includes(hard)) {\n            throw new Error(`Unsupported code ${hard}`);\n        }\n        const xizage = Indexer.Sizes.get(hard);\n        const cs = xizage.hs + xizage.ss; // both hard + soft code size\n        const ms = xizage.ss - xizage.os;\n        if (qb64.length < cs) {\n            throw new Error(`Need ${cs - qb64.length} more characters.`);\n        }\n        const sindex = qb64.slice(hs, hs + ms);\n        const index = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b64ToInt)(sindex);\n        const sondex = qb64.slice(hs + ms, hs + ms + xizage.os);\n        let ondex;\n        if (IdxCrtSigDex.has(hard)) {\n            ondex = xizage.os != 0 ? (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b64ToInt)(sondex) : undefined;\n            if (ondex != 0 && ondex != undefined) {\n                throw new Error(`Invalid ondex=${ondex} for code=${hard}.`);\n            }\n            else {\n                ondex = undefined;\n            }\n        }\n        else {\n            ondex = xizage.os != 0 ? (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b64ToInt)(sondex) : index;\n        }\n        if (xizage.fs == undefined) {\n            throw new Error('variable length not supported');\n        }\n        // TODO: support variable length\n        // if not fs:  # compute fs from index which means variable length\n        //     if cs % 4:\n        //         raise ValidationError(f\"Whole code size not multiple of 4 for \"\n        //                               f\"variable length material. cs={cs}.\")\n        //     if os != 0:\n        //         raise ValidationError(f\"Non-zero other index size for \"\n        //                               f\"variable length material. os={os}.\")\n        //     fs = (index * 4) + cs\n        if (qb64.length < xizage.fs) {\n            throw new Error(`Need ${xizage.fs - qb64.length} more chars.`);\n        }\n        qb64 = qb64.slice(0, xizage.fs);\n        const ps = cs % 4;\n        const pbs = 2 * ps != 0 ? ps : xizage.ls;\n        let raw;\n        if (ps != 0) {\n            const base = new Array(ps + 1).join('A') + qb64.slice(cs);\n            const paw = (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64Url)(base); // decode base to leave prepadded raw\n            const pi = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.readInt)(paw.slice(0, ps)); // prepad as int\n            if (pi & (2 ** pbs - 1)) {\n                // masked pad bits non-zero\n                throw new Error(`Non zeroed prepad bits = {pi & (2 ** pbs - 1 ):<06b} in {qb64b[cs:cs+1]}.`);\n            }\n            raw = paw.slice(ps); // strip off ps prepad paw bytes\n        }\n        else {\n            const base = qb64.slice(cs);\n            const paw = (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64Url)(base);\n            const li = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.readInt)(paw.slice(0, xizage.ls));\n            if (li != 0) {\n                if (li == 1) {\n                    throw new Error(`Non zeroed lead byte = 0x{li:02x}.`);\n                }\n                else {\n                    throw new Error(`Non zeroed lead bytes = 0x{li:04x}`);\n                }\n            }\n            raw = paw.slice(xizage.ls);\n        }\n        if (raw.length != Math.floor(((qb64.length - cs) * 3) / 4)) {\n            throw new Error(`Improperly qualified material = ${qb64}`);\n        }\n        this._code = hard;\n        this._index = index;\n        this._ondex = ondex;\n        this._raw = new Uint8Array(raw); // must be bytes for crpto opts and immutable not bytearray\n    }\n}\nIndexer.Hards = new Map([\n    ['A', 1],\n    ['B', 1],\n    ['C', 1],\n    ['D', 1],\n    ['E', 1],\n    ['F', 1],\n    ['G', 1],\n    ['H', 1],\n    ['I', 1],\n    ['J', 1],\n    ['K', 1],\n    ['L', 1],\n    ['M', 1],\n    ['N', 1],\n    ['O', 1],\n    ['P', 1],\n    ['Q', 1],\n    ['R', 1],\n    ['S', 1],\n    ['T', 1],\n    ['U', 1],\n    ['V', 1],\n    ['W', 1],\n    ['X', 1],\n    ['Y', 1],\n    ['Z', 1],\n    ['a', 1],\n    ['b', 1],\n    ['c', 1],\n    ['d', 1],\n    ['e', 1],\n    ['f', 1],\n    ['g', 1],\n    ['h', 1],\n    ['i', 1],\n    ['j', 1],\n    ['k', 1],\n    ['l', 1],\n    ['m', 1],\n    ['n', 1],\n    ['o', 1],\n    ['p', 1],\n    ['q', 1],\n    ['r', 1],\n    ['s', 1],\n    ['t', 1],\n    ['u', 1],\n    ['v', 1],\n    ['w', 1],\n    ['x', 1],\n    ['y', 1],\n    ['z', 1],\n    ['0', 2],\n    ['1', 2],\n    ['2', 2],\n    ['3', 2],\n    ['4', 2],\n]);\nIndexer.Sizes = new Map(Object.entries({\n    A: new Xizage(1, 1, 0, 88, 0),\n    B: new Xizage(1, 1, 0, 88, 0),\n    C: new Xizage(1, 1, 0, 88, 0),\n    D: new Xizage(1, 1, 0, 88, 0),\n    E: new Xizage(1, 1, 0, 88, 0),\n    F: new Xizage(1, 1, 0, 88, 0),\n    '0A': new Xizage(2, 2, 1, 156, 0),\n    '0B': new Xizage(2, 2, 1, 156, 0),\n    '2A': new Xizage(2, 4, 2, 92, 0),\n    '2B': new Xizage(2, 4, 2, 92, 0),\n    '2C': new Xizage(2, 4, 2, 92, 0),\n    '2D': new Xizage(2, 4, 2, 92, 0),\n    '2E': new Xizage(2, 4, 2, 92, 0),\n    '2F': new Xizage(2, 4, 2, 92, 0),\n    '3A': new Xizage(2, 6, 3, 160, 0),\n    '3B': new Xizage(2, 6, 3, 160, 0),\n    '0z': new Xizage(2, 2, 0, undefined, 0),\n    '1z': new Xizage(2, 2, 1, 76, 1),\n    '4z': new Xizage(2, 6, 3, 80, 1),\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9pbmRleGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUQ7QUFDYTtBQUNDO0FBQ3hEO0FBQ1A7QUFDQSxnQ0FBZ0M7QUFDaEMsb0NBQW9DO0FBQ3BDLG9DQUFvQztBQUNwQyx3Q0FBd0M7QUFDeEMsb0NBQW9DO0FBQ3BDLHdDQUF3QztBQUN4QywrQkFBK0I7QUFDL0IsbUNBQW1DO0FBQ25DLHFDQUFxQztBQUNyQyx5Q0FBeUM7QUFDekMseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3Qyx5Q0FBeUM7QUFDekMsNkNBQTZDO0FBQzdDLG1DQUFtQztBQUNuQyx1Q0FBdUM7QUFDdkM7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBLGdDQUFnQztBQUNoQyxvQ0FBb0M7QUFDcEMsb0NBQW9DO0FBQ3BDLHdDQUF3QztBQUN4QyxvQ0FBb0M7QUFDcEMsd0NBQXdDO0FBQ3hDLCtCQUErQjtBQUMvQixtQ0FBbUM7QUFDbkMscUNBQXFDO0FBQ3JDLHlDQUF5QztBQUN6Qyx5Q0FBeUM7QUFDekMsNkNBQTZDO0FBQzdDLHlDQUF5QztBQUN6Qyw2Q0FBNkM7QUFDN0MsbUNBQW1DO0FBQ25DLHVDQUF1QztBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQSxvQ0FBb0M7QUFDcEMsd0NBQXdDO0FBQ3hDLHdDQUF3QztBQUN4QyxtQ0FBbUM7QUFDbkMseUNBQXlDO0FBQ3pDLDZDQUE2QztBQUM3Qyw2Q0FBNkM7QUFDN0MsdUNBQXVDO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBLGdDQUFnQztBQUNoQyxvQ0FBb0M7QUFDcEMsK0JBQStCO0FBQy9CLHFDQUFxQztBQUNyQyx5Q0FBeUM7QUFDekMsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxrQkFBa0IsaUlBQWlJO0FBQ25KO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwwREFBa0I7QUFDNUM7QUFDQTtBQUNBLG9EQUFvRCxLQUFLO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU8sV0FBVyxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaURBQWlELE9BQU8sV0FBVyxLQUFLO0FBQ3hFO0FBQ0E7QUFDQSxrREFBa0QsT0FBTyxXQUFXLEtBQUs7QUFDekU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQsT0FBTyxZQUFZLE9BQU8sV0FBVyxLQUFLO0FBQ3hHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0ZBQW9GLEdBQUc7QUFDdkY7QUFDQTtBQUNBLG9GQUFvRixHQUFHO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLE1BQU0sWUFBWSxPQUFPLFlBQVksU0FBUyxNQUFNLFdBQVc7QUFDakk7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSxrREFBa0QsSUFBSTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRkFBZ0YsR0FBRztBQUNuRjtBQUNBO0FBQ0EsZ0ZBQWdGLEdBQUc7QUFDbkY7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLFdBQVcsS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QyxPQUFPLFNBQVMsV0FBVyxXQUFXLEtBQUs7QUFDeEY7QUFDQSx3QkFBd0IsS0FBSyxFQUFFLGtEQUFRLFlBQVksRUFBRSxrREFBUSw0Q0FBNEM7QUFDekc7QUFDQSxvREFBb0QsSUFBSSxlQUFlLFlBQVk7QUFDbkY7QUFDQTtBQUNBLDRDQUE0QyxNQUFNLDZCQUE2QixHQUFHO0FBQ2xGO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0Esd0JBQXdCLGdCQUFnQjtBQUN4QztBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsMkRBQWU7QUFDM0M7QUFDQSw0Q0FBNEMsTUFBTSxlQUFlLFdBQVc7QUFDNUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLGtCQUFrQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsS0FBSztBQUNyRDtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQSxvQ0FBb0Msa0JBQWtCO0FBQ3REO0FBQ0E7QUFDQSxzQkFBc0Isa0RBQVE7QUFDOUI7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGtEQUFRO0FBQzdDO0FBQ0EsaURBQWlELE9BQU8sV0FBVyxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFDQUFxQyxrREFBUTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLEdBQUc7QUFDNUU7QUFDQTtBQUNBLHlFQUF5RSxHQUFHO0FBQzVFO0FBQ0E7QUFDQSxvQ0FBb0MseUJBQXlCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJEQUFlLFFBQVE7QUFDL0MsdUJBQXVCLGlEQUFPLG9CQUFvQjtBQUNsRDtBQUNBO0FBQ0EsMkRBQTJELDJCQUEyQixJQUFJLGVBQWU7QUFDekc7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDJEQUFlO0FBQ3ZDLHVCQUF1QixpREFBTztBQUM5QjtBQUNBO0FBQ0EsK0RBQStELE9BQU87QUFDdEU7QUFDQTtBQUNBLGdFQUFnRSxPQUFPO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsS0FBSztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvaW5kZXhlci5qcz8yNjk4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVtcHR5TWF0ZXJpYWxFcnJvciB9IGZyb20gXCIuL2tlcmluZy5qc1wiO1xuaW1wb3J0IHsgYiwgYjY0VG9JbnQsIGQsIGludFRvQjY0LCByZWFkSW50IH0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHsgZGVjb2RlQmFzZTY0VXJsLCBlbmNvZGVCYXNlNjRVcmwgfSBmcm9tIFwiLi9iYXNlNjQuanNcIjtcbmV4cG9ydCBjbGFzcyBJbmRleGVyQ29kZXgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkVkMjU1MTlfU2lnID0gJ0EnOyAvLyBFZDI1NTE5IHNpZyBhcHBlYXJzIHNhbWUgaW4gYm90aCBsaXN0cyBpZiBhbnkuXG4gICAgICAgIHRoaXMuRWQyNTUxOV9DcnRfU2lnID0gJ0InOyAvLyBFZDI1NTE5IHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdCBvbmx5LlxuICAgICAgICB0aGlzLkVDRFNBXzI1NmsxX1NpZyA9ICdDJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHNpZyBhcHBlYXJzIHNhbWUgaW4gYm90aCBsaXN0cyBpZiBhbnkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFfQ3J0X1NpZyA9ICdEJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdC5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMV9TaWcgPSAnRSc7IC8vIEVDRFNBIHNlY3AyNTZyMSBzaWcgYXBwZWFycyBzYW1lIGluIGJvdGggbGlzdHMgaWYgYW55LlxuICAgICAgICB0aGlzLkVDRFNBXzI1NnIxX0NydF9TaWcgPSAnRic7IC8vIEVDRFNBIHNlY3AyNTZyMSBzaWcgYXBwZWFycyBpbiBjdXJyZW50IGxpc3QuXG4gICAgICAgIHRoaXMuRWQ0NDhfU2lnID0gJzBBJzsgLy8gRWQ0NDggc2lnbmF0dXJlIGFwcGVhcnMgaW4gYm90aCBsaXN0cy5cbiAgICAgICAgdGhpcy5FZDQ0OF9DcnRfU2lnID0gJzBCJzsgLy8gRWQ0NDggc2lnbmF0dXJlIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRWQyNTUxOV9CaWdfU2lnID0gJzJBJzsgLy8gRWQyNTUxOSBzaWcgYXBwZWFycyBpbiBib3RoIGxpc3RzLlxuICAgICAgICB0aGlzLkVkMjU1MTlfQmlnX0NydF9TaWcgPSAnMkInOyAvLyBFZDI1NTE5IHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdCBvbmx5LlxuICAgICAgICB0aGlzLkVDRFNBXzI1NmsxX0JpZ19TaWcgPSAnMkMnOyAvLyBFQ0RTQSBzZWNwMjU2azEgc2lnIGFwcGVhcnMgaW4gYm90aCBsaXN0cy5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9CaWdfQ3J0X1NpZyA9ICcyRCc7IC8vIEVDRFNBIHNlY3AyNTZrMSBzaWcgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMV9CaWdfU2lnID0gJzJFJzsgLy8gRUNEU0Egc2VjcDI1NnIxIHNpZyBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2cjFfQmlnX0NydF9TaWcgPSAnMkYnOyAvLyBFQ0RTQSBzZWNwMjU2cjEgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRWQ0NDhfQmlnX1NpZyA9ICczQSc7IC8vIEVkNDQ4IHNpZ25hdHVyZSBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgICAgIHRoaXMuRWQ0NDhfQmlnX0NydF9TaWcgPSAnM0InOyAvLyBFZDQ0OCBzaWduYXR1cmUgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICB9XG59XG5leHBvcnQgY29uc3QgSWRyRGV4ID0gbmV3IEluZGV4ZXJDb2RleCgpO1xuZXhwb3J0IGNsYXNzIEluZGV4ZWRTaWdDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRWQyNTUxOV9TaWcgPSAnQSc7IC8vIEVkMjU1MTkgc2lnIGFwcGVhcnMgc2FtZSBpbiBib3RoIGxpc3RzIGlmIGFueS5cbiAgICAgICAgdGhpcy5FZDI1NTE5X0NydF9TaWcgPSAnQic7IC8vIEVkMjU1MTkgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFfU2lnID0gJ0MnOyAvLyBFQ0RTQSBzZWNwMjU2azEgc2lnIGFwcGVhcnMgc2FtZSBpbiBib3RoIGxpc3RzIGlmIGFueS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9DcnRfU2lnID0gJ0QnOyAvLyBFQ0RTQSBzZWNwMjU2azEgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0LlxuICAgICAgICB0aGlzLkVDRFNBXzI1NnIxX1NpZyA9ICdFJzsgLy8gRUNEU0Egc2VjcDI1NnIxIHNpZyBhcHBlYXJzIHNhbWUgaW4gYm90aCBsaXN0cyBpZiBhbnkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2cjFfQ3J0X1NpZyA9ICdGJzsgLy8gRUNEU0Egc2VjcDI1NnIxIHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdC5cbiAgICAgICAgdGhpcy5FZDQ0OF9TaWcgPSAnMEEnOyAvLyBFZDQ0OCBzaWduYXR1cmUgYXBwZWFycyBpbiBib3RoIGxpc3RzLlxuICAgICAgICB0aGlzLkVkNDQ4X0NydF9TaWcgPSAnMEInOyAvLyBFZDQ0OCBzaWduYXR1cmUgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICAgICAgdGhpcy5FZDI1NTE5X0JpZ19TaWcgPSAnMkEnOyAvLyBFZDI1NTE5IHNpZyBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgICAgIHRoaXMuRWQyNTUxOV9CaWdfQ3J0X1NpZyA9ICcyQic7IC8vIEVkMjU1MTkgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFfQmlnX1NpZyA9ICcyQyc7IC8vIEVDRFNBIHNlY3AyNTZrMSBzaWcgYXBwZWFycyBpbiBib3RoIGxpc3RzLlxuICAgICAgICB0aGlzLkVDRFNBXzI1NmsxX0JpZ19DcnRfU2lnID0gJzJEJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdCBvbmx5LlxuICAgICAgICB0aGlzLkVDRFNBXzI1NnIxX0JpZ19TaWcgPSAnMkUnOyAvLyBFQ0RTQSBzZWNwMjU2cjEgc2lnIGFwcGVhcnMgaW4gYm90aCBsaXN0cy5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMV9CaWdfQ3J0X1NpZyA9ICcyRic7IC8vIEVDRFNBIHNlY3AyNTZyMSBzaWcgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICAgICAgdGhpcy5FZDQ0OF9CaWdfU2lnID0gJzNBJzsgLy8gRWQ0NDggc2lnbmF0dXJlIGFwcGVhcnMgaW4gYm90aCBsaXN0cy5cbiAgICAgICAgdGhpcy5FZDQ0OF9CaWdfQ3J0X1NpZyA9ICczQic7IC8vIEVkNDQ4IHNpZ25hdHVyZSBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdCBvbmx5LlxuICAgIH1cbiAgICBoYXMocHJvcCkge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcChBcnJheS5mcm9tKE9iamVjdC5lbnRyaWVzKHRoaXMpLCAodikgPT4gW3ZbMV0sIHZbMF1dKSk7XG4gICAgICAgIHJldHVybiBtLmhhcyhwcm9wKTtcbiAgICB9XG59XG5leHBvcnQgY29uc3QgSWR4U2lnRGV4ID0gbmV3IEluZGV4ZWRTaWdDb2RleCgpO1xuZXhwb3J0IGNsYXNzIEluZGV4ZWRDdXJyZW50U2lnQ29kZXgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLkVkMjU1MTlfQ3J0X1NpZyA9ICdCJzsgLy8gRWQyNTUxOSBzaWcgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9DcnRfU2lnID0gJ0QnOyAvLyBFQ0RTQSBzZWNwMjU2azEgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2cjFfQ3J0X1NpZyA9ICdGJzsgLy8gRUNEU0Egc2VjcDI1NnIxIHNpZyBhcHBlYXJzIGluIGN1cnJlbnQgbGlzdC5cbiAgICAgICAgdGhpcy5FZDQ0OF9DcnRfU2lnID0gJzBCJzsgLy8gRWQ0NDggc2lnbmF0dXJlIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRWQyNTUxOV9CaWdfQ3J0X1NpZyA9ICcyQic7IC8vIEVkMjU1MTkgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFfQmlnX0NydF9TaWcgPSAnMkQnOyAvLyBFQ0RTQSBzZWNwMjU2azEgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2cjFfQmlnX0NydF9TaWcgPSAnMkYnOyAvLyBFQ0RTQSBzZWNwMjU2cjEgc2lnIGFwcGVhcnMgaW4gY3VycmVudCBsaXN0IG9ubHkuXG4gICAgICAgIHRoaXMuRWQ0NDhfQmlnX0NydF9TaWcgPSAnM0InOyAvLyBFZDQ0OCBzaWduYXR1cmUgYXBwZWFycyBpbiBjdXJyZW50IGxpc3Qgb25seS5cbiAgICB9XG4gICAgaGFzKHByb3ApIHtcbiAgICAgICAgY29uc3QgbSA9IG5ldyBNYXAoQXJyYXkuZnJvbShPYmplY3QuZW50cmllcyh0aGlzKSwgKHYpID0+IFt2WzFdLCB2WzBdXSkpO1xuICAgICAgICByZXR1cm4gbS5oYXMocHJvcCk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IElkeENydFNpZ0RleCA9IG5ldyBJbmRleGVkQ3VycmVudFNpZ0NvZGV4KCk7XG5leHBvcnQgY2xhc3MgSW5kZXhlZEJvdGhTaWdDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuRWQyNTUxOV9TaWcgPSAnQSc7IC8vIEVkMjU1MTkgc2lnIGFwcGVhcnMgc2FtZSBpbiBib3RoIGxpc3RzIGlmIGFueS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9TaWcgPSAnQyc7IC8vIEVDRFNBIHNlY3AyNTZrMSBzaWcgYXBwZWFycyBzYW1lIGluIGJvdGggbGlzdHMgaWYgYW55LlxuICAgICAgICB0aGlzLkVkNDQ4X1NpZyA9ICcwQSc7IC8vIEVkNDQ4IHNpZ25hdHVyZSBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgICAgIHRoaXMuRWQyNTUxOV9CaWdfU2lnID0gJzJBJzsgLy8gRWQyNTUxOSBzaWcgYXBwZWFycyBpbiBib3RoIGxpc3RzeS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9CaWdfU2lnID0gJzJDJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHNpZyBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgICAgIHRoaXMuRWQ0NDhfQmlnX1NpZyA9ICczQSc7IC8vIEVkNDQ4IHNpZ25hdHVyZSBhcHBlYXJzIGluIGJvdGggbGlzdHMuXG4gICAgfVxuICAgIGhhcyhwcm9wKSB7XG4gICAgICAgIGNvbnN0IG0gPSBuZXcgTWFwKEFycmF5LmZyb20oT2JqZWN0LmVudHJpZXModGhpcyksICh2KSA9PiBbdlsxXSwgdlswXV0pKTtcbiAgICAgICAgcmV0dXJuIG0uaGFzKHByb3ApO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBJZHhCdGhTaWdEZXggPSBuZXcgSW5kZXhlZEJvdGhTaWdDb2RleCgpO1xuZXhwb3J0IGNsYXNzIFhpemFnZSB7XG4gICAgY29uc3RydWN0b3IoaHMsIHNzLCBvcywgZnMsIGxzKSB7XG4gICAgICAgIHRoaXMuaHMgPSBocztcbiAgICAgICAgdGhpcy5zcyA9IHNzO1xuICAgICAgICB0aGlzLm9zID0gb3M7XG4gICAgICAgIHRoaXMuZnMgPSBmcztcbiAgICAgICAgdGhpcy5scyA9IGxzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBJbmRleGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHJhdyA9IHVuZGVmaW5lZCwgY29kZSA9IElkckRleC5FZDI1NTE5X1NpZywgaW5kZXggPSAwLCBvbmRleCA9IHVuZGVmaW5lZCwgcWI2NGIgPSB1bmRlZmluZWQsIHFiNjQgPSB1bmRlZmluZWQsIHFiMiA9IHVuZGVmaW5lZCwgfSkge1xuICAgICAgICB0aGlzLkNvZGV4ID0gSWRyRGV4O1xuICAgICAgICB0aGlzLl9jb2RlID0gJyc7XG4gICAgICAgIHRoaXMuX2luZGV4ID0gLTE7XG4gICAgICAgIHRoaXMuX3JhdyA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICBpZiAocmF3ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGNvZGUgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVtcHR5TWF0ZXJpYWxFcnJvcihgSW1wcm9wZXIgaW5pdGlhbGl6YXRpb24gbmVlZCBlaXRoZXIgKHJhdyBhbmQgY29kZSkgb3IgcWI2NGIgb3IgcWI2NCBvciBxYjIuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIUluZGV4ZXIuU2l6ZXMuaGFzKGNvZGUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb2RlPSR7Y29kZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB4aXphZ2UgPSBJbmRleGVyLlNpemVzLmdldChjb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IG9zID0geGl6YWdlLm9zO1xuICAgICAgICAgICAgY29uc3QgZnMgPSB4aXphZ2UuZnM7XG4gICAgICAgICAgICBjb25zdCBjcyA9IHhpemFnZS5ocyArIHhpemFnZS5zcztcbiAgICAgICAgICAgIGNvbnN0IG1zID0geGl6YWdlLnNzIC0geGl6YWdlLm9zO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNJbnRlZ2VyKGluZGV4KSB8fCBpbmRleCA8IDAgfHwgaW5kZXggPiA2NCAqKiBtcyAtIDEpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW5kZXg9JHtpbmRleH0gZm9yIGNvZGU9JHtjb2RlfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbmRleCAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgICAgICB4aXphZ2Uub3MgIT0gMCAmJlxuICAgICAgICAgICAgICAgICEob25kZXggPj0gMCAmJiBvbmRleCA8PSA2NCAqKiBvcyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIG9uZGV4PSR7b25kZXh9IGZvciBjb2RlPSR7Y29kZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoSWR4Q3J0U2lnRGV4Lmhhcyhjb2RlKSAmJiBvbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbiBOb25lIG9uZGV4PSR7b25kZXh9IGZvciBjb2RlPSR7Y29kZX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoSWR4QnRoU2lnRGV4Lmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgICAgIGlmIChvbmRleCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb25kZXggPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvbmRleCAhPSBpbmRleCAmJiBvcyA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbiBtYXRjaGluZyBvbmRleD0ke29uZGV4fSBhbmQgaW5kZXg9JHtpbmRleH0gZm9yIGNvZGU9JHtjb2RlfS5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3ZhcmlhYmxlIGxlbmd0aCB1bnN1cHBvcnRlZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVE9ETzogRG9uJ3Qgc3VwcG9ydCB0aGlzIGNvZGVcbiAgICAgICAgICAgIC8vICBpZiBub3QgZnM6ICAjIGNvbXB1dGUgZnMgZnJvbSBpbmRleFxuICAgICAgICAgICAgLy8gICAgICAgaWYgY3MgJSA0OlxuICAgICAgICAgICAgLy8gICAgICAgICAgIHJhaXNlIEludmFsaWRDb2RlU2l6ZUVycm9yKGZcIldob2xlIGNvZGUgc2l6ZSBub3QgbXVsdGlwbGUgb2YgNCBmb3IgXCJcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmXCJ2YXJpYWJsZSBsZW5ndGggbWF0ZXJpYWwuIGNzPXtjc30uXCIpXG4gICAgICAgICAgICAvLyAgICAgICBpZiBvcyAhPSAwOlxuICAgICAgICAgICAgLy8gICAgICAgICAgIHJhaXNlIEludmFsaWRDb2RlU2l6ZUVycm9yKGZcIk5vbi16ZXJvIG90aGVyIGluZGV4IHNpemUgZm9yIFwiXG4gICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZlwidmFyaWFibGUgbGVuZ3RoIG1hdGVyaWFsLiBvcz17b3N9LlwiKVxuICAgICAgICAgICAgLy8gICAgICAgZnMgPSAoaW5kZXggKiA0KSArIGNzXG4gICAgICAgICAgICBjb25zdCByYXdzaXplID0gTWF0aC5mbG9vcigoKGZzIC0gY3MpICogMykgLyA0KTtcbiAgICAgICAgICAgIHJhdyA9IHJhdy5zbGljZSgwLCByYXdzaXplKTtcbiAgICAgICAgICAgIGlmIChyYXcubGVuZ3RoICE9IHJhd3NpemUpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBlbm91Z3RoIHJhdyBieXRlcyBmb3IgY29kZT0ke2NvZGV9IGFuZCBpbmRleD0ke2luZGV4fSAsZXhwZWN0ZWQgJHtyYXdzaXplfSBnb3QgJHtyYXcubGVuZ3RofS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2NvZGUgPSBjb2RlO1xuICAgICAgICAgICAgdGhpcy5faW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHRoaXMuX29uZGV4ID0gb25kZXg7XG4gICAgICAgICAgICB0aGlzLl9yYXcgPSByYXc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocWI2NGIgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBxYjY0ID0gZChxYjY0Yik7XG4gICAgICAgICAgICB0aGlzLl9leGZpbChxYjY0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxYjY0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fZXhmaWwocWI2NCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocWIyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fYmV4ZmlsKHFiMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW1wdHlNYXRlcmlhbEVycm9yKGBJbXByb3BlciBpbml0aWFsaXphdGlvbiBuZWVkIGVpdGhlciAocmF3IGFuZCBjb2RlIGFuZCBpbmRleCkgb3IgcWI2NGIgb3IgcWI2NCBvciBxYjIuYCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2JleGZpbChxYjIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBxYjIgbm90IHlldCBzdXBwb3J0ZWQ6ICR7cWIyfWApO1xuICAgIH1cbiAgICBzdGF0aWMgX3Jhd1NpemUoY29kZSkge1xuICAgICAgICBjb25zdCB4aXphZ2UgPSBJbmRleGVyLlNpemVzLmdldChjb2RlKTtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoeGl6YWdlLmZzIC0gKCh4aXphZ2UuaHMgKyB4aXphZ2Uuc3MpICogMykgLyA0KTtcbiAgICB9XG4gICAgZ2V0IGNvZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2RlO1xuICAgIH1cbiAgICBnZXQgcmF3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3O1xuICAgIH1cbiAgICBnZXQgaW5kZXgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmRleDtcbiAgICB9XG4gICAgZ2V0IG9uZGV4KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb25kZXg7XG4gICAgfVxuICAgIGdldCBxYjY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5maWwoKTtcbiAgICB9XG4gICAgZ2V0IHFiNjRiKCkge1xuICAgICAgICByZXR1cm4gYih0aGlzLnFiNjQpO1xuICAgIH1cbiAgICBfaW5maWwoKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5pbmRleDtcbiAgICAgICAgY29uc3Qgb25kZXggPSB0aGlzLm9uZGV4O1xuICAgICAgICBjb25zdCByYXcgPSB0aGlzLnJhdztcbiAgICAgICAgY29uc3QgcHMgPSAoMyAtIChyYXcubGVuZ3RoICUgMykpICUgMztcbiAgICAgICAgY29uc3QgeGl6YWdlID0gSW5kZXhlci5TaXplcy5nZXQoY29kZSk7XG4gICAgICAgIGNvbnN0IGNzID0geGl6YWdlLmhzICsgeGl6YWdlLnNzO1xuICAgICAgICBjb25zdCBtcyA9IHhpemFnZS5zcyAtIHhpemFnZS5vcztcbiAgICAgICAgLy8gVE9ETzogZG9uJ3Qgc3VwcG9ydCB0aGlzIGNvZGVcbiAgICAgICAgLy8gIGlmIG5vdCBmczogICMgY29tcHV0ZSBmcyBmcm9tIGluZGV4XG4gICAgICAgIC8vICAgICAgIGlmIGNzICUgNDpcbiAgICAgICAgLy8gICAgICAgICAgIHJhaXNlIEludmFsaWRDb2RlU2l6ZUVycm9yKGZcIldob2xlIGNvZGUgc2l6ZSBub3QgbXVsdGlwbGUgb2YgNCBmb3IgXCJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZcInZhcmlhYmxlIGxlbmd0aCBtYXRlcmlhbC4gY3M9e2NzfS5cIilcbiAgICAgICAgLy8gICAgICAgaWYgb3MgIT0gMDpcbiAgICAgICAgLy8gICAgICAgICAgIHJhaXNlIEludmFsaWRDb2RlU2l6ZUVycm9yKGZcIk5vbi16ZXJvIG90aGVyIGluZGV4IHNpemUgZm9yIFwiXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmXCJ2YXJpYWJsZSBsZW5ndGggbWF0ZXJpYWwuIG9zPXtvc30uXCIpXG4gICAgICAgIC8vICAgICAgIGZzID0gKGluZGV4ICogNCkgKyBjc1xuICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID4gNjQgKiogbXMgLSAxKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaW5kZXg9JHtpbmRleH0gZm9yIGNvZGU9JHtjb2RlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25kZXggIT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICB4aXphZ2Uub3MgIT0gMCAmJlxuICAgICAgICAgICAgIShvbmRleCA+PSAwICYmIG9uZGV4IDw9IDY0ICoqIHhpemFnZS5vcyAtIDEpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb25kZXg9JHtvbmRleH0gZm9yIG9zPSR7eGl6YWdlLm9zfSBhbmQgY29kZT0ke2NvZGV9LmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvdGggPSBgJHtjb2RlfSR7aW50VG9CNjQoaW5kZXgsIG1zKX0ke2ludFRvQjY0KG9uZGV4ID09IHVuZGVmaW5lZCA/IDAgOiBvbmRleCwgeGl6YWdlLm9zKX1gO1xuICAgICAgICBpZiAoYm90aC5sZW5ndGggIT0gY3MpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzbWF0Y2ggY29kZSBzaXplID0gJHtjc30gd2l0aCB0YWJsZSA9ICR7Ym90aC5sZW5ndGh9LmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjcyAlIDQgIT0gcHMgLSB4aXphZ2UubHMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2RlPSR7Ym90aH0gZm9yIGNvbnZlcnRlZCByYXcgcGFkIHNpemU9JHtwc30uYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShwcyArIHJhdy5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBzOyBpKyspIHtcbiAgICAgICAgICAgIGJ5dGVzW2ldID0gMDtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJhdy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3Qgb2R4ID0gaSArIHBzO1xuICAgICAgICAgICAgYnl0ZXNbb2R4XSA9IHJhd1tpXTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmdWxsID0gYm90aCArIGVuY29kZUJhc2U2NFVybChieXRlcykuc2xpY2UocHMgLSB4aXphZ2UubHMpO1xuICAgICAgICBpZiAoZnVsbC5sZW5ndGggIT0geGl6YWdlLmZzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29kZT0ke2JvdGh9IGZvciByYXcgc2l6ZT0ke3Jhdy5sZW5ndGh9LmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdWxsO1xuICAgIH1cbiAgICBfZXhmaWwocWI2NCkge1xuICAgICAgICBpZiAocWI2NC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbXB0eSBNYXRlcmlhbCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpcnN0ID0gcWI2NFswXTtcbiAgICAgICAgaWYgKCFBcnJheS5mcm9tKEluZGV4ZXIuSGFyZHMua2V5cygpKS5pbmNsdWRlcyhmaXJzdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBjb2RlICR7Zmlyc3R9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaHMgPSBJbmRleGVyLkhhcmRzLmdldChmaXJzdCk7XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA8IGhzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5lZWQgJHtocyAtIHFiNjQubGVuZ3RofSBtb3JlIGNoYXJhY3RlcnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFyZCA9IHFiNjQuc2xpY2UoMCwgaHMpO1xuICAgICAgICBpZiAoIUFycmF5LmZyb20oSW5kZXhlci5TaXplcy5rZXlzKCkpLmluY2x1ZGVzKGhhcmQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvZGUgJHtoYXJkfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHhpemFnZSA9IEluZGV4ZXIuU2l6ZXMuZ2V0KGhhcmQpO1xuICAgICAgICBjb25zdCBjcyA9IHhpemFnZS5ocyArIHhpemFnZS5zczsgLy8gYm90aCBoYXJkICsgc29mdCBjb2RlIHNpemVcbiAgICAgICAgY29uc3QgbXMgPSB4aXphZ2Uuc3MgLSB4aXphZ2Uub3M7XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA8IGNzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5lZWQgJHtjcyAtIHFiNjQubGVuZ3RofSBtb3JlIGNoYXJhY3RlcnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2luZGV4ID0gcWI2NC5zbGljZShocywgaHMgKyBtcyk7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gYjY0VG9JbnQoc2luZGV4KTtcbiAgICAgICAgY29uc3Qgc29uZGV4ID0gcWI2NC5zbGljZShocyArIG1zLCBocyArIG1zICsgeGl6YWdlLm9zKTtcbiAgICAgICAgbGV0IG9uZGV4O1xuICAgICAgICBpZiAoSWR4Q3J0U2lnRGV4LmhhcyhoYXJkKSkge1xuICAgICAgICAgICAgb25kZXggPSB4aXphZ2Uub3MgIT0gMCA/IGI2NFRvSW50KHNvbmRleCkgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAob25kZXggIT0gMCAmJiBvbmRleCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb25kZXg9JHtvbmRleH0gZm9yIGNvZGU9JHtoYXJkfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIG9uZGV4ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb25kZXggPSB4aXphZ2Uub3MgIT0gMCA/IGI2NFRvSW50KHNvbmRleCkgOiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoeGl6YWdlLmZzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd2YXJpYWJsZSBsZW5ndGggbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRPRE86IHN1cHBvcnQgdmFyaWFibGUgbGVuZ3RoXG4gICAgICAgIC8vIGlmIG5vdCBmczogICMgY29tcHV0ZSBmcyBmcm9tIGluZGV4IHdoaWNoIG1lYW5zIHZhcmlhYmxlIGxlbmd0aFxuICAgICAgICAvLyAgICAgaWYgY3MgJSA0OlxuICAgICAgICAvLyAgICAgICAgIHJhaXNlIFZhbGlkYXRpb25FcnJvcihmXCJXaG9sZSBjb2RlIHNpemUgbm90IG11bHRpcGxlIG9mIDQgZm9yIFwiXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZcInZhcmlhYmxlIGxlbmd0aCBtYXRlcmlhbC4gY3M9e2NzfS5cIilcbiAgICAgICAgLy8gICAgIGlmIG9zICE9IDA6XG4gICAgICAgIC8vICAgICAgICAgcmFpc2UgVmFsaWRhdGlvbkVycm9yKGZcIk5vbi16ZXJvIG90aGVyIGluZGV4IHNpemUgZm9yIFwiXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZcInZhcmlhYmxlIGxlbmd0aCBtYXRlcmlhbC4gb3M9e29zfS5cIilcbiAgICAgICAgLy8gICAgIGZzID0gKGluZGV4ICogNCkgKyBjc1xuICAgICAgICBpZiAocWI2NC5sZW5ndGggPCB4aXphZ2UuZnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTmVlZCAke3hpemFnZS5mcyAtIHFiNjQubGVuZ3RofSBtb3JlIGNoYXJzLmApO1xuICAgICAgICB9XG4gICAgICAgIHFiNjQgPSBxYjY0LnNsaWNlKDAsIHhpemFnZS5mcyk7XG4gICAgICAgIGNvbnN0IHBzID0gY3MgJSA0O1xuICAgICAgICBjb25zdCBwYnMgPSAyICogcHMgIT0gMCA/IHBzIDogeGl6YWdlLmxzO1xuICAgICAgICBsZXQgcmF3O1xuICAgICAgICBpZiAocHMgIT0gMCkge1xuICAgICAgICAgICAgY29uc3QgYmFzZSA9IG5ldyBBcnJheShwcyArIDEpLmpvaW4oJ0EnKSArIHFiNjQuc2xpY2UoY3MpO1xuICAgICAgICAgICAgY29uc3QgcGF3ID0gZGVjb2RlQmFzZTY0VXJsKGJhc2UpOyAvLyBkZWNvZGUgYmFzZSB0byBsZWF2ZSBwcmVwYWRkZWQgcmF3XG4gICAgICAgICAgICBjb25zdCBwaSA9IHJlYWRJbnQocGF3LnNsaWNlKDAsIHBzKSk7IC8vIHByZXBhZCBhcyBpbnRcbiAgICAgICAgICAgIGlmIChwaSAmICgyICoqIHBicyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFza2VkIHBhZCBiaXRzIG5vbi16ZXJvXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24gemVyb2VkIHByZXBhZCBiaXRzID0ge3BpICYgKDIgKiogcGJzIC0gMSApOjwwNmJ9IGluIHtxYjY0YltjczpjcysxXX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYXcgPSBwYXcuc2xpY2UocHMpOyAvLyBzdHJpcCBvZmYgcHMgcHJlcGFkIHBhdyBieXRlc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYmFzZSA9IHFiNjQuc2xpY2UoY3MpO1xuICAgICAgICAgICAgY29uc3QgcGF3ID0gZGVjb2RlQmFzZTY0VXJsKGJhc2UpO1xuICAgICAgICAgICAgY29uc3QgbGkgPSByZWFkSW50KHBhdy5zbGljZSgwLCB4aXphZ2UubHMpKTtcbiAgICAgICAgICAgIGlmIChsaSAhPSAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGxpID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24gemVyb2VkIGxlYWQgYnl0ZSA9IDB4e2xpOjAyeH0uYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbiB6ZXJvZWQgbGVhZCBieXRlcyA9IDB4e2xpOjA0eH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYXcgPSBwYXcuc2xpY2UoeGl6YWdlLmxzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmF3Lmxlbmd0aCAhPSBNYXRoLmZsb29yKCgocWI2NC5sZW5ndGggLSBjcykgKiAzKSAvIDQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEltcHJvcGVybHkgcXVhbGlmaWVkIG1hdGVyaWFsID0gJHtxYjY0fWApO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvZGUgPSBoYXJkO1xuICAgICAgICB0aGlzLl9pbmRleCA9IGluZGV4O1xuICAgICAgICB0aGlzLl9vbmRleCA9IG9uZGV4O1xuICAgICAgICB0aGlzLl9yYXcgPSBuZXcgVWludDhBcnJheShyYXcpOyAvLyBtdXN0IGJlIGJ5dGVzIGZvciBjcnB0byBvcHRzIGFuZCBpbW11dGFibGUgbm90IGJ5dGVhcnJheVxuICAgIH1cbn1cbkluZGV4ZXIuSGFyZHMgPSBuZXcgTWFwKFtcbiAgICBbJ0EnLCAxXSxcbiAgICBbJ0InLCAxXSxcbiAgICBbJ0MnLCAxXSxcbiAgICBbJ0QnLCAxXSxcbiAgICBbJ0UnLCAxXSxcbiAgICBbJ0YnLCAxXSxcbiAgICBbJ0cnLCAxXSxcbiAgICBbJ0gnLCAxXSxcbiAgICBbJ0knLCAxXSxcbiAgICBbJ0onLCAxXSxcbiAgICBbJ0snLCAxXSxcbiAgICBbJ0wnLCAxXSxcbiAgICBbJ00nLCAxXSxcbiAgICBbJ04nLCAxXSxcbiAgICBbJ08nLCAxXSxcbiAgICBbJ1AnLCAxXSxcbiAgICBbJ1EnLCAxXSxcbiAgICBbJ1InLCAxXSxcbiAgICBbJ1MnLCAxXSxcbiAgICBbJ1QnLCAxXSxcbiAgICBbJ1UnLCAxXSxcbiAgICBbJ1YnLCAxXSxcbiAgICBbJ1cnLCAxXSxcbiAgICBbJ1gnLCAxXSxcbiAgICBbJ1knLCAxXSxcbiAgICBbJ1onLCAxXSxcbiAgICBbJ2EnLCAxXSxcbiAgICBbJ2InLCAxXSxcbiAgICBbJ2MnLCAxXSxcbiAgICBbJ2QnLCAxXSxcbiAgICBbJ2UnLCAxXSxcbiAgICBbJ2YnLCAxXSxcbiAgICBbJ2cnLCAxXSxcbiAgICBbJ2gnLCAxXSxcbiAgICBbJ2knLCAxXSxcbiAgICBbJ2onLCAxXSxcbiAgICBbJ2snLCAxXSxcbiAgICBbJ2wnLCAxXSxcbiAgICBbJ20nLCAxXSxcbiAgICBbJ24nLCAxXSxcbiAgICBbJ28nLCAxXSxcbiAgICBbJ3AnLCAxXSxcbiAgICBbJ3EnLCAxXSxcbiAgICBbJ3InLCAxXSxcbiAgICBbJ3MnLCAxXSxcbiAgICBbJ3QnLCAxXSxcbiAgICBbJ3UnLCAxXSxcbiAgICBbJ3YnLCAxXSxcbiAgICBbJ3cnLCAxXSxcbiAgICBbJ3gnLCAxXSxcbiAgICBbJ3knLCAxXSxcbiAgICBbJ3onLCAxXSxcbiAgICBbJzAnLCAyXSxcbiAgICBbJzEnLCAyXSxcbiAgICBbJzInLCAyXSxcbiAgICBbJzMnLCAyXSxcbiAgICBbJzQnLCAyXSxcbl0pO1xuSW5kZXhlci5TaXplcyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoe1xuICAgIEE6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgIEI6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgIEM6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgIEQ6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgIEU6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgIEY6IG5ldyBYaXphZ2UoMSwgMSwgMCwgODgsIDApLFxuICAgICcwQSc6IG5ldyBYaXphZ2UoMiwgMiwgMSwgMTU2LCAwKSxcbiAgICAnMEInOiBuZXcgWGl6YWdlKDIsIDIsIDEsIDE1NiwgMCksXG4gICAgJzJBJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzJCJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzJDJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzJEJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzJFJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzJGJzogbmV3IFhpemFnZSgyLCA0LCAyLCA5MiwgMCksXG4gICAgJzNBJzogbmV3IFhpemFnZSgyLCA2LCAzLCAxNjAsIDApLFxuICAgICczQic6IG5ldyBYaXphZ2UoMiwgNiwgMywgMTYwLCAwKSxcbiAgICAnMHonOiBuZXcgWGl6YWdlKDIsIDIsIDAsIHVuZGVmaW5lZCwgMCksXG4gICAgJzF6JzogbmV3IFhpemFnZSgyLCAyLCAxLCA3NiwgMSksXG4gICAgJzR6JzogbmV3IFhpemFnZSgyLCA2LCAzLCA4MCwgMSksXG59KSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/indexer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/keeping.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/keeping.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupIdentifierManager: () => (/* binding */ GroupIdentifierManager),\n/* harmony export */   IdentifierManagerFactory: () => (/* binding */ IdentifierManagerFactory),\n/* harmony export */   RandyIdentifierManager: () => (/* binding */ RandyIdentifierManager),\n/* harmony export */   SaltyIdentifierManager: () => (/* binding */ SaltyIdentifierManager)\n/* harmony export */ });\n/* harmony import */ var _manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _salter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _core_encrypter_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/encrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js\");\n/* harmony import */ var _decrypter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./decrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _cipher_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./cipher.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cipher.js\");\n/* harmony import */ var _diger_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./diger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\");\n/* harmony import */ var _prefixer_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./prefixer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\");\n\n\n\n\n\n\n\n\n\n/**\n * Creates IdentifierManager instances based on the algorithm and key indexes.\n */\nclass IdentifierManagerFactory {\n    /**\n     * Creates a factory for generating IdentifierManagers. Requires a salt to be specified.\n     * Allows external key management modules to be configured.\n     * @param salter\n     * @param externalModules\n     */\n    constructor(salter, externalModules = []) {\n        this.salter = salter;\n        this.modules = {};\n        this.salter = salter;\n        for (const mod of externalModules) {\n            this.modules[mod.type] = mod.module;\n        }\n    }\n    /**\n     *\n     * @param algo\n     * @param pidx\n     * @param kargs\n     */\n    new(algo, pidx, kargs) {\n        switch (algo) {\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty:\n                return new SaltyIdentifierManager(this.salter, pidx, kargs['kidx'], kargs['tier'], kargs['transferable'], kargs['stem'], kargs['code'], kargs['count'], kargs['icodes'], kargs['ncode'], kargs['ncount'], kargs['ncodes'], kargs['dcode'], kargs['bran'], kargs['sxlt']);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy:\n                return new RandyIdentifierManager(this.salter, kargs['code'], kargs['count'], kargs['icodes'], kargs['transferable'], kargs['ncode'], kargs['ncount'], kargs['ncodes'], kargs['dcode'], kargs['prxs'], kargs['nxts']);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.group:\n                return new GroupIdentifierManager(this, kargs['mhab'], kargs['states'], kargs['rstates'], kargs['keys'], kargs['ndigs']);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.extern: {\n                const ModuleConstructor = this.modules[kargs.extern_type];\n                if (!ModuleConstructor) {\n                    throw new Error(`unsupported external module type ${kargs.extern_type}`);\n                }\n                return new ModuleConstructor(pidx, kargs);\n            }\n            default:\n                throw new Error('Unknown algo');\n        }\n    }\n    /**\n     * Generates an algorithm-specific IdentifierManager instance with correct keys based on\n     * the indexes provided by the HabState.\n     * @param aid HabState with the algorithm and key indexes\n     * @returns IdentifierManager instance\n     */\n    get(aid) {\n        const algo = aid[_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty]\n            ? _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty\n            : aid[_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy]\n                ? _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy\n                : aid[_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.group]\n                    ? _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.group\n                    : aid[_manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.extern]\n                        ? _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.extern\n                        : undefined;\n        if (!algo) {\n            throw new Error('No algo specified');\n        }\n        let kargs = aid[algo];\n        if (!kargs) {\n            throw new Error('No kargs found in HabState');\n        }\n        switch (algo) {\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty:\n                kargs = kargs;\n                return new SaltyIdentifierManager(this.salter, kargs.pidx, kargs.kidx, kargs.tier, kargs.transferable, kargs.stem, undefined, undefined, kargs.icodes, undefined, undefined, kargs.ncodes, kargs.dcode, undefined, kargs.sxlt);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy:\n                kargs = kargs;\n                return new RandyIdentifierManager(this.salter, undefined, undefined, undefined, new _prefixer_js__WEBPACK_IMPORTED_MODULE_8__.Prefixer({ qb64: aid['prefix'] }).transferable, undefined, undefined, [], undefined, kargs.prxs, kargs.nxts);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.group:\n                kargs = kargs;\n                return new GroupIdentifierManager(this, kargs.mhab, undefined, undefined, kargs.keys, kargs.ndigs);\n            case _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.extern: {\n                kargs = kargs;\n                const typ = kargs.extern_type;\n                if (typ in this.modules) {\n                    const mod = new this.modules[typ](kargs.pidx, kargs);\n                    return mod;\n                }\n                else {\n                    throw new Error(`unsupported external module type ${typ}`);\n                }\n            }\n            default:\n                throw new Error('Algo not allowed yet');\n        }\n    }\n}\nclass SaltyIdentifierManager {\n    constructor(salter, pidx, kidx = 0, tier = _salter_js__WEBPACK_IMPORTED_MODULE_2__.Tier.low, transferable = false, stem = undefined, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, count = 1, icodes = undefined, ncode = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, ncount = 1, ncodes = undefined, dcode = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Blake3_256, bran = undefined, sxlt = undefined) {\n        this.algo = _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.salty;\n        // # Salter is the entered passcode and used for enc/dec of salts for each AID\n        this.salter = salter;\n        const signer = this.salter.signer(code, transferable, undefined, tier);\n        this.aeid = signer.verfer.qb64;\n        this.encrypter = new _core_encrypter_js__WEBPACK_IMPORTED_MODULE_3__.Encrypter({}, (0,_core_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.aeid));\n        this.decrypter = new _decrypter_js__WEBPACK_IMPORTED_MODULE_4__.Decrypter({}, signer.qb64b);\n        this.code = code;\n        this.ncode = ncode;\n        this.tier = tier;\n        this.icodes =\n            icodes == undefined ? new Array(count).fill(code) : icodes;\n        this.ncodes =\n            ncodes == undefined\n                ? new Array(ncount).fill(ncode)\n                : ncodes;\n        this.dcode = dcode;\n        this.pidx = pidx;\n        this.kidx = kidx;\n        this.transferable = transferable;\n        this.count = count;\n        this.ncount = ncount;\n        this.stem = stem == undefined ? 'signify:aid' : stem;\n        if (bran != undefined) {\n            this.bran = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128 + 'A' + bran.slice(0, 21);\n            this.creator = new _manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(this.bran, this.tier, this.stem);\n            this.sxlt = this.encrypter.encrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.creator.salt)).qb64;\n        }\n        else if (sxlt == undefined) {\n            this.creator = new _manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(undefined, this.tier, this.stem);\n            this.sxlt = this.encrypter.encrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.creator.salt)).qb64;\n        }\n        else {\n            this.sxlt = sxlt;\n            const ciph = new _cipher_js__WEBPACK_IMPORTED_MODULE_6__.Cipher({ qb64: this.sxlt });\n            this.creator = new _manager_js__WEBPACK_IMPORTED_MODULE_0__.SaltyCreator(this.decrypter.decrypt(null, ciph).qb64, tier, this.stem);\n        }\n        this.signers = this.creator.create(this.icodes, this.ncount, this.ncode, this.transferable, this.pidx, 0, this.kidx, false).signers;\n    }\n    params() {\n        return {\n            sxlt: this.sxlt,\n            pidx: this.pidx,\n            kidx: this.kidx,\n            stem: this.stem,\n            tier: this.tier,\n            icodes: this.icodes,\n            ncodes: this.ncodes,\n            dcode: this.dcode,\n            transferable: this.transferable,\n        };\n    }\n    async incept(transferable) {\n        var _a;\n        this.transferable = transferable;\n        this.kidx = 0;\n        const signers = this.creator.create(this.icodes, this.count, this.code, this.transferable, this.pidx, 0, this.kidx, false);\n        const verfers = signers.signers.map((signer) => signer.verfer.qb64);\n        const nsigners = this.creator.create(this.ncodes, this.ncount, this.ncode, this.transferable, this.pidx, 0, (_a = this.icodes) === null || _a === void 0 ? void 0 : _a.length, false);\n        const digers = nsigners.signers.map((nsigner) => new _diger_js__WEBPACK_IMPORTED_MODULE_7__.Diger({ code: this.dcode }, nsigner.verfer.qb64b).qb64);\n        return [verfers, digers];\n    }\n    async rotate(ncodes, transferable) {\n        this.ncodes = ncodes;\n        this.transferable = transferable;\n        const signers = this.creator.create(this.ncodes, this.ncount, this.ncode, this.transferable, this.pidx, 0, this.kidx + this.icodes.length, false);\n        const verfers = signers.signers.map((signer) => signer.verfer.qb64);\n        this.kidx = this.kidx + this.icodes.length;\n        const nsigners = this.creator.create(this.ncodes, this.ncount, this.ncode, this.transferable, this.pidx, 0, this.kidx + this.icodes.length, false);\n        const digers = nsigners.signers.map((nsigner) => new _diger_js__WEBPACK_IMPORTED_MODULE_7__.Diger({ code: this.dcode }, nsigner.verfer.qb64b).qb64);\n        return [verfers, digers];\n    }\n    async sign(ser, indexed = true, indices = undefined, ondices = undefined) {\n        const signers = this.creator.create(this.icodes, this.ncount, this.ncode, this.transferable, this.pidx, 0, this.kidx, false);\n        if (indexed) {\n            const sigers = [];\n            let i = 0;\n            for (const [j, signer] of signers.signers.entries()) {\n                if (indices != undefined) {\n                    i = indices[j];\n                    if (typeof i != 'number' || i < 0) {\n                        throw new Error(`Invalid signing index = ${i}, not whole number.`);\n                    }\n                }\n                else {\n                    i = j;\n                }\n                let o = 0;\n                if (ondices != undefined) {\n                    o = ondices[j];\n                    if ((o == undefined ||\n                        (typeof o == 'number' &&\n                            typeof o != 'number' &&\n                            o >= 0))) {\n                        throw new Error(`Invalid ondex = ${o}, not whole number.`);\n                    }\n                }\n                else {\n                    o = i;\n                }\n                sigers.push(signer.sign(ser, i, o == undefined ? true : false, o));\n            }\n            return sigers.map((siger) => siger.qb64);\n        }\n        else {\n            const cigars = [];\n            for (const [, signer] of signers.signers.entries()) {\n                cigars.push(signer.sign(ser));\n            }\n            return cigars.map((cigar) => cigar.qb64);\n        }\n    }\n}\nclass RandyIdentifierManager {\n    constructor(salter, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, count = 1, icodes = undefined, transferable = false, ncode = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, ncount = 1, ncodes, dcode = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Blake3_256, prxs = undefined, nxts = undefined) {\n        this.algo = _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.randy;\n        this.salter = salter;\n        this.icodes =\n            icodes == undefined ? new Array(count).fill(code) : icodes;\n        this.ncodes =\n            ncodes == undefined\n                ? new Array(ncount).fill(ncode)\n                : ncodes;\n        this.code = code;\n        this.ncode = ncode;\n        this.count = count;\n        this.ncount = ncount;\n        const signer = this.salter.signer(code, transferable);\n        this.aeid = signer.verfer.qb64;\n        this.encrypter = new _core_encrypter_js__WEBPACK_IMPORTED_MODULE_3__.Encrypter({}, (0,_core_js__WEBPACK_IMPORTED_MODULE_5__.b)(this.aeid));\n        this.decrypter = new _decrypter_js__WEBPACK_IMPORTED_MODULE_4__.Decrypter({}, signer.qb64b);\n        this.nxts = nxts !== null && nxts !== void 0 ? nxts : [];\n        this.prxs = prxs !== null && prxs !== void 0 ? prxs : [];\n        this.transferable = transferable;\n        this.icodes = icodes;\n        this.ncodes = ncodes;\n        this.dcode = dcode;\n        this.creator = new _manager_js__WEBPACK_IMPORTED_MODULE_0__.RandyCreator();\n        this.signers = this.prxs.map((prx) => this.decrypter.decrypt(new _cipher_js__WEBPACK_IMPORTED_MODULE_6__.Cipher({ qb64: prx }).qb64b, undefined, this.transferable));\n    }\n    params() {\n        return {\n            nxts: this.nxts,\n            prxs: this.prxs,\n            transferable: this.transferable,\n        };\n    }\n    async incept(transferable) {\n        this.transferable = transferable;\n        const signers = this.creator.create(this.icodes, this.count, this.code, this.transferable);\n        this.prxs = signers.signers.map((signer) => this.encrypter.encrypt(undefined, signer).qb64);\n        const verfers = signers.signers.map((signer) => signer.verfer.qb64);\n        const nsigners = this.creator.create(this.ncodes, this.ncount, this.ncode, this.transferable);\n        this.nxts = nsigners.signers.map((signer) => this.encrypter.encrypt(undefined, signer).qb64);\n        const digers = nsigners.signers.map((nsigner) => new _diger_js__WEBPACK_IMPORTED_MODULE_7__.Diger({ code: this.dcode }, nsigner.verfer.qb64b).qb64);\n        return [verfers, digers];\n    }\n    async rotate(ncodes, transferable) {\n        this.ncodes = ncodes;\n        this.transferable = transferable;\n        this.prxs = this.nxts;\n        const signers = this.nxts.map((nxt) => this.decrypter.decrypt(undefined, new _cipher_js__WEBPACK_IMPORTED_MODULE_6__.Cipher({ qb64: nxt }), this.transferable));\n        const verfers = signers.map((signer) => signer.verfer.qb64);\n        const nsigners = this.creator.create(this.ncodes, this.ncount, this.ncode, this.transferable);\n        this.nxts = nsigners.signers.map((signer) => this.encrypter.encrypt(undefined, signer).qb64);\n        const digers = nsigners.signers.map((nsigner) => new _diger_js__WEBPACK_IMPORTED_MODULE_7__.Diger({ code: this.dcode }, nsigner.verfer.qb64b).qb64);\n        return [verfers, digers];\n    }\n    async sign(ser, indexed = true, indices = undefined, ondices = undefined) {\n        const signers = this.prxs.map((prx) => this.decrypter.decrypt(new _cipher_js__WEBPACK_IMPORTED_MODULE_6__.Cipher({ qb64: prx }).qb64b, undefined, this.transferable));\n        if (indexed) {\n            const sigers = [];\n            let i = 0;\n            for (const [j, signer] of signers.entries()) {\n                if (indices != undefined) {\n                    i = indices[j];\n                    if (typeof i != 'number' || i < 0) {\n                        throw new Error(`Invalid signing index = ${i}, not whole number.`);\n                    }\n                }\n                else {\n                    i = j;\n                }\n                let o = 0;\n                if (ondices != undefined) {\n                    o = ondices[j];\n                    if ((o == undefined ||\n                        (typeof o == 'number' &&\n                            typeof o != 'number' &&\n                            o >= 0))) {\n                        throw new Error(`Invalid ondex = ${o}, not whole number.`);\n                    }\n                }\n                else {\n                    o = i;\n                }\n                sigers.push(signer.sign(ser, i, o == undefined ? true : false, o));\n            }\n            return sigers.map((siger) => siger.qb64);\n        }\n        else {\n            const cigars = [];\n            for (const [, signer] of signers.entries()) {\n                cigars.push(signer.sign(ser));\n            }\n            return cigars.map((cigar) => cigar.qb64);\n        }\n    }\n}\nclass GroupIdentifierManager {\n    constructor(manager, mhab, states = undefined, rstates = undefined, keys = [], ndigs = []) {\n        var _a, _b;\n        this.gkeys = [];\n        this.gdigs = [];\n        this.algo = _manager_js__WEBPACK_IMPORTED_MODULE_0__.Algos.group;\n        this.manager = manager;\n        if (states != undefined) {\n            keys = states.map((state) => state['k'][0]);\n        }\n        if (rstates != undefined) {\n            ndigs = rstates.map((state) => state['n'][0]);\n        }\n        this.gkeys = (_a = states === null || states === void 0 ? void 0 : states.map((state) => state['k'][0])) !== null && _a !== void 0 ? _a : keys;\n        this.gdigs = (_b = rstates === null || rstates === void 0 ? void 0 : rstates.map((state) => state['n'][0])) !== null && _b !== void 0 ? _b : ndigs;\n        this.mhab = mhab;\n        this.signers = [];\n    }\n    async incept() {\n        return [this.gkeys, this.gdigs];\n    }\n    /**\n     * Performs a multisig rotation\n     * @param _ncodes\n     * @param _transferable\n     * @param states\n     * @param rstates key state records for the prior establishment event indicating next key digests.\n     *                You should pass in the current key\n     */\n    async rotate(_ncodes, _transferable, states, rstates) {\n        this.gkeys = states.map((state) => state['k'][0]);\n        this.gdigs = rstates.map((state) => state['n'][0]);\n        return [this.gkeys, this.gdigs];\n    }\n    async sign(ser, indexed = true) {\n        if (!this.mhab.state) {\n            throw new Error(`No state in mhab`);\n        }\n        const key = this.mhab['state']['k'][0];\n        const ndig = this.mhab['state']['n'][0];\n        const csi = this.gkeys.indexOf(key); // csi = current signing index (from current rotation event)\n        const pni = this.gdigs.indexOf(ndig); // pni = prior next index (from last establishment event)\n        const mkeeper = this.manager.get(this.mhab);\n        return await mkeeper.sign(ser, indexed, [csi], [pni]);\n    }\n    params() {\n        return {\n            mhab: this.mhab,\n            keys: this.gkeys,\n            ndigs: this.gdigs,\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9rZWVwaW5nLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBaUU7QUFDNUI7QUFDRjtBQUNjO0FBQ047QUFDYjtBQUNPO0FBQ0Y7QUFDTTtBQUN6QztBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDhDQUFLO0FBQ3RCO0FBQ0EsaUJBQWlCLDhDQUFLO0FBQ3RCO0FBQ0EsaUJBQWlCLDhDQUFLO0FBQ3RCO0FBQ0EsaUJBQWlCLDhDQUFLO0FBQ3RCO0FBQ0E7QUFDQSx3RUFBd0Usa0JBQWtCO0FBQzFGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsOENBQUs7QUFDOUIsY0FBYyw4Q0FBSztBQUNuQixrQkFBa0IsOENBQUs7QUFDdkIsa0JBQWtCLDhDQUFLO0FBQ3ZCLHNCQUFzQiw4Q0FBSztBQUMzQixzQkFBc0IsOENBQUs7QUFDM0IsMEJBQTBCLDhDQUFLO0FBQy9CLDBCQUEwQiw4Q0FBSztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOENBQUs7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBSztBQUN0QjtBQUNBLG9HQUFvRyxrREFBUSxHQUFHLHFCQUFxQjtBQUNwSSxpQkFBaUIsOENBQUs7QUFDdEI7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBSztBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdFQUF3RSxJQUFJO0FBQzVFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQ0FBK0MsNENBQUkscURBQXFELDhDQUFNLHNEQUFzRCw4Q0FBTSx1REFBdUQsOENBQU07QUFDdk8sb0JBQW9CLDhDQUFLO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHlEQUFTLEdBQUcsRUFBRSwyQ0FBQztBQUM1Qyw2QkFBNkIsb0RBQVMsR0FBRztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLDhDQUFNO0FBQzlCLCtCQUErQixxREFBWTtBQUMzQywrQ0FBK0MsMkNBQUM7QUFDaEQ7QUFDQTtBQUNBLCtCQUErQixxREFBWTtBQUMzQywrQ0FBK0MsMkNBQUM7QUFDaEQ7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDhDQUFNLEdBQUcsaUJBQWlCO0FBQ3ZELCtCQUErQixxREFBWTtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELDRDQUFLLEdBQUcsa0JBQWtCO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCw0Q0FBSyxHQUFHLGtCQUFrQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEVBQUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCwrQkFBK0IsOENBQU0sNEVBQTRFLDhDQUFNLDJDQUEyQyw4Q0FBTTtBQUN4SyxvQkFBb0IsOENBQUs7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIseURBQVMsR0FBRyxFQUFFLDJDQUFDO0FBQzVDLDZCQUE2QixvREFBUyxHQUFHO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBWTtBQUN2Qyx5RUFBeUUsOENBQU0sR0FBRyxXQUFXO0FBQzdGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCw0Q0FBSyxHQUFHLGtCQUFrQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRkFBcUYsOENBQU0sR0FBRyxXQUFXO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCw0Q0FBSyxHQUFHLGtCQUFrQjtBQUN2RjtBQUNBO0FBQ0E7QUFDQSwwRUFBMEUsOENBQU0sR0FBRyxXQUFXO0FBQzlGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FLEVBQUU7QUFDckU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELEVBQUU7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw4Q0FBSztBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3Qyw4Q0FBOEM7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2tlZXBpbmcuanM/MmVhNyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbGdvcywgU2FsdHlDcmVhdG9yLCBSYW5keUNyZWF0b3IgfSBmcm9tIFwiLi9tYW5hZ2VyLmpzXCI7XG5pbXBvcnQgeyBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IFRpZXIgfSBmcm9tIFwiLi9zYWx0ZXIuanNcIjtcbmltcG9ydCB7IEVuY3J5cHRlciB9IGZyb20gXCIuLi9jb3JlL2VuY3J5cHRlci5qc1wiO1xuaW1wb3J0IHsgRGVjcnlwdGVyIH0gZnJvbSBcIi4vZGVjcnlwdGVyLmpzXCI7XG5pbXBvcnQgeyBiIH0gZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0IHsgQ2lwaGVyIH0gZnJvbSBcIi4vY2lwaGVyLmpzXCI7XG5pbXBvcnQgeyBEaWdlciB9IGZyb20gXCIuL2RpZ2VyLmpzXCI7XG5pbXBvcnQgeyBQcmVmaXhlciB9IGZyb20gXCIuL3ByZWZpeGVyLmpzXCI7XG4vKipcbiAqIENyZWF0ZXMgSWRlbnRpZmllck1hbmFnZXIgaW5zdGFuY2VzIGJhc2VkIG9uIHRoZSBhbGdvcml0aG0gYW5kIGtleSBpbmRleGVzLlxuICovXG5leHBvcnQgY2xhc3MgSWRlbnRpZmllck1hbmFnZXJGYWN0b3J5IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZmFjdG9yeSBmb3IgZ2VuZXJhdGluZyBJZGVudGlmaWVyTWFuYWdlcnMuIFJlcXVpcmVzIGEgc2FsdCB0byBiZSBzcGVjaWZpZWQuXG4gICAgICogQWxsb3dzIGV4dGVybmFsIGtleSBtYW5hZ2VtZW50IG1vZHVsZXMgdG8gYmUgY29uZmlndXJlZC5cbiAgICAgKiBAcGFyYW0gc2FsdGVyXG4gICAgICogQHBhcmFtIGV4dGVybmFsTW9kdWxlc1xuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNhbHRlciwgZXh0ZXJuYWxNb2R1bGVzID0gW10pIHtcbiAgICAgICAgdGhpcy5zYWx0ZXIgPSBzYWx0ZXI7XG4gICAgICAgIHRoaXMubW9kdWxlcyA9IHt9O1xuICAgICAgICB0aGlzLnNhbHRlciA9IHNhbHRlcjtcbiAgICAgICAgZm9yIChjb25zdCBtb2Qgb2YgZXh0ZXJuYWxNb2R1bGVzKSB7XG4gICAgICAgICAgICB0aGlzLm1vZHVsZXNbbW9kLnR5cGVdID0gbW9kLm1vZHVsZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbGdvXG4gICAgICogQHBhcmFtIHBpZHhcbiAgICAgKiBAcGFyYW0ga2FyZ3NcbiAgICAgKi9cbiAgICBuZXcoYWxnbywgcGlkeCwga2FyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChhbGdvKSB7XG4gICAgICAgICAgICBjYXNlIEFsZ29zLnNhbHR5OlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2FsdHlJZGVudGlmaWVyTWFuYWdlcih0aGlzLnNhbHRlciwgcGlkeCwga2FyZ3NbJ2tpZHgnXSwga2FyZ3NbJ3RpZXInXSwga2FyZ3NbJ3RyYW5zZmVyYWJsZSddLCBrYXJnc1snc3RlbSddLCBrYXJnc1snY29kZSddLCBrYXJnc1snY291bnQnXSwga2FyZ3NbJ2ljb2RlcyddLCBrYXJnc1snbmNvZGUnXSwga2FyZ3NbJ25jb3VudCddLCBrYXJnc1snbmNvZGVzJ10sIGthcmdzWydkY29kZSddLCBrYXJnc1snYnJhbiddLCBrYXJnc1snc3hsdCddKTtcbiAgICAgICAgICAgIGNhc2UgQWxnb3MucmFuZHk6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5keUlkZW50aWZpZXJNYW5hZ2VyKHRoaXMuc2FsdGVyLCBrYXJnc1snY29kZSddLCBrYXJnc1snY291bnQnXSwga2FyZ3NbJ2ljb2RlcyddLCBrYXJnc1sndHJhbnNmZXJhYmxlJ10sIGthcmdzWyduY29kZSddLCBrYXJnc1snbmNvdW50J10sIGthcmdzWyduY29kZXMnXSwga2FyZ3NbJ2Rjb2RlJ10sIGthcmdzWydwcnhzJ10sIGthcmdzWydueHRzJ10pO1xuICAgICAgICAgICAgY2FzZSBBbGdvcy5ncm91cDpcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEdyb3VwSWRlbnRpZmllck1hbmFnZXIodGhpcywga2FyZ3NbJ21oYWInXSwga2FyZ3NbJ3N0YXRlcyddLCBrYXJnc1sncnN0YXRlcyddLCBrYXJnc1sna2V5cyddLCBrYXJnc1snbmRpZ3MnXSk7XG4gICAgICAgICAgICBjYXNlIEFsZ29zLmV4dGVybjoge1xuICAgICAgICAgICAgICAgIGNvbnN0IE1vZHVsZUNvbnN0cnVjdG9yID0gdGhpcy5tb2R1bGVzW2thcmdzLmV4dGVybl90eXBlXTtcbiAgICAgICAgICAgICAgICBpZiAoIU1vZHVsZUNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZXh0ZXJuYWwgbW9kdWxlIHR5cGUgJHtrYXJncy5leHRlcm5fdHlwZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBNb2R1bGVDb25zdHJ1Y3RvcihwaWR4LCBrYXJncyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5rbm93biBhbGdvJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGFuIGFsZ29yaXRobS1zcGVjaWZpYyBJZGVudGlmaWVyTWFuYWdlciBpbnN0YW5jZSB3aXRoIGNvcnJlY3Qga2V5cyBiYXNlZCBvblxuICAgICAqIHRoZSBpbmRleGVzIHByb3ZpZGVkIGJ5IHRoZSBIYWJTdGF0ZS5cbiAgICAgKiBAcGFyYW0gYWlkIEhhYlN0YXRlIHdpdGggdGhlIGFsZ29yaXRobSBhbmQga2V5IGluZGV4ZXNcbiAgICAgKiBAcmV0dXJucyBJZGVudGlmaWVyTWFuYWdlciBpbnN0YW5jZVxuICAgICAqL1xuICAgIGdldChhaWQpIHtcbiAgICAgICAgY29uc3QgYWxnbyA9IGFpZFtBbGdvcy5zYWx0eV1cbiAgICAgICAgICAgID8gQWxnb3Muc2FsdHlcbiAgICAgICAgICAgIDogYWlkW0FsZ29zLnJhbmR5XVxuICAgICAgICAgICAgICAgID8gQWxnb3MucmFuZHlcbiAgICAgICAgICAgICAgICA6IGFpZFtBbGdvcy5ncm91cF1cbiAgICAgICAgICAgICAgICAgICAgPyBBbGdvcy5ncm91cFxuICAgICAgICAgICAgICAgICAgICA6IGFpZFtBbGdvcy5leHRlcm5dXG4gICAgICAgICAgICAgICAgICAgICAgICA/IEFsZ29zLmV4dGVyblxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGlmICghYWxnbykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBhbGdvIHNwZWNpZmllZCcpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBrYXJncyA9IGFpZFthbGdvXTtcbiAgICAgICAgaWYgKCFrYXJncykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBrYXJncyBmb3VuZCBpbiBIYWJTdGF0ZScpO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoYWxnbykge1xuICAgICAgICAgICAgY2FzZSBBbGdvcy5zYWx0eTpcbiAgICAgICAgICAgICAgICBrYXJncyA9IGthcmdzO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgU2FsdHlJZGVudGlmaWVyTWFuYWdlcih0aGlzLnNhbHRlciwga2FyZ3MucGlkeCwga2FyZ3Mua2lkeCwga2FyZ3MudGllciwga2FyZ3MudHJhbnNmZXJhYmxlLCBrYXJncy5zdGVtLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwga2FyZ3MuaWNvZGVzLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwga2FyZ3MubmNvZGVzLCBrYXJncy5kY29kZSwgdW5kZWZpbmVkLCBrYXJncy5zeGx0KTtcbiAgICAgICAgICAgIGNhc2UgQWxnb3MucmFuZHk6XG4gICAgICAgICAgICAgICAga2FyZ3MgPSBrYXJncztcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFJhbmR5SWRlbnRpZmllck1hbmFnZXIodGhpcy5zYWx0ZXIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIG5ldyBQcmVmaXhlcih7IHFiNjQ6IGFpZFsncHJlZml4J10gfSkudHJhbnNmZXJhYmxlLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgW10sIHVuZGVmaW5lZCwga2FyZ3MucHJ4cywga2FyZ3Mubnh0cyk7XG4gICAgICAgICAgICBjYXNlIEFsZ29zLmdyb3VwOlxuICAgICAgICAgICAgICAgIGthcmdzID0ga2FyZ3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBHcm91cElkZW50aWZpZXJNYW5hZ2VyKHRoaXMsIGthcmdzLm1oYWIsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBrYXJncy5rZXlzLCBrYXJncy5uZGlncyk7XG4gICAgICAgICAgICBjYXNlIEFsZ29zLmV4dGVybjoge1xuICAgICAgICAgICAgICAgIGthcmdzID0ga2FyZ3M7XG4gICAgICAgICAgICAgICAgY29uc3QgdHlwID0ga2FyZ3MuZXh0ZXJuX3R5cGU7XG4gICAgICAgICAgICAgICAgaWYgKHR5cCBpbiB0aGlzLm1vZHVsZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbW9kID0gbmV3IHRoaXMubW9kdWxlc1t0eXBdKGthcmdzLnBpZHgsIGthcmdzKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG1vZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgZXh0ZXJuYWwgbW9kdWxlIHR5cGUgJHt0eXB9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FsZ28gbm90IGFsbG93ZWQgeWV0Jyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgU2FsdHlJZGVudGlmaWVyTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Ioc2FsdGVyLCBwaWR4LCBraWR4ID0gMCwgdGllciA9IFRpZXIubG93LCB0cmFuc2ZlcmFibGUgPSBmYWxzZSwgc3RlbSA9IHVuZGVmaW5lZCwgY29kZSA9IE10ckRleC5FZDI1NTE5X1NlZWQsIGNvdW50ID0gMSwgaWNvZGVzID0gdW5kZWZpbmVkLCBuY29kZSA9IE10ckRleC5FZDI1NTE5X1NlZWQsIG5jb3VudCA9IDEsIG5jb2RlcyA9IHVuZGVmaW5lZCwgZGNvZGUgPSBNdHJEZXguQmxha2UzXzI1NiwgYnJhbiA9IHVuZGVmaW5lZCwgc3hsdCA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmFsZ28gPSBBbGdvcy5zYWx0eTtcbiAgICAgICAgLy8gIyBTYWx0ZXIgaXMgdGhlIGVudGVyZWQgcGFzc2NvZGUgYW5kIHVzZWQgZm9yIGVuYy9kZWMgb2Ygc2FsdHMgZm9yIGVhY2ggQUlEXG4gICAgICAgIHRoaXMuc2FsdGVyID0gc2FsdGVyO1xuICAgICAgICBjb25zdCBzaWduZXIgPSB0aGlzLnNhbHRlci5zaWduZXIoY29kZSwgdHJhbnNmZXJhYmxlLCB1bmRlZmluZWQsIHRpZXIpO1xuICAgICAgICB0aGlzLmFlaWQgPSBzaWduZXIudmVyZmVyLnFiNjQ7XG4gICAgICAgIHRoaXMuZW5jcnlwdGVyID0gbmV3IEVuY3J5cHRlcih7fSwgYih0aGlzLmFlaWQpKTtcbiAgICAgICAgdGhpcy5kZWNyeXB0ZXIgPSBuZXcgRGVjcnlwdGVyKHt9LCBzaWduZXIucWI2NGIpO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLm5jb2RlID0gbmNvZGU7XG4gICAgICAgIHRoaXMudGllciA9IHRpZXI7XG4gICAgICAgIHRoaXMuaWNvZGVzID1cbiAgICAgICAgICAgIGljb2RlcyA9PSB1bmRlZmluZWQgPyBuZXcgQXJyYXkoY291bnQpLmZpbGwoY29kZSkgOiBpY29kZXM7XG4gICAgICAgIHRoaXMubmNvZGVzID1cbiAgICAgICAgICAgIG5jb2RlcyA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG5ldyBBcnJheShuY291bnQpLmZpbGwobmNvZGUpXG4gICAgICAgICAgICAgICAgOiBuY29kZXM7XG4gICAgICAgIHRoaXMuZGNvZGUgPSBkY29kZTtcbiAgICAgICAgdGhpcy5waWR4ID0gcGlkeDtcbiAgICAgICAgdGhpcy5raWR4ID0ga2lkeDtcbiAgICAgICAgdGhpcy50cmFuc2ZlcmFibGUgPSB0cmFuc2ZlcmFibGU7XG4gICAgICAgIHRoaXMuY291bnQgPSBjb3VudDtcbiAgICAgICAgdGhpcy5uY291bnQgPSBuY291bnQ7XG4gICAgICAgIHRoaXMuc3RlbSA9IHN0ZW0gPT0gdW5kZWZpbmVkID8gJ3NpZ25pZnk6YWlkJyA6IHN0ZW07XG4gICAgICAgIGlmIChicmFuICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5icmFuID0gTXRyRGV4LlNhbHRfMTI4ICsgJ0EnICsgYnJhbi5zbGljZSgwLCAyMSk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0b3IgPSBuZXcgU2FsdHlDcmVhdG9yKHRoaXMuYnJhbiwgdGhpcy50aWVyLCB0aGlzLnN0ZW0pO1xuICAgICAgICAgICAgdGhpcy5zeGx0ID0gdGhpcy5lbmNyeXB0ZXIuZW5jcnlwdChiKHRoaXMuY3JlYXRvci5zYWx0KSkucWI2NDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChzeGx0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5jcmVhdG9yID0gbmV3IFNhbHR5Q3JlYXRvcih1bmRlZmluZWQsIHRoaXMudGllciwgdGhpcy5zdGVtKTtcbiAgICAgICAgICAgIHRoaXMuc3hsdCA9IHRoaXMuZW5jcnlwdGVyLmVuY3J5cHQoYih0aGlzLmNyZWF0b3Iuc2FsdCkpLnFiNjQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnN4bHQgPSBzeGx0O1xuICAgICAgICAgICAgY29uc3QgY2lwaCA9IG5ldyBDaXBoZXIoeyBxYjY0OiB0aGlzLnN4bHQgfSk7XG4gICAgICAgICAgICB0aGlzLmNyZWF0b3IgPSBuZXcgU2FsdHlDcmVhdG9yKHRoaXMuZGVjcnlwdGVyLmRlY3J5cHQobnVsbCwgY2lwaCkucWI2NCwgdGllciwgdGhpcy5zdGVtKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNpZ25lcnMgPSB0aGlzLmNyZWF0b3IuY3JlYXRlKHRoaXMuaWNvZGVzLCB0aGlzLm5jb3VudCwgdGhpcy5uY29kZSwgdGhpcy50cmFuc2ZlcmFibGUsIHRoaXMucGlkeCwgMCwgdGhpcy5raWR4LCBmYWxzZSkuc2lnbmVycztcbiAgICB9XG4gICAgcGFyYW1zKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3hsdDogdGhpcy5zeGx0LFxuICAgICAgICAgICAgcGlkeDogdGhpcy5waWR4LFxuICAgICAgICAgICAga2lkeDogdGhpcy5raWR4LFxuICAgICAgICAgICAgc3RlbTogdGhpcy5zdGVtLFxuICAgICAgICAgICAgdGllcjogdGhpcy50aWVyLFxuICAgICAgICAgICAgaWNvZGVzOiB0aGlzLmljb2RlcyxcbiAgICAgICAgICAgIG5jb2RlczogdGhpcy5uY29kZXMsXG4gICAgICAgICAgICBkY29kZTogdGhpcy5kY29kZSxcbiAgICAgICAgICAgIHRyYW5zZmVyYWJsZTogdGhpcy50cmFuc2ZlcmFibGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGluY2VwdCh0cmFuc2ZlcmFibGUpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICB0aGlzLnRyYW5zZmVyYWJsZSA9IHRyYW5zZmVyYWJsZTtcbiAgICAgICAgdGhpcy5raWR4ID0gMDtcbiAgICAgICAgY29uc3Qgc2lnbmVycyA9IHRoaXMuY3JlYXRvci5jcmVhdGUodGhpcy5pY29kZXMsIHRoaXMuY291bnQsIHRoaXMuY29kZSwgdGhpcy50cmFuc2ZlcmFibGUsIHRoaXMucGlkeCwgMCwgdGhpcy5raWR4LCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHZlcmZlcnMgPSBzaWduZXJzLnNpZ25lcnMubWFwKChzaWduZXIpID0+IHNpZ25lci52ZXJmZXIucWI2NCk7XG4gICAgICAgIGNvbnN0IG5zaWduZXJzID0gdGhpcy5jcmVhdG9yLmNyZWF0ZSh0aGlzLm5jb2RlcywgdGhpcy5uY291bnQsIHRoaXMubmNvZGUsIHRoaXMudHJhbnNmZXJhYmxlLCB0aGlzLnBpZHgsIDAsIChfYSA9IHRoaXMuaWNvZGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubGVuZ3RoLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IGRpZ2VycyA9IG5zaWduZXJzLnNpZ25lcnMubWFwKChuc2lnbmVyKSA9PiBuZXcgRGlnZXIoeyBjb2RlOiB0aGlzLmRjb2RlIH0sIG5zaWduZXIudmVyZmVyLnFiNjRiKS5xYjY0KTtcbiAgICAgICAgcmV0dXJuIFt2ZXJmZXJzLCBkaWdlcnNdO1xuICAgIH1cbiAgICBhc3luYyByb3RhdGUobmNvZGVzLCB0cmFuc2ZlcmFibGUpIHtcbiAgICAgICAgdGhpcy5uY29kZXMgPSBuY29kZXM7XG4gICAgICAgIHRoaXMudHJhbnNmZXJhYmxlID0gdHJhbnNmZXJhYmxlO1xuICAgICAgICBjb25zdCBzaWduZXJzID0gdGhpcy5jcmVhdG9yLmNyZWF0ZSh0aGlzLm5jb2RlcywgdGhpcy5uY291bnQsIHRoaXMubmNvZGUsIHRoaXMudHJhbnNmZXJhYmxlLCB0aGlzLnBpZHgsIDAsIHRoaXMua2lkeCArIHRoaXMuaWNvZGVzLmxlbmd0aCwgZmFsc2UpO1xuICAgICAgICBjb25zdCB2ZXJmZXJzID0gc2lnbmVycy5zaWduZXJzLm1hcCgoc2lnbmVyKSA9PiBzaWduZXIudmVyZmVyLnFiNjQpO1xuICAgICAgICB0aGlzLmtpZHggPSB0aGlzLmtpZHggKyB0aGlzLmljb2Rlcy5sZW5ndGg7XG4gICAgICAgIGNvbnN0IG5zaWduZXJzID0gdGhpcy5jcmVhdG9yLmNyZWF0ZSh0aGlzLm5jb2RlcywgdGhpcy5uY291bnQsIHRoaXMubmNvZGUsIHRoaXMudHJhbnNmZXJhYmxlLCB0aGlzLnBpZHgsIDAsIHRoaXMua2lkeCArIHRoaXMuaWNvZGVzLmxlbmd0aCwgZmFsc2UpO1xuICAgICAgICBjb25zdCBkaWdlcnMgPSBuc2lnbmVycy5zaWduZXJzLm1hcCgobnNpZ25lcikgPT4gbmV3IERpZ2VyKHsgY29kZTogdGhpcy5kY29kZSB9LCBuc2lnbmVyLnZlcmZlci5xYjY0YikucWI2NCk7XG4gICAgICAgIHJldHVybiBbdmVyZmVycywgZGlnZXJzXTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbihzZXIsIGluZGV4ZWQgPSB0cnVlLCBpbmRpY2VzID0gdW5kZWZpbmVkLCBvbmRpY2VzID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHNpZ25lcnMgPSB0aGlzLmNyZWF0b3IuY3JlYXRlKHRoaXMuaWNvZGVzLCB0aGlzLm5jb3VudCwgdGhpcy5uY29kZSwgdGhpcy50cmFuc2ZlcmFibGUsIHRoaXMucGlkeCwgMCwgdGhpcy5raWR4LCBmYWxzZSk7XG4gICAgICAgIGlmIChpbmRleGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzaWdlcnMgPSBbXTtcbiAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2osIHNpZ25lcl0gb2Ygc2lnbmVycy5zaWduZXJzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRpY2VzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpID0gaW5kaWNlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBpICE9ICdudW1iZXInIHx8IGkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2lnbmluZyBpbmRleCA9ICR7aX0sIG5vdCB3aG9sZSBudW1iZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBqO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgbyA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKG9uZGljZXMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBvbmRpY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoKG8gPT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgICAgICAgICAodHlwZW9mIG8gPT0gJ251bWJlcicgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlb2YgbyAhPSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8gPj0gMCkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb25kZXggPSAke299LCBub3Qgd2hvbGUgbnVtYmVyLmApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvID0gaTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc2lnZXJzLnB1c2goc2lnbmVyLnNpZ24oc2VyLCBpLCBvID09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZSwgbykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHNpZ2Vycy5tYXAoKHNpZ2VyKSA9PiBzaWdlci5xYjY0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNpZ2FycyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbLCBzaWduZXJdIG9mIHNpZ25lcnMuc2lnbmVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjaWdhcnMucHVzaChzaWduZXIuc2lnbihzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaWdhcnMubWFwKChjaWdhcikgPT4gY2lnYXIucWI2NCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgUmFuZHlJZGVudGlmaWVyTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3Ioc2FsdGVyLCBjb2RlID0gTXRyRGV4LkVkMjU1MTlfU2VlZCwgY291bnQgPSAxLCBpY29kZXMgPSB1bmRlZmluZWQsIHRyYW5zZmVyYWJsZSA9IGZhbHNlLCBuY29kZSA9IE10ckRleC5FZDI1NTE5X1NlZWQsIG5jb3VudCA9IDEsIG5jb2RlcywgZGNvZGUgPSBNdHJEZXguQmxha2UzXzI1NiwgcHJ4cyA9IHVuZGVmaW5lZCwgbnh0cyA9IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLmFsZ28gPSBBbGdvcy5yYW5keTtcbiAgICAgICAgdGhpcy5zYWx0ZXIgPSBzYWx0ZXI7XG4gICAgICAgIHRoaXMuaWNvZGVzID1cbiAgICAgICAgICAgIGljb2RlcyA9PSB1bmRlZmluZWQgPyBuZXcgQXJyYXkoY291bnQpLmZpbGwoY29kZSkgOiBpY29kZXM7XG4gICAgICAgIHRoaXMubmNvZGVzID1cbiAgICAgICAgICAgIG5jb2RlcyA9PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IG5ldyBBcnJheShuY291bnQpLmZpbGwobmNvZGUpXG4gICAgICAgICAgICAgICAgOiBuY29kZXM7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMubmNvZGUgPSBuY29kZTtcbiAgICAgICAgdGhpcy5jb3VudCA9IGNvdW50O1xuICAgICAgICB0aGlzLm5jb3VudCA9IG5jb3VudDtcbiAgICAgICAgY29uc3Qgc2lnbmVyID0gdGhpcy5zYWx0ZXIuc2lnbmVyKGNvZGUsIHRyYW5zZmVyYWJsZSk7XG4gICAgICAgIHRoaXMuYWVpZCA9IHNpZ25lci52ZXJmZXIucWI2NDtcbiAgICAgICAgdGhpcy5lbmNyeXB0ZXIgPSBuZXcgRW5jcnlwdGVyKHt9LCBiKHRoaXMuYWVpZCkpO1xuICAgICAgICB0aGlzLmRlY3J5cHRlciA9IG5ldyBEZWNyeXB0ZXIoe30sIHNpZ25lci5xYjY0Yik7XG4gICAgICAgIHRoaXMubnh0cyA9IG54dHMgIT09IG51bGwgJiYgbnh0cyAhPT0gdm9pZCAwID8gbnh0cyA6IFtdO1xuICAgICAgICB0aGlzLnByeHMgPSBwcnhzICE9PSBudWxsICYmIHByeHMgIT09IHZvaWQgMCA/IHByeHMgOiBbXTtcbiAgICAgICAgdGhpcy50cmFuc2ZlcmFibGUgPSB0cmFuc2ZlcmFibGU7XG4gICAgICAgIHRoaXMuaWNvZGVzID0gaWNvZGVzO1xuICAgICAgICB0aGlzLm5jb2RlcyA9IG5jb2RlcztcbiAgICAgICAgdGhpcy5kY29kZSA9IGRjb2RlO1xuICAgICAgICB0aGlzLmNyZWF0b3IgPSBuZXcgUmFuZHlDcmVhdG9yKCk7XG4gICAgICAgIHRoaXMuc2lnbmVycyA9IHRoaXMucHJ4cy5tYXAoKHByeCkgPT4gdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdChuZXcgQ2lwaGVyKHsgcWI2NDogcHJ4IH0pLnFiNjRiLCB1bmRlZmluZWQsIHRoaXMudHJhbnNmZXJhYmxlKSk7XG4gICAgfVxuICAgIHBhcmFtcygpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG54dHM6IHRoaXMubnh0cyxcbiAgICAgICAgICAgIHByeHM6IHRoaXMucHJ4cyxcbiAgICAgICAgICAgIHRyYW5zZmVyYWJsZTogdGhpcy50cmFuc2ZlcmFibGUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGFzeW5jIGluY2VwdCh0cmFuc2ZlcmFibGUpIHtcbiAgICAgICAgdGhpcy50cmFuc2ZlcmFibGUgPSB0cmFuc2ZlcmFibGU7XG4gICAgICAgIGNvbnN0IHNpZ25lcnMgPSB0aGlzLmNyZWF0b3IuY3JlYXRlKHRoaXMuaWNvZGVzLCB0aGlzLmNvdW50LCB0aGlzLmNvZGUsIHRoaXMudHJhbnNmZXJhYmxlKTtcbiAgICAgICAgdGhpcy5wcnhzID0gc2lnbmVycy5zaWduZXJzLm1hcCgoc2lnbmVyKSA9PiB0aGlzLmVuY3J5cHRlci5lbmNyeXB0KHVuZGVmaW5lZCwgc2lnbmVyKS5xYjY0KTtcbiAgICAgICAgY29uc3QgdmVyZmVycyA9IHNpZ25lcnMuc2lnbmVycy5tYXAoKHNpZ25lcikgPT4gc2lnbmVyLnZlcmZlci5xYjY0KTtcbiAgICAgICAgY29uc3QgbnNpZ25lcnMgPSB0aGlzLmNyZWF0b3IuY3JlYXRlKHRoaXMubmNvZGVzLCB0aGlzLm5jb3VudCwgdGhpcy5uY29kZSwgdGhpcy50cmFuc2ZlcmFibGUpO1xuICAgICAgICB0aGlzLm54dHMgPSBuc2lnbmVycy5zaWduZXJzLm1hcCgoc2lnbmVyKSA9PiB0aGlzLmVuY3J5cHRlci5lbmNyeXB0KHVuZGVmaW5lZCwgc2lnbmVyKS5xYjY0KTtcbiAgICAgICAgY29uc3QgZGlnZXJzID0gbnNpZ25lcnMuc2lnbmVycy5tYXAoKG5zaWduZXIpID0+IG5ldyBEaWdlcih7IGNvZGU6IHRoaXMuZGNvZGUgfSwgbnNpZ25lci52ZXJmZXIucWI2NGIpLnFiNjQpO1xuICAgICAgICByZXR1cm4gW3ZlcmZlcnMsIGRpZ2Vyc107XG4gICAgfVxuICAgIGFzeW5jIHJvdGF0ZShuY29kZXMsIHRyYW5zZmVyYWJsZSkge1xuICAgICAgICB0aGlzLm5jb2RlcyA9IG5jb2RlcztcbiAgICAgICAgdGhpcy50cmFuc2ZlcmFibGUgPSB0cmFuc2ZlcmFibGU7XG4gICAgICAgIHRoaXMucHJ4cyA9IHRoaXMubnh0cztcbiAgICAgICAgY29uc3Qgc2lnbmVycyA9IHRoaXMubnh0cy5tYXAoKG54dCkgPT4gdGhpcy5kZWNyeXB0ZXIuZGVjcnlwdCh1bmRlZmluZWQsIG5ldyBDaXBoZXIoeyBxYjY0OiBueHQgfSksIHRoaXMudHJhbnNmZXJhYmxlKSk7XG4gICAgICAgIGNvbnN0IHZlcmZlcnMgPSBzaWduZXJzLm1hcCgoc2lnbmVyKSA9PiBzaWduZXIudmVyZmVyLnFiNjQpO1xuICAgICAgICBjb25zdCBuc2lnbmVycyA9IHRoaXMuY3JlYXRvci5jcmVhdGUodGhpcy5uY29kZXMsIHRoaXMubmNvdW50LCB0aGlzLm5jb2RlLCB0aGlzLnRyYW5zZmVyYWJsZSk7XG4gICAgICAgIHRoaXMubnh0cyA9IG5zaWduZXJzLnNpZ25lcnMubWFwKChzaWduZXIpID0+IHRoaXMuZW5jcnlwdGVyLmVuY3J5cHQodW5kZWZpbmVkLCBzaWduZXIpLnFiNjQpO1xuICAgICAgICBjb25zdCBkaWdlcnMgPSBuc2lnbmVycy5zaWduZXJzLm1hcCgobnNpZ25lcikgPT4gbmV3IERpZ2VyKHsgY29kZTogdGhpcy5kY29kZSB9LCBuc2lnbmVyLnZlcmZlci5xYjY0YikucWI2NCk7XG4gICAgICAgIHJldHVybiBbdmVyZmVycywgZGlnZXJzXTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbihzZXIsIGluZGV4ZWQgPSB0cnVlLCBpbmRpY2VzID0gdW5kZWZpbmVkLCBvbmRpY2VzID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHNpZ25lcnMgPSB0aGlzLnByeHMubWFwKChwcngpID0+IHRoaXMuZGVjcnlwdGVyLmRlY3J5cHQobmV3IENpcGhlcih7IHFiNjQ6IHByeCB9KS5xYjY0YiwgdW5kZWZpbmVkLCB0aGlzLnRyYW5zZmVyYWJsZSkpO1xuICAgICAgICBpZiAoaW5kZXhlZCkge1xuICAgICAgICAgICAgY29uc3Qgc2lnZXJzID0gW107XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtqLCBzaWduZXJdIG9mIHNpZ25lcnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGljZXMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpbmRpY2VzW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGkgIT0gJ251bWJlcicgfHwgaSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBzaWduaW5nIGluZGV4ID0gJHtpfSwgbm90IHdob2xlIG51bWJlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGo7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBvID0gMDtcbiAgICAgICAgICAgICAgICBpZiAob25kaWNlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IG9uZGljZXNbal07XG4gICAgICAgICAgICAgICAgICAgIGlmICgobyA9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICh0eXBlb2YgbyA9PSAnbnVtYmVyJyAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiBvICE9ICdudW1iZXInICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbyA+PSAwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBvbmRleCA9ICR7b30sIG5vdCB3aG9sZSBudW1iZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSBpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzaWdlcnMucHVzaChzaWduZXIuc2lnbihzZXIsIGksIG8gPT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGZhbHNlLCBvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2lnZXJzLm1hcCgoc2lnZXIpID0+IHNpZ2VyLnFiNjQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgY2lnYXJzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFssIHNpZ25lcl0gb2Ygc2lnbmVycy5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICBjaWdhcnMucHVzaChzaWduZXIuc2lnbihzZXIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjaWdhcnMubWFwKChjaWdhcikgPT4gY2lnYXIucWI2NCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgY2xhc3MgR3JvdXBJZGVudGlmaWVyTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IobWFuYWdlciwgbWhhYiwgc3RhdGVzID0gdW5kZWZpbmVkLCByc3RhdGVzID0gdW5kZWZpbmVkLCBrZXlzID0gW10sIG5kaWdzID0gW10pIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgdGhpcy5na2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmdkaWdzID0gW107XG4gICAgICAgIHRoaXMuYWxnbyA9IEFsZ29zLmdyb3VwO1xuICAgICAgICB0aGlzLm1hbmFnZXIgPSBtYW5hZ2VyO1xuICAgICAgICBpZiAoc3RhdGVzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAga2V5cyA9IHN0YXRlcy5tYXAoKHN0YXRlKSA9PiBzdGF0ZVsnayddWzBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocnN0YXRlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIG5kaWdzID0gcnN0YXRlcy5tYXAoKHN0YXRlKSA9PiBzdGF0ZVsnbiddWzBdKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmdrZXlzID0gKF9hID0gc3RhdGVzID09PSBudWxsIHx8IHN0YXRlcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogc3RhdGVzLm1hcCgoc3RhdGUpID0+IHN0YXRlWydrJ11bMF0pKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBrZXlzO1xuICAgICAgICB0aGlzLmdkaWdzID0gKF9iID0gcnN0YXRlcyA9PT0gbnVsbCB8fCByc3RhdGVzID09PSB2b2lkIDAgPyB2b2lkIDAgOiByc3RhdGVzLm1hcCgoc3RhdGUpID0+IHN0YXRlWyduJ11bMF0pKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBuZGlncztcbiAgICAgICAgdGhpcy5taGFiID0gbWhhYjtcbiAgICAgICAgdGhpcy5zaWduZXJzID0gW107XG4gICAgfVxuICAgIGFzeW5jIGluY2VwdCgpIHtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdrZXlzLCB0aGlzLmdkaWdzXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBtdWx0aXNpZyByb3RhdGlvblxuICAgICAqIEBwYXJhbSBfbmNvZGVzXG4gICAgICogQHBhcmFtIF90cmFuc2ZlcmFibGVcbiAgICAgKiBAcGFyYW0gc3RhdGVzXG4gICAgICogQHBhcmFtIHJzdGF0ZXMga2V5IHN0YXRlIHJlY29yZHMgZm9yIHRoZSBwcmlvciBlc3RhYmxpc2htZW50IGV2ZW50IGluZGljYXRpbmcgbmV4dCBrZXkgZGlnZXN0cy5cbiAgICAgKiAgICAgICAgICAgICAgICBZb3Ugc2hvdWxkIHBhc3MgaW4gdGhlIGN1cnJlbnQga2V5XG4gICAgICovXG4gICAgYXN5bmMgcm90YXRlKF9uY29kZXMsIF90cmFuc2ZlcmFibGUsIHN0YXRlcywgcnN0YXRlcykge1xuICAgICAgICB0aGlzLmdrZXlzID0gc3RhdGVzLm1hcCgoc3RhdGUpID0+IHN0YXRlWydrJ11bMF0pO1xuICAgICAgICB0aGlzLmdkaWdzID0gcnN0YXRlcy5tYXAoKHN0YXRlKSA9PiBzdGF0ZVsnbiddWzBdKTtcbiAgICAgICAgcmV0dXJuIFt0aGlzLmdrZXlzLCB0aGlzLmdkaWdzXTtcbiAgICB9XG4gICAgYXN5bmMgc2lnbihzZXIsIGluZGV4ZWQgPSB0cnVlKSB7XG4gICAgICAgIGlmICghdGhpcy5taGFiLnN0YXRlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHN0YXRlIGluIG1oYWJgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBrZXkgPSB0aGlzLm1oYWJbJ3N0YXRlJ11bJ2snXVswXTtcbiAgICAgICAgY29uc3QgbmRpZyA9IHRoaXMubWhhYlsnc3RhdGUnXVsnbiddWzBdO1xuICAgICAgICBjb25zdCBjc2kgPSB0aGlzLmdrZXlzLmluZGV4T2Yoa2V5KTsgLy8gY3NpID0gY3VycmVudCBzaWduaW5nIGluZGV4IChmcm9tIGN1cnJlbnQgcm90YXRpb24gZXZlbnQpXG4gICAgICAgIGNvbnN0IHBuaSA9IHRoaXMuZ2RpZ3MuaW5kZXhPZihuZGlnKTsgLy8gcG5pID0gcHJpb3IgbmV4dCBpbmRleCAoZnJvbSBsYXN0IGVzdGFibGlzaG1lbnQgZXZlbnQpXG4gICAgICAgIGNvbnN0IG1rZWVwZXIgPSB0aGlzLm1hbmFnZXIuZ2V0KHRoaXMubWhhYik7XG4gICAgICAgIHJldHVybiBhd2FpdCBta2VlcGVyLnNpZ24oc2VyLCBpbmRleGVkLCBbY3NpXSwgW3BuaV0pO1xuICAgIH1cbiAgICBwYXJhbXMoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtaGFiOiB0aGlzLm1oYWIsXG4gICAgICAgICAgICBrZXlzOiB0aGlzLmdrZXlzLFxuICAgICAgICAgICAgbmRpZ3M6IHRoaXMuZ2RpZ3MsXG4gICAgICAgIH07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/keeping.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/kering.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmptyMaterialError: () => (/* binding */ EmptyMaterialError)\n/* harmony export */ });\nclass EmptyMaterialError {\n    constructor(err) {\n        this._err = new Error(err);\n    }\n    get err() {\n        return this._err;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9rZXJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9rZXJpbmcuanM/ZWViNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgRW1wdHlNYXRlcmlhbEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnIpIHtcbiAgICAgICAgdGhpcy5fZXJyID0gbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGdldCBlcnIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lcnI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/keyState.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/keyState.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _manager_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./manager.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\");\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9rZXlTdGF0ZS5qcyIsIm1hcHBpbmdzIjoiOztBQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL2tleVN0YXRlLmpzPzdiYmYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQWxnb3MgfSBmcm9tIFwiLi9tYW5hZ2VyLmpzXCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/keyState.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/manager.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Algos: () => (/* binding */ Algos),\n/* harmony export */   Creatory: () => (/* binding */ Creatory),\n/* harmony export */   Manager: () => (/* binding */ Manager),\n/* harmony export */   RandyCreator: () => (/* binding */ RandyCreator),\n/* harmony export */   SaltyCreator: () => (/* binding */ SaltyCreator),\n/* harmony export */   openManager: () => (/* binding */ openManager),\n/* harmony export */   riKey: () => (/* binding */ riKey)\n/* harmony export */ });\n/* harmony import */ var _encrypter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./encrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/encrypter.js\");\n/* harmony import */ var _decrypter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./decrypter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/decrypter.js\");\n/* harmony import */ var _salter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./salter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\");\n/* harmony import */ var _signer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./signer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\");\n/* harmony import */ var _verfer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _diger_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./diger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n\n\n\n\n\n\n\n\n/**\n * Kinds of key pair generation algorithms.\n * Salty is deterministic based on a salt and stem.\n * Randy is random.\n * Group is a multi-signature group algorithm indicating keys are retrieved from a group member which will be either Salty or Randy.\n * Extern is an external key pair algorithm indicating keys are provided by an external source such as an HSM.\n */\nvar Algos;\n(function (Algos) {\n    Algos[\"randy\"] = \"randy\";\n    Algos[\"salty\"] = \"salty\";\n    Algos[\"group\"] = \"group\";\n    Algos[\"extern\"] = \"extern\";\n})(Algos || (Algos = {}));\n/**\n * Lot (set) of public keys as an ordered list with indexes and the time created.\n * Indexes refer to the index of the ordered sequence of keys in an establishment event (inception or rotation).\n * Assumes the same length for each set of keys across all PubLot instances used for a given identifier.\n */\nclass PubLot {\n    constructor() {\n        /**\n         * List of fully qualified, Base64 encoded public keys. Defaults to empty.\n         */\n        this.pubs = new Array();\n        /**\n         * Rotation index; index of rotation (est event) that uses this public key set.\n         * The index of the key set for an inception event is 0.\n         */\n        this.ridx = 0;\n        /**\n         * Key index; index of the starting key in the key set for this lot in sequence\n         * with reference to all public keys for the identifier.\n         * For example, if each set (PubLot.pubs) has 3 keys then ridx 2 has kidx of 2*3 = 6.\n         * Defaults to 0.\n         */\n        this.kidx = 0;\n        /**\n         * Datetime of when key set created formatted as an ISO 8601 compliant string.\n         */\n        this.dt = '';\n    }\n}\n/**\n * Prefix's public key situation (set of public keys).\n */\nclass PreSit {\n    constructor() {\n        /**\n         * Previous publot; previous public key set.\n         */\n        this.old = new PubLot();\n        /**\n         * New, current publot; current public key set.\n         */\n        this.new = new PubLot();\n        /**\n         * Next public publot\n         */\n        this.nxt = new PubLot();\n    }\n}\n/**\n * Identifier prefix parameters for creating new key pairs.\n */\nclass PrePrm {\n    constructor() {\n        /**\n         * Prefix index for this keypair sequence.\n         */\n        this.pidx = 0;\n        /**\n         * Key generation algorithm type.\n         * Defaults to Salty.\n         * Salty default uses indices and salt to create new key pairs.\n         */\n        this.algo = Algos.salty;\n        /**\n         * Used for salty algo. Defaults to empty. Unused for randy algo.\n         */\n        this.salt = '';\n        /**\n         * Default unique path prefix used by the salty algo during key generation.\n         */\n        this.stem = '';\n        /**\n         * Security tier for stretch index; used by the salty algo.\n         */\n        this.tier = '';\n    }\n}\n/**\n * An identifier prefix's public key set (list) at a given rotation index ridx.\n */\nclass PubSet {\n    constructor() {\n        /**\n         * List of fully qualified, Base64 encoded public keys.\n         */\n        this.pubs = new Array();\n    }\n}\n/**\n * Describes a path to a specific derived keypair for a given identifier\n */\nclass PubPath {\n    constructor() {\n        /**\n         * The path to a specific keypair. To generate a keypair you combine the path with the salt and tier.\n         */\n        this.path = '';\n        /**\n         * Derivation code indicating the kind of cryptographic keypair to generate. Defaults to Ed25519.\n         */\n        this.code = '';\n        /**\n         * Security tier to use to generate a keypair. Defaults to high.\n         */\n        this.tier = _salter_js__WEBPACK_IMPORTED_MODULE_2__.Tier.high;\n        /**\n         * Flag to control whether to generate a low security, temporary key. Used for speed for unit tests. Do NOT use for production identifiers.\n         */\n        this.temp = false;\n    }\n}\nclass Keys {\n    constructor(signers, paths) {\n        this._signers = signers;\n        if (paths != undefined) {\n            if (signers.length != paths.length) {\n                throw new Error('If paths are provided, they must be the same length as signers');\n            }\n        }\n        this._paths = paths;\n    }\n    get paths() {\n        return this._paths;\n    }\n    get signers() {\n        return this._signers;\n    }\n}\nclass RandyCreator {\n    create(codes = undefined, count = 1, code = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, transferable = true) {\n        const signers = new Array();\n        if (codes == undefined) {\n            codes = new Array(count).fill(code);\n        }\n        codes.forEach(function (code) {\n            signers.push(new _signer_js__WEBPACK_IMPORTED_MODULE_3__.Signer({ code: code, transferable: transferable }));\n        });\n        return new Keys(signers);\n    }\n    /**\n     * Unused for random key generation.\n     */\n    get salt() {\n        return '';\n    }\n    /**\n     * Unused for random key generation.\n     */\n    get stem() {\n        return '';\n    }\n    /**\n     * Unused for random key generation.\n     */\n    get tier() {\n        return '';\n    }\n}\n/**\n * Deterministically creates a key pair based on combining a salt with a path stretch algorithm.\n * The salt is randomized if not provided.\n */\nclass SaltyCreator {\n    constructor(salt = undefined, tier = undefined, stem = undefined) {\n        this.salter = new _salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: salt, tier: tier });\n        this._stem = stem == undefined ? '' : stem;\n    }\n    get salt() {\n        return this.salter.qb64;\n    }\n    get stem() {\n        return this._stem;\n    }\n    get tier() {\n        return this.salter.tier;\n    }\n    create(codes = undefined, count = 1, code = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, transferable = true, pidx = 0, ridx = 0, kidx = 0, temp = false) {\n        const signers = new Array();\n        const paths = new Array();\n        if (codes == undefined) {\n            codes = new Array(count).fill(code);\n        }\n        codes.forEach((code, idx) => {\n            // Previous definition of path\n            // let path = this.stem + pidx.toString(16) + ridx.toString(16) + (kidx+idx).toString(16)\n            const path = this.stem == ''\n                ? pidx.toString(16)\n                : this.stem + ridx.toString(16) + (kidx + idx).toString(16);\n            signers.push(this.salter.signer(code, transferable, path, this.tier, temp));\n            paths.push(path);\n        });\n        return new Keys(signers, paths);\n    }\n}\nclass Creatory {\n    constructor(algo = Algos.salty) {\n        switch (algo) {\n            case Algos.randy:\n                this._make = this._makeRandy;\n                break;\n            case Algos.salty:\n                this._make = this._makeSalty;\n                break;\n            default:\n                throw new Error(`unsupported algo=${algo}`);\n        }\n    }\n    make(...args) {\n        return this._make(...args);\n    }\n    _makeRandy() {\n        return new RandyCreator();\n    }\n    _makeSalty(...args) {\n        return new SaltyCreator(...args);\n    }\n}\nfunction openManager(passcode, salt) {\n    if (passcode.length < 21) {\n        throw new Error('Bran (passcode seed material) too short.');\n    }\n    const bran = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Salt_128 + 'A' + passcode.substring(0, 21); // qb64 salt for seed\n    const signer = new _salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: bran }).signer(_matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, false);\n    const seed = signer.qb64;\n    const aeid = signer.verfer.qb64; // lest it remove encryption\n    let algo;\n    const salter = salt != undefined ? new _salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: salt }) : undefined;\n    if (salt != undefined) {\n        algo = Algos.salty;\n    }\n    else {\n        algo = Algos.randy;\n    }\n    return new Manager({ seed: seed, aeid: aeid, algo: algo, salter: salter });\n}\n/**\n * Manages key pair creation, retrieval, and message signing.\n */\nclass Manager {\n    constructor(args) {\n        let { ks, seed, aeid, pidx, algo, salter, tier } = args;\n        this._ks = ks == undefined ? new Keeper() : ks;\n        this._seed = seed;\n        this._encrypter = undefined;\n        this._decrypter = undefined;\n        aeid = aeid == undefined ? undefined : aeid;\n        pidx = pidx == undefined ? 0 : pidx;\n        algo = algo == undefined ? Algos.salty : algo;\n        const salt = salter === null || salter === void 0 ? void 0 : salter.qb64;\n        tier = tier == undefined ? _salter_js__WEBPACK_IMPORTED_MODULE_2__.Tier.low : tier;\n        if (this.pidx == undefined) {\n            this.pidx = pidx;\n        }\n        if (this.algo == undefined) {\n            this.algo = algo;\n        }\n        if (this.salt == undefined) {\n            this.salt = salt;\n        }\n        if (this.tier == undefined) {\n            this.tier = tier;\n        }\n        if (this.aeid == undefined) {\n            this.updateAeid(aeid, this._seed);\n        }\n    }\n    get ks() {\n        return this._ks;\n    }\n    get encrypter() {\n        return this._encrypter;\n    }\n    get decrypter() {\n        return this._decrypter;\n    }\n    get seed() {\n        return this._seed;\n    }\n    /**\n     * qb64 auth encrypt id prefix\n     */\n    get aeid() {\n        return this.ks.getGbls('aeid');\n    }\n    get pidx() {\n        const pidx = this.ks.getGbls('pidx');\n        if (pidx != undefined) {\n            return parseInt(pidx, 16);\n        }\n        return undefined;\n    }\n    set pidx(pidx) {\n        this.ks.pinGbls('pidx', pidx.toString(16));\n    }\n    get salt() {\n        if (this._decrypter == undefined) {\n            return this._salt;\n        }\n        else {\n            const salt = this.ks.getGbls('salt');\n            return this._decrypter.decrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(salt)).qb64;\n        }\n    }\n    set salt(salt) {\n        if (this._encrypter == undefined) {\n            this._salt = salt;\n        }\n        else {\n            salt = this._encrypter.encrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(salt)).qb64;\n            this.ks.pinGbls('salt', salt);\n        }\n    }\n    get tier() {\n        return this.ks.getGbls('tier');\n    }\n    set tier(tier) {\n        this.ks.pinGbls('tier', tier);\n    }\n    get algo() {\n        const a = this.ks.getGbls('algo');\n        const ta = a;\n        return Algos[ta];\n    }\n    set algo(algo) {\n        this.ks.pinGbls('algo', algo);\n    }\n    updateAeid(aeid, seed) {\n        var _a;\n        if (this.aeid != undefined) {\n            const seed = (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(this._seed);\n            if (this._seed == undefined || !((_a = this._encrypter) === null || _a === void 0 ? void 0 : _a.verifySeed(seed))) {\n                throw new Error(`Last seed missing or provided last seed \"\n                                       \"not associated with last aeid=${this.aeid}.`);\n            }\n        }\n        if (aeid != '' && aeid != undefined) {\n            if (aeid != this.aeid) {\n                this._encrypter = new _encrypter_js__WEBPACK_IMPORTED_MODULE_0__.Encrypter({}, (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(aeid));\n                if (seed == undefined || !this._encrypter.verifySeed((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(seed))) {\n                    throw new Error(`Seed missing or provided seed not associated\"\n                                           \"  with provided aeid=${aeid}.`);\n                }\n            }\n        }\n        else if (this.algo == Algos.randy) {\n            // Unlike KERIpy, we don't support unencrypted secrets\n            throw new Error('Invalid Manager configuration, encryption must be used with Randy key creation.');\n        }\n        else {\n            this._encrypter = undefined;\n        }\n        const salt = this.salt;\n        if (salt != undefined) {\n            this.salt = salt;\n        }\n        if (this._decrypter != undefined) {\n            for (const [keys, data] of this.ks.prmsElements()) {\n                if (data.salt != undefined) {\n                    const salter = this._decrypter.decrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(data.salt));\n                    data.salt =\n                        this._encrypter == undefined\n                            ? salter.qb64\n                            : this._encrypter.encrypt(null, salter);\n                    this.ks.pinPrms(keys, data);\n                }\n            }\n            for (const [pubKey, signer] of this.ks.prisElements(this._decrypter)) {\n                this.ks.pinPris(pubKey, signer, this._encrypter);\n            }\n        }\n        this.ks.pinGbls('aeid', aeid); // set aeid in db\n        this._seed = seed; // set .seed in memory\n        // update .decrypter\n        this._decrypter =\n            seed != undefined ? new _decrypter_js__WEBPACK_IMPORTED_MODULE_1__.Decrypter({}, (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(seed)) : undefined;\n    }\n    incept(args) {\n        let { icodes = undefined, icount = 1, icode = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, ncodes = undefined, ncount = 1, ncode = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, dcode = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Blake3_256, algo = undefined, salt = undefined, stem = undefined, tier = undefined, rooted = true, transferable = true, temp = false, } = args;\n        if (rooted && algo == undefined) {\n            algo = this.algo;\n        }\n        if (rooted && salt == undefined) {\n            salt = this.salt;\n        }\n        if (rooted && tier == undefined) {\n            tier = this.tier;\n        }\n        const pidx = this.pidx;\n        const ridx = 0;\n        const kidx = 0;\n        const creator = new Creatory(algo).make(salt, tier, stem);\n        if (icodes == undefined) {\n            if (icount < 0) {\n                throw new Error(`Invalid icount=${icount} must be >= 0.`);\n            }\n            icodes = new Array(icount).fill(icode);\n        }\n        const ikeys = creator.create(icodes, 0, _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, transferable, pidx, ridx, kidx, temp);\n        const verfers = Array.from(ikeys.signers, (signer) => signer.verfer);\n        if (ncodes == undefined) {\n            if (ncount < 0) {\n                throw new Error(`Invalid ncount=${ncount} must be >= 0.`);\n            }\n            ncodes = new Array(ncount).fill(ncode);\n        }\n        const nkeys = creator.create(ncodes, 0, _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, transferable, pidx, ridx + 1, kidx + icodes.length, temp);\n        const digers = Array.from(nkeys.signers, (signer) => new _diger_js__WEBPACK_IMPORTED_MODULE_6__.Diger({ code: dcode }, signer.verfer.qb64b));\n        const pp = new PrePrm();\n        pp.pidx = pidx;\n        pp.algo = algo;\n        pp.salt =\n            creator.salt.length == 0 || this.encrypter == undefined\n                ? ''\n                : this.encrypter.encrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(creator.salt)).qb64;\n        pp.stem = creator.stem;\n        pp.tier = creator.tier;\n        const dt = new Date().toString();\n        const nw = new PubLot();\n        nw.pubs = Array.from(verfers, (verfer) => verfer.qb64);\n        nw.ridx = ridx;\n        nw.kidx = kidx;\n        nw.dt = dt;\n        const nt = new PubLot();\n        nt.pubs = Array.from(nkeys.signers, (signer) => signer.verfer.qb64);\n        nt.ridx = ridx + 1;\n        nt.kidx = kidx + icodes.length;\n        nt.dt = dt;\n        const ps = new PreSit();\n        ps.new = nw;\n        ps.nxt = nt;\n        const pre = verfers[0].qb64;\n        if (!this.ks.putPres(pre, verfers[0].qb64b)) {\n            throw new Error(`Already incepted pre=${pre}.`);\n        }\n        if (!this.ks.putPrms(pre, pp)) {\n            throw new Error(`Already incepted prm for pre=${pre}.`);\n        }\n        this.pidx = pidx + 1;\n        if (!this.ks.putSits(pre, ps)) {\n            throw new Error(`Already incepted sit for pre=${pre}.`);\n        }\n        if (this.encrypter != undefined) {\n            // Only store encrypted keys if we have an encrypter, otherwise regenerate\n            ikeys.signers.forEach((signer) => {\n                this.ks.putPris(signer.verfer.qb64, signer, this.encrypter);\n            });\n            nkeys.signers.forEach((signer) => {\n                this.ks.putPris(signer.verfer.qb64, signer, this.encrypter);\n            });\n        }\n        else if (this._encrypter == undefined &&\n            ikeys.paths != undefined &&\n            nkeys.paths != undefined) {\n            ikeys.paths.forEach((path, idx) => {\n                const signer = ikeys.signers[idx];\n                const ppt = new PubPath();\n                ppt.path = path;\n                ppt.code = icodes[idx];\n                ppt.tier = pp.tier;\n                ppt.temp = temp;\n                this.ks.putPths(signer.verfer.qb64, ppt);\n            });\n            nkeys.paths.forEach((path, idx) => {\n                const signer = nkeys.signers[idx];\n                const ppt = new PubPath();\n                ppt.path = path;\n                ppt.code = ncodes[idx];\n                ppt.tier = pp.tier;\n                ppt.temp = temp;\n                this.ks.putPths(signer.verfer.qb64, ppt);\n            });\n        }\n        else {\n            throw new Error('invalid configuration, randy keys without encryption');\n        }\n        const pubSet = new PubSet();\n        pubSet.pubs = ps.new.pubs;\n        this.ks.putPubs(riKey(pre, ridx), pubSet);\n        const nxtPubSet = new PubSet();\n        nxtPubSet.pubs = ps.nxt.pubs;\n        this.ks.putPubs(riKey(pre, ridx + 1), nxtPubSet);\n        return [verfers, digers];\n    }\n    move(old, gnu) {\n        if (old == gnu) {\n            return;\n        }\n        if (this.ks.getPres(old) == undefined) {\n            throw new Error(`Nonexistent old pre=${old}, nothing to assign.`);\n        }\n        if (this.ks.getPres(gnu) != undefined) {\n            throw new Error(`Preexistent new pre=${gnu} may not clobber.`);\n        }\n        const oldprm = this.ks.getPrms(old);\n        if (oldprm == undefined) {\n            throw new Error(`Nonexistent old prm for pre=${old}, nothing to move.`);\n        }\n        if (this.ks.getPrms(gnu) != undefined) {\n            throw new Error(`Preexistent new prm for pre=${gnu} may not clobber.`);\n        }\n        const oldsit = this.ks.getSits(old);\n        if (oldsit == undefined) {\n            throw new Error(`Nonexistent old sit for pre=${old}, nothing to move.`);\n        }\n        if (this.ks.getSits(gnu) != undefined) {\n            throw new Error(`Preexistent new sit for pre=${gnu} may not clobber.`);\n        }\n        if (!this.ks.putPrms(gnu, oldprm)) {\n            throw new Error(`Failed moving prm from old pre=${old} to new pre=${gnu}.`);\n        }\n        else {\n            this.ks.remPrms(old);\n        }\n        if (!this.ks.putSits(gnu, oldsit)) {\n            throw new Error(`Failed moving sit from old pre=${old} to new pre=${gnu}.`);\n        }\n        else {\n            this.ks.remSits(old);\n        }\n        let i = 0;\n        while (true) {\n            const pl = this.ks.getPubs(riKey(old, i));\n            if (pl == undefined) {\n                break;\n            }\n            if (!this.ks.putPubs(riKey(gnu, i), pl)) {\n                throw new Error(`Failed moving pubs at pre=${old} ri=${i} to new pre=${gnu}`);\n            }\n            i = i + 1;\n        }\n        if (!this.ks.pinPres(old, (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(gnu))) {\n            throw new Error(`Failed assiging new pre=${gnu} to old pre=${old}.`);\n        }\n        if (!this.ks.putPres(gnu, (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(gnu))) {\n            throw new Error(`Failed assiging new pre=${gnu}.`);\n        }\n    }\n    rotate(args) {\n        let { pre, ncodes = undefined, ncount = 1, ncode = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Ed25519_Seed, dcode = _matter_js__WEBPACK_IMPORTED_MODULE_5__.MtrDex.Blake3_256, transferable = true, temp = false, erase = true, } = args;\n        const pp = this.ks.getPrms(pre);\n        if (pp == undefined) {\n            throw new Error(`Attempt to rotate nonexistent pre=${pre}.`);\n        }\n        const ps = this.ks.getSits(pre);\n        if (ps == undefined) {\n            throw new Error(`Attempt to rotate nonexistent pre=${pre}.`);\n        }\n        if (ps.nxt.pubs == undefined || ps.nxt.pubs.length == 0) {\n            throw new Error(`Attempt to rotate nontransferable pre=${pre}.`);\n        }\n        const old = ps.old;\n        ps.old = ps.new;\n        ps.new = ps.nxt;\n        if (this.aeid != undefined && this.decrypter == undefined) {\n            throw new Error('Unauthorized decryption attempt.  Aeid but no decrypter.');\n        }\n        const verfers = new Array();\n        ps.new.pubs.forEach((pub) => {\n            if (this.decrypter != undefined) {\n                const signer = this.ks.getPris(pub, this.decrypter);\n                if (signer == undefined) {\n                    throw new Error(`Missing prikey in db for pubkey=${pub}`);\n                }\n                verfers.push(signer.verfer);\n            }\n            else {\n                // Should we regenerate from salt here since this.decryptor is undefined\n                verfers.push(new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: pub }));\n            }\n        });\n        let salt = pp.salt;\n        if (salt != undefined && salt != '') {\n            // If you provded a Salt for an AID but don't have encryption, pitch a fit\n            if (this.decrypter == undefined) {\n                throw new Error('Invalid configuration: AID salt with no encryption');\n            }\n            salt = this.decrypter.decrypt((0,_core_js__WEBPACK_IMPORTED_MODULE_7__.b)(salt)).qb64;\n        }\n        else {\n            salt = this.salt;\n        }\n        const creator = new Creatory(pp.algo).make(salt, pp.tier, pp.stem);\n        if (ncodes == undefined) {\n            if (ncount < 0) {\n                throw new Error(`Invalid count=${ncount} must be >= 0`);\n            }\n            ncodes = new Array(ncount).fill(ncode);\n        }\n        const pidx = pp.pidx;\n        const ridx = ps.new.ridx + 1;\n        const kidx = ps.nxt.kidx + ps.new.pubs.length;\n        const keys = creator.create(ncodes, 0, '', transferable, pidx, ridx, kidx, temp);\n        const digers = Array.from(keys.signers, (signer) => new _diger_js__WEBPACK_IMPORTED_MODULE_6__.Diger({ code: dcode }, signer.verfer.qb64b));\n        const dt = new Date().toString();\n        ps.nxt = new PubLot();\n        ps.nxt.pubs = Array.from(keys.signers, (signer) => signer.verfer.qb64);\n        ps.nxt.ridx = ridx;\n        ps.nxt.kidx = kidx;\n        ps.nxt.dt = dt;\n        if (!this.ks.pinSits(pre, ps)) {\n            throw new Error(`Problem updating pubsit db for pre=${pre}.`);\n        }\n        if (this.encrypter != undefined) {\n            // Only store encrypted keys if we have an encrypter, otherwise regenerate\n            keys.signers.forEach((signer) => {\n                this.ks.putPris(signer.verfer.qb64, signer, this.encrypter);\n            });\n        }\n        else if (this._encrypter == undefined && keys.paths != undefined) {\n            keys.paths.forEach((path, idx) => {\n                const signer = keys.signers[idx];\n                const ppt = new PubPath();\n                ppt.path = path;\n                ppt.tier = pp.tier;\n                ppt.temp = temp;\n                this.ks.putPths(signer.verfer.qb64, ppt);\n            });\n        }\n        else {\n            throw new Error('invalid configuration, randy keys without encryption');\n        }\n        const newPs = new PubSet();\n        newPs.pubs = ps.nxt.pubs;\n        this.ks.putPubs(riKey(pre, ps.nxt.ridx), newPs);\n        if (erase) {\n            old.pubs.forEach((pub) => {\n                this.ks.remPris(pub);\n            });\n        }\n        return [verfers, digers];\n    }\n    sign(args) {\n        const { ser, pubs = undefined, verfers = undefined, indexed = true, indices = undefined, ondices = undefined, } = args;\n        const signers = new Array();\n        if (pubs == undefined && verfers == undefined) {\n            throw new Error('pubs or verfers required');\n        }\n        if (pubs != undefined) {\n            if (this.aeid != undefined && this.decrypter == undefined) {\n                throw new Error('Unauthorized decryption attempt.  Aeid but no decrypter.');\n            }\n            pubs.forEach((pub) => {\n                //If no decrypter then get SaltyState and regenerate prikey\n                if (this.decrypter != undefined) {\n                    const signer = this.ks.getPris(pub, this.decrypter);\n                    if (signer == undefined) {\n                        throw new Error(`Missing prikey in db for pubkey=${pub}`);\n                    }\n                    signers.push(signer);\n                }\n                else {\n                    const verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: pub });\n                    const ppt = this.ks.getPths(pub);\n                    if (ppt == undefined) {\n                        throw new Error(`Missing prikey in db for pubkey=${pub}`);\n                    }\n                    const salter = new _salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: this.salt });\n                    signers.push(salter.signer(ppt.code, verfer.transferable, ppt.path, ppt.tier, ppt.temp));\n                }\n            });\n        }\n        else {\n            verfers.forEach((verfer) => {\n                if (this.decrypter != undefined) {\n                    const signer = this.ks.getPris(verfer.qb64, this.decrypter);\n                    if (signer == undefined) {\n                        throw new Error(`Missing prikey in db for pubkey=${verfer.qb64}`);\n                    }\n                    signers.push(signer);\n                }\n                else {\n                    const ppt = this.ks.getPths(verfer.qb64);\n                    if (ppt == undefined) {\n                        throw new Error(`Missing prikey in db for pubkey=${verfer.qb64}`);\n                    }\n                    const salter = new _salter_js__WEBPACK_IMPORTED_MODULE_2__.Salter({ qb64: this.salt });\n                    signers.push(salter.signer(ppt.code, verfer.transferable, ppt.path, ppt.tier, ppt.temp));\n                }\n            });\n        }\n        if (indices != undefined && indices.length != signers.length) {\n            throw new Error(`Mismatch indices length=${indices.length} and resultant signers length=${signers.length}`);\n        }\n        if (ondices != undefined && ondices.length != signers.length) {\n            throw new Error(`Mismatch ondices length=${ondices.length} and resultant signers length=${signers.length}`);\n        }\n        if (indexed) {\n            const sigers = new Array();\n            signers.forEach((signer, idx) => {\n                let i;\n                if (indices != undefined) {\n                    i = indices[idx];\n                    if (i < 0) {\n                        throw new Error(`Invalid signing index = ${i}, not whole number.`);\n                    }\n                }\n                else {\n                    i = idx;\n                }\n                let o;\n                if (ondices != undefined) {\n                    o = ondices[idx];\n                    if (o <= 0) {\n                        throw new Error(`Invalid other signing index = {o}, not None or not whole number.`);\n                    }\n                }\n                else {\n                    o = i;\n                }\n                const only = o == undefined;\n                sigers.push(signer.sign(ser, i, only, o));\n            });\n            return sigers;\n        }\n        else {\n            const cigars = new Array();\n            signers.forEach((signer) => {\n                cigars.push(signer.sign(ser));\n            });\n            return cigars;\n        }\n    }\n}\nfunction riKey(pre, ridx) {\n    return pre + '.' + ridx.toString(16).padStart(32, '0');\n}\n/**\n * Keeper sets up named sub databases for key pair storage (KS).\n * Methods provide key pair creation, storage, and data signing.\n * In-memory test implementation of Keeper key store\n */\nclass Keeper {\n    constructor() {\n        this._gbls = new Map();\n        this._pris = new Map();\n        this._pths = new Map();\n        this._pres = new Map();\n        this._prms = new Map();\n        this._sits = new Map();\n        this._pubs = new Map();\n    }\n    getGbls(key) {\n        return this._gbls.get(key);\n    }\n    pinGbls(key, val) {\n        this._gbls.set(key, val);\n    }\n    prmsElements() {\n        const out = new Array();\n        this._prms.forEach((value, key) => {\n            out.push([key, value]);\n        });\n        return out;\n    }\n    getPrms(keys) {\n        return this._prms.get(keys);\n    }\n    pinPrms(keys, data) {\n        this._prms.set(keys, data);\n    }\n    putPrms(keys, data) {\n        if (this._prms.has(keys)) {\n            return false;\n        }\n        this._prms.set(keys, data);\n        return true;\n    }\n    remPrms(keys) {\n        return this._prms.delete(keys);\n    }\n    prisElements(decrypter) {\n        const out = new Array();\n        this._pris.forEach(function (val, pubKey) {\n            const verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: pubKey });\n            const signer = decrypter.decrypt(val, null, verfer.transferable);\n            out.push([pubKey, signer]);\n        });\n        return out;\n    }\n    pinPris(pubKey, signer, encrypter) {\n        const cipher = encrypter.encrypt(null, signer);\n        this._pris.set(pubKey, cipher.qb64b);\n    }\n    putPris(pubKey, signer, encrypter) {\n        if (this._pris.has(pubKey)) {\n            return false;\n        }\n        const cipher = encrypter.encrypt(null, signer);\n        this._pris.set(pubKey, cipher.qb64b);\n        return true;\n    }\n    getPris(pubKey, decrypter) {\n        const val = this._pris.get(pubKey);\n        if (val == undefined) {\n            return undefined;\n        }\n        const verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: pubKey });\n        return decrypter.decrypt(val, null, verfer.transferable);\n    }\n    pinPths(pubKey, val) {\n        this._pths.set(pubKey, val);\n        return true;\n    }\n    putPths(pubKey, val) {\n        if (this._pths.has(pubKey)) {\n            return false;\n        }\n        this._pths.set(pubKey, val);\n        return true;\n    }\n    getPths(pubKey) {\n        return this._pths.get(pubKey);\n    }\n    remPris(pubKey) {\n        this._pris.delete(pubKey);\n    }\n    getPres(pre) {\n        return this._pres.get(pre);\n    }\n    pinPres(pre, val) {\n        this._pres.set(pre, val);\n        return true;\n    }\n    putPres(pre, val) {\n        if (this._pres.has(pre)) {\n            return false;\n        }\n        this._pres.set(pre, val);\n        return true;\n    }\n    getSits(keys) {\n        return this._sits.get(keys);\n    }\n    putSits(pre, val) {\n        if (this._sits.has(pre)) {\n            return false;\n        }\n        this._sits.set(pre, val);\n        return true;\n    }\n    pinSits(pre, val) {\n        this._sits.set(pre, val);\n        return true;\n    }\n    remSits(keys) {\n        return this._sits.delete(keys);\n    }\n    getPubs(keys) {\n        return this._pubs.get(keys);\n    }\n    putPubs(keys, data) {\n        if (this._pubs.has(keys)) {\n            return false;\n        }\n        this._pubs.set(keys, data);\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9tYW5hZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUEyQztBQUNBO0FBQ0E7QUFDTjtBQUNBO0FBQ0E7QUFDRjtBQUNMO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxzQkFBc0I7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNENBQUk7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0RBQWdELDhDQUFNO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsOENBQU0sR0FBRyx3Q0FBd0M7QUFDOUUsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBLDBCQUEwQiw4Q0FBTSxHQUFHLHdCQUF3QjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdELDhDQUFNO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELEtBQUs7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsOENBQU0sNkNBQTZDO0FBQ3BFLHVCQUF1Qiw4Q0FBTSxHQUFHLFlBQVksU0FBUyw4Q0FBTTtBQUMzRDtBQUNBLHFDQUFxQztBQUNyQztBQUNBLDJDQUEyQyw4Q0FBTSxHQUFHLFlBQVk7QUFDaEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLG9EQUFvRDtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSxjQUFjLDJDQUEyQztBQUN6RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLDRDQUFJO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMkNBQUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQ0FBMkMsMkNBQUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QiwyQ0FBQztBQUMxQjtBQUNBO0FBQ0Esd0VBQXdFLFVBQVU7QUFDbEY7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQ0FBc0Msb0RBQVMsR0FBRyxFQUFFLDJDQUFDO0FBQ3JELHFFQUFxRSwyQ0FBQztBQUN0RTtBQUNBLG1FQUFtRSxLQUFLO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsMkNBQUM7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVDQUF1QztBQUN2QywyQkFBMkI7QUFDM0I7QUFDQTtBQUNBLG9DQUFvQyxvREFBUyxHQUFHLEVBQUUsMkNBQUM7QUFDbkQ7QUFDQTtBQUNBLGNBQWMsd0NBQXdDLDhDQUFNLHVEQUF1RCw4Q0FBTSx1QkFBdUIsOENBQU0seUlBQXlJO0FBQy9SO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxRQUFRO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCw4Q0FBTTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsUUFBUTtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsOENBQU07QUFDdEQsaUVBQWlFLDRDQUFLLEdBQUcsYUFBYTtBQUN0RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsMkNBQUM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0RBQW9ELElBQUk7QUFDeEQ7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCxJQUFJO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1ELElBQUk7QUFDdkQ7QUFDQTtBQUNBLG1EQUFtRCxLQUFLO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxJQUFJO0FBQy9EO0FBQ0E7QUFDQSwyREFBMkQsS0FBSztBQUNoRTtBQUNBO0FBQ0E7QUFDQSwyREFBMkQsSUFBSTtBQUMvRDtBQUNBO0FBQ0EsMkRBQTJELEtBQUs7QUFDaEU7QUFDQTtBQUNBLDhEQUE4RCxLQUFLLGFBQWEsSUFBSTtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELEtBQUssYUFBYSxJQUFJO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsS0FBSyxLQUFLLEdBQUcsYUFBYSxJQUFJO0FBQzNGO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyQ0FBQztBQUNuQyx1REFBdUQsS0FBSyxhQUFhLElBQUk7QUFDN0U7QUFDQSxrQ0FBa0MsMkNBQUM7QUFDbkMsdURBQXVELElBQUk7QUFDM0Q7QUFDQTtBQUNBO0FBQ0EsY0FBYyw2Q0FBNkMsOENBQU0sdUJBQXVCLDhDQUFNLGdFQUFnRTtBQUM5SjtBQUNBO0FBQ0EsaUVBQWlFLElBQUk7QUFDckU7QUFDQTtBQUNBO0FBQ0EsaUVBQWlFLElBQUk7QUFDckU7QUFDQTtBQUNBLHFFQUFxRSxJQUFJO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSxJQUFJO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsOENBQU0sR0FBRyxXQUFXO0FBQ3JEO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQywyQ0FBQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxRQUFRO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLDRDQUFLLEdBQUcsYUFBYTtBQUNyRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxJQUFJO0FBQ3RFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHdHQUF3RztBQUN4SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJFQUEyRSxJQUFJO0FBQy9FO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLDhDQUFNLEdBQUcsV0FBVztBQUMzRDtBQUNBO0FBQ0EsMkVBQTJFLElBQUk7QUFDL0U7QUFDQSx1Q0FBdUMsOENBQU0sR0FBRyxpQkFBaUI7QUFDakU7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsWUFBWTtBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsWUFBWTtBQUN2RjtBQUNBLHVDQUF1Qyw4Q0FBTSxHQUFHLGlCQUFpQjtBQUNqRTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSx1REFBdUQsZ0JBQWdCLCtCQUErQixlQUFlO0FBQ3JIO0FBQ0E7QUFDQSx1REFBdUQsZ0JBQWdCLCtCQUErQixlQUFlO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsRUFBRTtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsRUFBRTtBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsOENBQU0sR0FBRyxjQUFjO0FBQ3REO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU0sR0FBRyxjQUFjO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvbWFuYWdlci5qcz8xN2JhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVuY3J5cHRlciB9IGZyb20gXCIuL2VuY3J5cHRlci5qc1wiO1xuaW1wb3J0IHsgRGVjcnlwdGVyIH0gZnJvbSBcIi4vZGVjcnlwdGVyLmpzXCI7XG5pbXBvcnQgeyBTYWx0ZXIsIFRpZXIgfSBmcm9tIFwiLi9zYWx0ZXIuanNcIjtcbmltcG9ydCB7IFNpZ25lciB9IGZyb20gXCIuL3NpZ25lci5qc1wiO1xuaW1wb3J0IHsgVmVyZmVyIH0gZnJvbSBcIi4vdmVyZmVyLmpzXCI7XG5pbXBvcnQgeyBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IERpZ2VyIH0gZnJvbSBcIi4vZGlnZXIuanNcIjtcbmltcG9ydCB7IGIgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG4vKipcbiAqIEtpbmRzIG9mIGtleSBwYWlyIGdlbmVyYXRpb24gYWxnb3JpdGhtcy5cbiAqIFNhbHR5IGlzIGRldGVybWluaXN0aWMgYmFzZWQgb24gYSBzYWx0IGFuZCBzdGVtLlxuICogUmFuZHkgaXMgcmFuZG9tLlxuICogR3JvdXAgaXMgYSBtdWx0aS1zaWduYXR1cmUgZ3JvdXAgYWxnb3JpdGhtIGluZGljYXRpbmcga2V5cyBhcmUgcmV0cmlldmVkIGZyb20gYSBncm91cCBtZW1iZXIgd2hpY2ggd2lsbCBiZSBlaXRoZXIgU2FsdHkgb3IgUmFuZHkuXG4gKiBFeHRlcm4gaXMgYW4gZXh0ZXJuYWwga2V5IHBhaXIgYWxnb3JpdGhtIGluZGljYXRpbmcga2V5cyBhcmUgcHJvdmlkZWQgYnkgYW4gZXh0ZXJuYWwgc291cmNlIHN1Y2ggYXMgYW4gSFNNLlxuICovXG5leHBvcnQgdmFyIEFsZ29zO1xuKGZ1bmN0aW9uIChBbGdvcykge1xuICAgIEFsZ29zW1wicmFuZHlcIl0gPSBcInJhbmR5XCI7XG4gICAgQWxnb3NbXCJzYWx0eVwiXSA9IFwic2FsdHlcIjtcbiAgICBBbGdvc1tcImdyb3VwXCJdID0gXCJncm91cFwiO1xuICAgIEFsZ29zW1wiZXh0ZXJuXCJdID0gXCJleHRlcm5cIjtcbn0pKEFsZ29zIHx8IChBbGdvcyA9IHt9KSk7XG4vKipcbiAqIExvdCAoc2V0KSBvZiBwdWJsaWMga2V5cyBhcyBhbiBvcmRlcmVkIGxpc3Qgd2l0aCBpbmRleGVzIGFuZCB0aGUgdGltZSBjcmVhdGVkLlxuICogSW5kZXhlcyByZWZlciB0byB0aGUgaW5kZXggb2YgdGhlIG9yZGVyZWQgc2VxdWVuY2Ugb2Yga2V5cyBpbiBhbiBlc3RhYmxpc2htZW50IGV2ZW50IChpbmNlcHRpb24gb3Igcm90YXRpb24pLlxuICogQXNzdW1lcyB0aGUgc2FtZSBsZW5ndGggZm9yIGVhY2ggc2V0IG9mIGtleXMgYWNyb3NzIGFsbCBQdWJMb3QgaW5zdGFuY2VzIHVzZWQgZm9yIGEgZ2l2ZW4gaWRlbnRpZmllci5cbiAqL1xuY2xhc3MgUHViTG90IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIExpc3Qgb2YgZnVsbHkgcXVhbGlmaWVkLCBCYXNlNjQgZW5jb2RlZCBwdWJsaWMga2V5cy4gRGVmYXVsdHMgdG8gZW1wdHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnB1YnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJvdGF0aW9uIGluZGV4OyBpbmRleCBvZiByb3RhdGlvbiAoZXN0IGV2ZW50KSB0aGF0IHVzZXMgdGhpcyBwdWJsaWMga2V5IHNldC5cbiAgICAgICAgICogVGhlIGluZGV4IG9mIHRoZSBrZXkgc2V0IGZvciBhbiBpbmNlcHRpb24gZXZlbnQgaXMgMC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucmlkeCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgaW5kZXg7IGluZGV4IG9mIHRoZSBzdGFydGluZyBrZXkgaW4gdGhlIGtleSBzZXQgZm9yIHRoaXMgbG90IGluIHNlcXVlbmNlXG4gICAgICAgICAqIHdpdGggcmVmZXJlbmNlIHRvIGFsbCBwdWJsaWMga2V5cyBmb3IgdGhlIGlkZW50aWZpZXIuXG4gICAgICAgICAqIEZvciBleGFtcGxlLCBpZiBlYWNoIHNldCAoUHViTG90LnB1YnMpIGhhcyAzIGtleXMgdGhlbiByaWR4IDIgaGFzIGtpZHggb2YgMiozID0gNi5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gMC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMua2lkeCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEYXRldGltZSBvZiB3aGVuIGtleSBzZXQgY3JlYXRlZCBmb3JtYXR0ZWQgYXMgYW4gSVNPIDg2MDEgY29tcGxpYW50IHN0cmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZHQgPSAnJztcbiAgICB9XG59XG4vKipcbiAqIFByZWZpeCdzIHB1YmxpYyBrZXkgc2l0dWF0aW9uIChzZXQgb2YgcHVibGljIGtleXMpLlxuICovXG5jbGFzcyBQcmVTaXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJldmlvdXMgcHVibG90OyBwcmV2aW91cyBwdWJsaWMga2V5IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMub2xkID0gbmV3IFB1YkxvdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTmV3LCBjdXJyZW50IHB1YmxvdDsgY3VycmVudCBwdWJsaWMga2V5IHNldC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubmV3ID0gbmV3IFB1YkxvdCgpO1xuICAgICAgICAvKipcbiAgICAgICAgICogTmV4dCBwdWJsaWMgcHVibG90XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm54dCA9IG5ldyBQdWJMb3QoKTtcbiAgICB9XG59XG4vKipcbiAqIElkZW50aWZpZXIgcHJlZml4IHBhcmFtZXRlcnMgZm9yIGNyZWF0aW5nIG5ldyBrZXkgcGFpcnMuXG4gKi9cbmNsYXNzIFByZVBybSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVmaXggaW5kZXggZm9yIHRoaXMga2V5cGFpciBzZXF1ZW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucGlkeCA9IDA7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZXkgZ2VuZXJhdGlvbiBhbGdvcml0aG0gdHlwZS5cbiAgICAgICAgICogRGVmYXVsdHMgdG8gU2FsdHkuXG4gICAgICAgICAqIFNhbHR5IGRlZmF1bHQgdXNlcyBpbmRpY2VzIGFuZCBzYWx0IHRvIGNyZWF0ZSBuZXcga2V5IHBhaXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbGdvID0gQWxnb3Muc2FsdHk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBVc2VkIGZvciBzYWx0eSBhbGdvLiBEZWZhdWx0cyB0byBlbXB0eS4gVW51c2VkIGZvciByYW5keSBhbGdvLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5zYWx0ID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWZhdWx0IHVuaXF1ZSBwYXRoIHByZWZpeCB1c2VkIGJ5IHRoZSBzYWx0eSBhbGdvIGR1cmluZyBrZXkgZ2VuZXJhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3RlbSA9ICcnO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VjdXJpdHkgdGllciBmb3Igc3RyZXRjaCBpbmRleDsgdXNlZCBieSB0aGUgc2FsdHkgYWxnby5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGllciA9ICcnO1xuICAgIH1cbn1cbi8qKlxuICogQW4gaWRlbnRpZmllciBwcmVmaXgncyBwdWJsaWMga2V5IHNldCAobGlzdCkgYXQgYSBnaXZlbiByb3RhdGlvbiBpbmRleCByaWR4LlxuICovXG5jbGFzcyBQdWJTZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogTGlzdCBvZiBmdWxseSBxdWFsaWZpZWQsIEJhc2U2NCBlbmNvZGVkIHB1YmxpYyBrZXlzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wdWJzID0gbmV3IEFycmF5KCk7XG4gICAgfVxufVxuLyoqXG4gKiBEZXNjcmliZXMgYSBwYXRoIHRvIGEgc3BlY2lmaWMgZGVyaXZlZCBrZXlwYWlyIGZvciBhIGdpdmVuIGlkZW50aWZpZXJcbiAqL1xuY2xhc3MgUHViUGF0aCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUaGUgcGF0aCB0byBhIHNwZWNpZmljIGtleXBhaXIuIFRvIGdlbmVyYXRlIGEga2V5cGFpciB5b3UgY29tYmluZSB0aGUgcGF0aCB3aXRoIHRoZSBzYWx0IGFuZCB0aWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5wYXRoID0gJyc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXJpdmF0aW9uIGNvZGUgaW5kaWNhdGluZyB0aGUga2luZCBvZiBjcnlwdG9ncmFwaGljIGtleXBhaXIgdG8gZ2VuZXJhdGUuIERlZmF1bHRzIHRvIEVkMjU1MTkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmNvZGUgPSAnJztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlY3VyaXR5IHRpZXIgdG8gdXNlIHRvIGdlbmVyYXRlIGEga2V5cGFpci4gRGVmYXVsdHMgdG8gaGlnaC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGllciA9IFRpZXIuaGlnaDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZsYWcgdG8gY29udHJvbCB3aGV0aGVyIHRvIGdlbmVyYXRlIGEgbG93IHNlY3VyaXR5LCB0ZW1wb3Jhcnkga2V5LiBVc2VkIGZvciBzcGVlZCBmb3IgdW5pdCB0ZXN0cy4gRG8gTk9UIHVzZSBmb3IgcHJvZHVjdGlvbiBpZGVudGlmaWVycy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudGVtcCA9IGZhbHNlO1xuICAgIH1cbn1cbmNsYXNzIEtleXMge1xuICAgIGNvbnN0cnVjdG9yKHNpZ25lcnMsIHBhdGhzKSB7XG4gICAgICAgIHRoaXMuX3NpZ25lcnMgPSBzaWduZXJzO1xuICAgICAgICBpZiAocGF0aHMgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmVycy5sZW5ndGggIT0gcGF0aHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJZiBwYXRocyBhcmUgcHJvdmlkZWQsIHRoZXkgbXVzdCBiZSB0aGUgc2FtZSBsZW5ndGggYXMgc2lnbmVycycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3BhdGhzID0gcGF0aHM7XG4gICAgfVxuICAgIGdldCBwYXRocygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BhdGhzO1xuICAgIH1cbiAgICBnZXQgc2lnbmVycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ25lcnM7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFJhbmR5Q3JlYXRvciB7XG4gICAgY3JlYXRlKGNvZGVzID0gdW5kZWZpbmVkLCBjb3VudCA9IDEsIGNvZGUgPSBNdHJEZXguRWQyNTUxOV9TZWVkLCB0cmFuc2ZlcmFibGUgPSB0cnVlKSB7XG4gICAgICAgIGNvbnN0IHNpZ25lcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKGNvZGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29kZXMgPSBuZXcgQXJyYXkoY291bnQpLmZpbGwoY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29kZXMuZm9yRWFjaChmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICAgICAgc2lnbmVycy5wdXNoKG5ldyBTaWduZXIoeyBjb2RlOiBjb2RlLCB0cmFuc2ZlcmFibGU6IHRyYW5zZmVyYWJsZSB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IEtleXMoc2lnbmVycyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVudXNlZCBmb3IgcmFuZG9tIGtleSBnZW5lcmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBzYWx0KCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVudXNlZCBmb3IgcmFuZG9tIGtleSBnZW5lcmF0aW9uLlxuICAgICAqL1xuICAgIGdldCBzdGVtKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVudXNlZCBmb3IgcmFuZG9tIGtleSBnZW5lcmF0aW9uLlxuICAgICAqL1xuICAgIGdldCB0aWVyKCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuLyoqXG4gKiBEZXRlcm1pbmlzdGljYWxseSBjcmVhdGVzIGEga2V5IHBhaXIgYmFzZWQgb24gY29tYmluaW5nIGEgc2FsdCB3aXRoIGEgcGF0aCBzdHJldGNoIGFsZ29yaXRobS5cbiAqIFRoZSBzYWx0IGlzIHJhbmRvbWl6ZWQgaWYgbm90IHByb3ZpZGVkLlxuICovXG5leHBvcnQgY2xhc3MgU2FsdHlDcmVhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihzYWx0ID0gdW5kZWZpbmVkLCB0aWVyID0gdW5kZWZpbmVkLCBzdGVtID0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuc2FsdGVyID0gbmV3IFNhbHRlcih7IHFiNjQ6IHNhbHQsIHRpZXI6IHRpZXIgfSk7XG4gICAgICAgIHRoaXMuX3N0ZW0gPSBzdGVtID09IHVuZGVmaW5lZCA/ICcnIDogc3RlbTtcbiAgICB9XG4gICAgZ2V0IHNhbHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNhbHRlci5xYjY0O1xuICAgIH1cbiAgICBnZXQgc3RlbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0ZW07XG4gICAgfVxuICAgIGdldCB0aWVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWx0ZXIudGllcjtcbiAgICB9XG4gICAgY3JlYXRlKGNvZGVzID0gdW5kZWZpbmVkLCBjb3VudCA9IDEsIGNvZGUgPSBNdHJEZXguRWQyNTUxOV9TZWVkLCB0cmFuc2ZlcmFibGUgPSB0cnVlLCBwaWR4ID0gMCwgcmlkeCA9IDAsIGtpZHggPSAwLCB0ZW1wID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2lnbmVycyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBjb25zdCBwYXRocyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoY29kZXMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb2RlcyA9IG5ldyBBcnJheShjb3VudCkuZmlsbChjb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjb2Rlcy5mb3JFYWNoKChjb2RlLCBpZHgpID0+IHtcbiAgICAgICAgICAgIC8vIFByZXZpb3VzIGRlZmluaXRpb24gb2YgcGF0aFxuICAgICAgICAgICAgLy8gbGV0IHBhdGggPSB0aGlzLnN0ZW0gKyBwaWR4LnRvU3RyaW5nKDE2KSArIHJpZHgudG9TdHJpbmcoMTYpICsgKGtpZHgraWR4KS50b1N0cmluZygxNilcbiAgICAgICAgICAgIGNvbnN0IHBhdGggPSB0aGlzLnN0ZW0gPT0gJydcbiAgICAgICAgICAgICAgICA/IHBpZHgudG9TdHJpbmcoMTYpXG4gICAgICAgICAgICAgICAgOiB0aGlzLnN0ZW0gKyByaWR4LnRvU3RyaW5nKDE2KSArIChraWR4ICsgaWR4KS50b1N0cmluZygxNik7XG4gICAgICAgICAgICBzaWduZXJzLnB1c2godGhpcy5zYWx0ZXIuc2lnbmVyKGNvZGUsIHRyYW5zZmVyYWJsZSwgcGF0aCwgdGhpcy50aWVyLCB0ZW1wKSk7XG4gICAgICAgICAgICBwYXRocy5wdXNoKHBhdGgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIG5ldyBLZXlzKHNpZ25lcnMsIHBhdGhzKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3JlYXRvcnkge1xuICAgIGNvbnN0cnVjdG9yKGFsZ28gPSBBbGdvcy5zYWx0eSkge1xuICAgICAgICBzd2l0Y2ggKGFsZ28pIHtcbiAgICAgICAgICAgIGNhc2UgQWxnb3MucmFuZHk6XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFrZSA9IHRoaXMuX21ha2VSYW5keTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgQWxnb3Muc2FsdHk6XG4gICAgICAgICAgICAgICAgdGhpcy5fbWFrZSA9IHRoaXMuX21ha2VTYWx0eTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bnN1cHBvcnRlZCBhbGdvPSR7YWxnb31gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtYWtlKC4uLmFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21ha2UoLi4uYXJncyk7XG4gICAgfVxuICAgIF9tYWtlUmFuZHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmFuZHlDcmVhdG9yKCk7XG4gICAgfVxuICAgIF9tYWtlU2FsdHkoLi4uYXJncykge1xuICAgICAgICByZXR1cm4gbmV3IFNhbHR5Q3JlYXRvciguLi5hcmdzKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gb3Blbk1hbmFnZXIocGFzc2NvZGUsIHNhbHQpIHtcbiAgICBpZiAocGFzc2NvZGUubGVuZ3RoIDwgMjEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdCcmFuIChwYXNzY29kZSBzZWVkIG1hdGVyaWFsKSB0b28gc2hvcnQuJyk7XG4gICAgfVxuICAgIGNvbnN0IGJyYW4gPSBNdHJEZXguU2FsdF8xMjggKyAnQScgKyBwYXNzY29kZS5zdWJzdHJpbmcoMCwgMjEpOyAvLyBxYjY0IHNhbHQgZm9yIHNlZWRcbiAgICBjb25zdCBzaWduZXIgPSBuZXcgU2FsdGVyKHsgcWI2NDogYnJhbiB9KS5zaWduZXIoTXRyRGV4LkVkMjU1MTlfU2VlZCwgZmFsc2UpO1xuICAgIGNvbnN0IHNlZWQgPSBzaWduZXIucWI2NDtcbiAgICBjb25zdCBhZWlkID0gc2lnbmVyLnZlcmZlci5xYjY0OyAvLyBsZXN0IGl0IHJlbW92ZSBlbmNyeXB0aW9uXG4gICAgbGV0IGFsZ287XG4gICAgY29uc3Qgc2FsdGVyID0gc2FsdCAhPSB1bmRlZmluZWQgPyBuZXcgU2FsdGVyKHsgcWI2NDogc2FsdCB9KSA6IHVuZGVmaW5lZDtcbiAgICBpZiAoc2FsdCAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgYWxnbyA9IEFsZ29zLnNhbHR5O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgYWxnbyA9IEFsZ29zLnJhbmR5O1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE1hbmFnZXIoeyBzZWVkOiBzZWVkLCBhZWlkOiBhZWlkLCBhbGdvOiBhbGdvLCBzYWx0ZXI6IHNhbHRlciB9KTtcbn1cbi8qKlxuICogTWFuYWdlcyBrZXkgcGFpciBjcmVhdGlvbiwgcmV0cmlldmFsLCBhbmQgbWVzc2FnZSBzaWduaW5nLlxuICovXG5leHBvcnQgY2xhc3MgTWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoYXJncykge1xuICAgICAgICBsZXQgeyBrcywgc2VlZCwgYWVpZCwgcGlkeCwgYWxnbywgc2FsdGVyLCB0aWVyIH0gPSBhcmdzO1xuICAgICAgICB0aGlzLl9rcyA9IGtzID09IHVuZGVmaW5lZCA/IG5ldyBLZWVwZXIoKSA6IGtzO1xuICAgICAgICB0aGlzLl9zZWVkID0gc2VlZDtcbiAgICAgICAgdGhpcy5fZW5jcnlwdGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9kZWNyeXB0ZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgIGFlaWQgPSBhZWlkID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IGFlaWQ7XG4gICAgICAgIHBpZHggPSBwaWR4ID09IHVuZGVmaW5lZCA/IDAgOiBwaWR4O1xuICAgICAgICBhbGdvID0gYWxnbyA9PSB1bmRlZmluZWQgPyBBbGdvcy5zYWx0eSA6IGFsZ287XG4gICAgICAgIGNvbnN0IHNhbHQgPSBzYWx0ZXIgPT09IG51bGwgfHwgc2FsdGVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzYWx0ZXIucWI2NDtcbiAgICAgICAgdGllciA9IHRpZXIgPT0gdW5kZWZpbmVkID8gVGllci5sb3cgOiB0aWVyO1xuICAgICAgICBpZiAodGhpcy5waWR4ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5waWR4ID0gcGlkeDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hbGdvID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5hbGdvID0gYWxnbztcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zYWx0ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zYWx0ID0gc2FsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy50aWVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy50aWVyID0gdGllcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5hZWlkID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVBZWlkKGFlaWQsIHRoaXMuX3NlZWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBrcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tzO1xuICAgIH1cbiAgICBnZXQgZW5jcnlwdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5jcnlwdGVyO1xuICAgIH1cbiAgICBnZXQgZGVjcnlwdGVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVjcnlwdGVyO1xuICAgIH1cbiAgICBnZXQgc2VlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIHFiNjQgYXV0aCBlbmNyeXB0IGlkIHByZWZpeFxuICAgICAqL1xuICAgIGdldCBhZWlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5rcy5nZXRHYmxzKCdhZWlkJyk7XG4gICAgfVxuICAgIGdldCBwaWR4KCkge1xuICAgICAgICBjb25zdCBwaWR4ID0gdGhpcy5rcy5nZXRHYmxzKCdwaWR4Jyk7XG4gICAgICAgIGlmIChwaWR4ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHBpZHgsIDE2KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBzZXQgcGlkeChwaWR4KSB7XG4gICAgICAgIHRoaXMua3MucGluR2JscygncGlkeCcsIHBpZHgudG9TdHJpbmcoMTYpKTtcbiAgICB9XG4gICAgZ2V0IHNhbHQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWNyeXB0ZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2FsdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHNhbHQgPSB0aGlzLmtzLmdldEdibHMoJ3NhbHQnKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWNyeXB0ZXIuZGVjcnlwdChiKHNhbHQpKS5xYjY0O1xuICAgICAgICB9XG4gICAgfVxuICAgIHNldCBzYWx0KHNhbHQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2VuY3J5cHRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhbHQgPSBzYWx0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2FsdCA9IHRoaXMuX2VuY3J5cHRlci5lbmNyeXB0KGIoc2FsdCkpLnFiNjQ7XG4gICAgICAgICAgICB0aGlzLmtzLnBpbkdibHMoJ3NhbHQnLCBzYWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgdGllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua3MuZ2V0R2JscygndGllcicpO1xuICAgIH1cbiAgICBzZXQgdGllcih0aWVyKSB7XG4gICAgICAgIHRoaXMua3MucGluR2JscygndGllcicsIHRpZXIpO1xuICAgIH1cbiAgICBnZXQgYWxnbygpIHtcbiAgICAgICAgY29uc3QgYSA9IHRoaXMua3MuZ2V0R2JscygnYWxnbycpO1xuICAgICAgICBjb25zdCB0YSA9IGE7XG4gICAgICAgIHJldHVybiBBbGdvc1t0YV07XG4gICAgfVxuICAgIHNldCBhbGdvKGFsZ28pIHtcbiAgICAgICAgdGhpcy5rcy5waW5HYmxzKCdhbGdvJywgYWxnbyk7XG4gICAgfVxuICAgIHVwZGF0ZUFlaWQoYWVpZCwgc2VlZCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh0aGlzLmFlaWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBzZWVkID0gYih0aGlzLl9zZWVkKTtcbiAgICAgICAgICAgIGlmICh0aGlzLl9zZWVkID09IHVuZGVmaW5lZCB8fCAhKChfYSA9IHRoaXMuX2VuY3J5cHRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZlcmlmeVNlZWQoc2VlZCkpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBMYXN0IHNlZWQgbWlzc2luZyBvciBwcm92aWRlZCBsYXN0IHNlZWQgXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwibm90IGFzc29jaWF0ZWQgd2l0aCBsYXN0IGFlaWQ9JHt0aGlzLmFlaWR9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhZWlkICE9ICcnICYmIGFlaWQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAoYWVpZCAhPSB0aGlzLmFlaWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbmNyeXB0ZXIgPSBuZXcgRW5jcnlwdGVyKHt9LCBiKGFlaWQpKTtcbiAgICAgICAgICAgICAgICBpZiAoc2VlZCA9PSB1bmRlZmluZWQgfHwgIXRoaXMuX2VuY3J5cHRlci52ZXJpZnlTZWVkKGIoc2VlZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VlZCBtaXNzaW5nIG9yIHByb3ZpZGVkIHNlZWQgbm90IGFzc29jaWF0ZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiICB3aXRoIHByb3ZpZGVkIGFlaWQ9JHthZWlkfS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hbGdvID09IEFsZ29zLnJhbmR5KSB7XG4gICAgICAgICAgICAvLyBVbmxpa2UgS0VSSXB5LCB3ZSBkb24ndCBzdXBwb3J0IHVuZW5jcnlwdGVkIHNlY3JldHNcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBNYW5hZ2VyIGNvbmZpZ3VyYXRpb24sIGVuY3J5cHRpb24gbXVzdCBiZSB1c2VkIHdpdGggUmFuZHkga2V5IGNyZWF0aW9uLicpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fZW5jcnlwdGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNhbHQgPSB0aGlzLnNhbHQ7XG4gICAgICAgIGlmIChzYWx0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5zYWx0ID0gc2FsdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fZGVjcnlwdGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBba2V5cywgZGF0YV0gb2YgdGhpcy5rcy5wcm1zRWxlbWVudHMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChkYXRhLnNhbHQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbHRlciA9IHRoaXMuX2RlY3J5cHRlci5kZWNyeXB0KGIoZGF0YS5zYWx0KSk7XG4gICAgICAgICAgICAgICAgICAgIGRhdGEuc2FsdCA9XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbmNyeXB0ZXIgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBzYWx0ZXIucWI2NFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGhpcy5fZW5jcnlwdGVyLmVuY3J5cHQobnVsbCwgc2FsdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5rcy5waW5Qcm1zKGtleXMsIGRhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgW3B1YktleSwgc2lnbmVyXSBvZiB0aGlzLmtzLnByaXNFbGVtZW50cyh0aGlzLl9kZWNyeXB0ZXIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5rcy5waW5QcmlzKHB1YktleSwgc2lnbmVyLCB0aGlzLl9lbmNyeXB0ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMua3MucGluR2JscygnYWVpZCcsIGFlaWQpOyAvLyBzZXQgYWVpZCBpbiBkYlxuICAgICAgICB0aGlzLl9zZWVkID0gc2VlZDsgLy8gc2V0IC5zZWVkIGluIG1lbW9yeVxuICAgICAgICAvLyB1cGRhdGUgLmRlY3J5cHRlclxuICAgICAgICB0aGlzLl9kZWNyeXB0ZXIgPVxuICAgICAgICAgICAgc2VlZCAhPSB1bmRlZmluZWQgPyBuZXcgRGVjcnlwdGVyKHt9LCBiKHNlZWQpKSA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaW5jZXB0KGFyZ3MpIHtcbiAgICAgICAgbGV0IHsgaWNvZGVzID0gdW5kZWZpbmVkLCBpY291bnQgPSAxLCBpY29kZSA9IE10ckRleC5FZDI1NTE5X1NlZWQsIG5jb2RlcyA9IHVuZGVmaW5lZCwgbmNvdW50ID0gMSwgbmNvZGUgPSBNdHJEZXguRWQyNTUxOV9TZWVkLCBkY29kZSA9IE10ckRleC5CbGFrZTNfMjU2LCBhbGdvID0gdW5kZWZpbmVkLCBzYWx0ID0gdW5kZWZpbmVkLCBzdGVtID0gdW5kZWZpbmVkLCB0aWVyID0gdW5kZWZpbmVkLCByb290ZWQgPSB0cnVlLCB0cmFuc2ZlcmFibGUgPSB0cnVlLCB0ZW1wID0gZmFsc2UsIH0gPSBhcmdzO1xuICAgICAgICBpZiAocm9vdGVkICYmIGFsZ28gPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBhbGdvID0gdGhpcy5hbGdvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyb290ZWQgJiYgc2FsdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHNhbHQgPSB0aGlzLnNhbHQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJvb3RlZCAmJiB0aWVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGllciA9IHRoaXMudGllcjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwaWR4ID0gdGhpcy5waWR4O1xuICAgICAgICBjb25zdCByaWR4ID0gMDtcbiAgICAgICAgY29uc3Qga2lkeCA9IDA7XG4gICAgICAgIGNvbnN0IGNyZWF0b3IgPSBuZXcgQ3JlYXRvcnkoYWxnbykubWFrZShzYWx0LCB0aWVyLCBzdGVtKTtcbiAgICAgICAgaWYgKGljb2RlcyA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChpY291bnQgPCAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGljb3VudD0ke2ljb3VudH0gbXVzdCBiZSA+PSAwLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWNvZGVzID0gbmV3IEFycmF5KGljb3VudCkuZmlsbChpY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaWtleXMgPSBjcmVhdG9yLmNyZWF0ZShpY29kZXMsIDAsIE10ckRleC5FZDI1NTE5X1NlZWQsIHRyYW5zZmVyYWJsZSwgcGlkeCwgcmlkeCwga2lkeCwgdGVtcCk7XG4gICAgICAgIGNvbnN0IHZlcmZlcnMgPSBBcnJheS5mcm9tKGlrZXlzLnNpZ25lcnMsIChzaWduZXIpID0+IHNpZ25lci52ZXJmZXIpO1xuICAgICAgICBpZiAobmNvZGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG5jb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgbmNvdW50PSR7bmNvdW50fSBtdXN0IGJlID49IDAuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuY29kZXMgPSBuZXcgQXJyYXkobmNvdW50KS5maWxsKG5jb2RlKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBua2V5cyA9IGNyZWF0b3IuY3JlYXRlKG5jb2RlcywgMCwgTXRyRGV4LkVkMjU1MTlfU2VlZCwgdHJhbnNmZXJhYmxlLCBwaWR4LCByaWR4ICsgMSwga2lkeCArIGljb2Rlcy5sZW5ndGgsIHRlbXApO1xuICAgICAgICBjb25zdCBkaWdlcnMgPSBBcnJheS5mcm9tKG5rZXlzLnNpZ25lcnMsIChzaWduZXIpID0+IG5ldyBEaWdlcih7IGNvZGU6IGRjb2RlIH0sIHNpZ25lci52ZXJmZXIucWI2NGIpKTtcbiAgICAgICAgY29uc3QgcHAgPSBuZXcgUHJlUHJtKCk7XG4gICAgICAgIHBwLnBpZHggPSBwaWR4O1xuICAgICAgICBwcC5hbGdvID0gYWxnbztcbiAgICAgICAgcHAuc2FsdCA9XG4gICAgICAgICAgICBjcmVhdG9yLnNhbHQubGVuZ3RoID09IDAgfHwgdGhpcy5lbmNyeXB0ZXIgPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyAnJ1xuICAgICAgICAgICAgICAgIDogdGhpcy5lbmNyeXB0ZXIuZW5jcnlwdChiKGNyZWF0b3Iuc2FsdCkpLnFiNjQ7XG4gICAgICAgIHBwLnN0ZW0gPSBjcmVhdG9yLnN0ZW07XG4gICAgICAgIHBwLnRpZXIgPSBjcmVhdG9yLnRpZXI7XG4gICAgICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoKS50b1N0cmluZygpO1xuICAgICAgICBjb25zdCBudyA9IG5ldyBQdWJMb3QoKTtcbiAgICAgICAgbncucHVicyA9IEFycmF5LmZyb20odmVyZmVycywgKHZlcmZlcikgPT4gdmVyZmVyLnFiNjQpO1xuICAgICAgICBudy5yaWR4ID0gcmlkeDtcbiAgICAgICAgbncua2lkeCA9IGtpZHg7XG4gICAgICAgIG53LmR0ID0gZHQ7XG4gICAgICAgIGNvbnN0IG50ID0gbmV3IFB1YkxvdCgpO1xuICAgICAgICBudC5wdWJzID0gQXJyYXkuZnJvbShua2V5cy5zaWduZXJzLCAoc2lnbmVyKSA9PiBzaWduZXIudmVyZmVyLnFiNjQpO1xuICAgICAgICBudC5yaWR4ID0gcmlkeCArIDE7XG4gICAgICAgIG50LmtpZHggPSBraWR4ICsgaWNvZGVzLmxlbmd0aDtcbiAgICAgICAgbnQuZHQgPSBkdDtcbiAgICAgICAgY29uc3QgcHMgPSBuZXcgUHJlU2l0KCk7XG4gICAgICAgIHBzLm5ldyA9IG53O1xuICAgICAgICBwcy5ueHQgPSBudDtcbiAgICAgICAgY29uc3QgcHJlID0gdmVyZmVyc1swXS5xYjY0O1xuICAgICAgICBpZiAoIXRoaXMua3MucHV0UHJlcyhwcmUsIHZlcmZlcnNbMF0ucWI2NGIpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEFscmVhZHkgaW5jZXB0ZWQgcHJlPSR7cHJlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMua3MucHV0UHJtcyhwcmUsIHBwKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbHJlYWR5IGluY2VwdGVkIHBybSBmb3IgcHJlPSR7cHJlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBpZHggPSBwaWR4ICsgMTtcbiAgICAgICAgaWYgKCF0aGlzLmtzLnB1dFNpdHMocHJlLCBwcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWxyZWFkeSBpbmNlcHRlZCBzaXQgZm9yIHByZT0ke3ByZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW5jcnlwdGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gT25seSBzdG9yZSBlbmNyeXB0ZWQga2V5cyBpZiB3ZSBoYXZlIGFuIGVuY3J5cHRlciwgb3RoZXJ3aXNlIHJlZ2VuZXJhdGVcbiAgICAgICAgICAgIGlrZXlzLnNpZ25lcnMuZm9yRWFjaCgoc2lnbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5rcy5wdXRQcmlzKHNpZ25lci52ZXJmZXIucWI2NCwgc2lnbmVyLCB0aGlzLmVuY3J5cHRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5rZXlzLnNpZ25lcnMuZm9yRWFjaCgoc2lnbmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5rcy5wdXRQcmlzKHNpZ25lci52ZXJmZXIucWI2NCwgc2lnbmVyLCB0aGlzLmVuY3J5cHRlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLl9lbmNyeXB0ZXIgPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBpa2V5cy5wYXRocyAhPSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIG5rZXlzLnBhdGhzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWtleXMucGF0aHMuZm9yRWFjaCgocGF0aCwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVyID0gaWtleXMuc2lnbmVyc1tpZHhdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBwdCA9IG5ldyBQdWJQYXRoKCk7XG4gICAgICAgICAgICAgICAgcHB0LnBhdGggPSBwYXRoO1xuICAgICAgICAgICAgICAgIHBwdC5jb2RlID0gaWNvZGVzW2lkeF07XG4gICAgICAgICAgICAgICAgcHB0LnRpZXIgPSBwcC50aWVyO1xuICAgICAgICAgICAgICAgIHBwdC50ZW1wID0gdGVtcDtcbiAgICAgICAgICAgICAgICB0aGlzLmtzLnB1dFB0aHMoc2lnbmVyLnZlcmZlci5xYjY0LCBwcHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBua2V5cy5wYXRocy5mb3JFYWNoKChwYXRoLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduZXIgPSBua2V5cy5zaWduZXJzW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgcHB0ID0gbmV3IFB1YlBhdGgoKTtcbiAgICAgICAgICAgICAgICBwcHQucGF0aCA9IHBhdGg7XG4gICAgICAgICAgICAgICAgcHB0LmNvZGUgPSBuY29kZXNbaWR4XTtcbiAgICAgICAgICAgICAgICBwcHQudGllciA9IHBwLnRpZXI7XG4gICAgICAgICAgICAgICAgcHB0LnRlbXAgPSB0ZW1wO1xuICAgICAgICAgICAgICAgIHRoaXMua3MucHV0UHRocyhzaWduZXIudmVyZmVyLnFiNjQsIHBwdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCBjb25maWd1cmF0aW9uLCByYW5keSBrZXlzIHdpdGhvdXQgZW5jcnlwdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHB1YlNldCA9IG5ldyBQdWJTZXQoKTtcbiAgICAgICAgcHViU2V0LnB1YnMgPSBwcy5uZXcucHVicztcbiAgICAgICAgdGhpcy5rcy5wdXRQdWJzKHJpS2V5KHByZSwgcmlkeCksIHB1YlNldCk7XG4gICAgICAgIGNvbnN0IG54dFB1YlNldCA9IG5ldyBQdWJTZXQoKTtcbiAgICAgICAgbnh0UHViU2V0LnB1YnMgPSBwcy5ueHQucHVicztcbiAgICAgICAgdGhpcy5rcy5wdXRQdWJzKHJpS2V5KHByZSwgcmlkeCArIDEpLCBueHRQdWJTZXQpO1xuICAgICAgICByZXR1cm4gW3ZlcmZlcnMsIGRpZ2Vyc107XG4gICAgfVxuICAgIG1vdmUob2xkLCBnbnUpIHtcbiAgICAgICAgaWYgKG9sZCA9PSBnbnUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5rcy5nZXRQcmVzKG9sZCkgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbmV4aXN0ZW50IG9sZCBwcmU9JHtvbGR9LCBub3RoaW5nIHRvIGFzc2lnbi5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5rcy5nZXRQcmVzKGdudSkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByZWV4aXN0ZW50IG5ldyBwcmU9JHtnbnV9IG1heSBub3QgY2xvYmJlci5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGRwcm0gPSB0aGlzLmtzLmdldFBybXMob2xkKTtcbiAgICAgICAgaWYgKG9sZHBybSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9uZXhpc3RlbnQgb2xkIHBybSBmb3IgcHJlPSR7b2xkfSwgbm90aGluZyB0byBtb3ZlLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmtzLmdldFBybXMoZ251KSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJlZXhpc3RlbnQgbmV3IHBybSBmb3IgcHJlPSR7Z251fSBtYXkgbm90IGNsb2JiZXIuYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb2xkc2l0ID0gdGhpcy5rcy5nZXRTaXRzKG9sZCk7XG4gICAgICAgIGlmIChvbGRzaXQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbmV4aXN0ZW50IG9sZCBzaXQgZm9yIHByZT0ke29sZH0sIG5vdGhpbmcgdG8gbW92ZS5gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5rcy5nZXRTaXRzKGdudSkgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByZWV4aXN0ZW50IG5ldyBzaXQgZm9yIHByZT0ke2dudX0gbWF5IG5vdCBjbG9iYmVyLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5rcy5wdXRQcm1zKGdudSwgb2xkcHJtKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgbW92aW5nIHBybSBmcm9tIG9sZCBwcmU9JHtvbGR9IHRvIG5ldyBwcmU9JHtnbnV9LmApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5rcy5yZW1Qcm1zKG9sZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmtzLnB1dFNpdHMoZ251LCBvbGRzaXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCBtb3Zpbmcgc2l0IGZyb20gb2xkIHByZT0ke29sZH0gdG8gbmV3IHByZT0ke2dudX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmtzLnJlbVNpdHMob2xkKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBwbCA9IHRoaXMua3MuZ2V0UHVicyhyaUtleShvbGQsIGkpKTtcbiAgICAgICAgICAgIGlmIChwbCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5rcy5wdXRQdWJzKHJpS2V5KGdudSwgaSksIHBsKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIG1vdmluZyBwdWJzIGF0IHByZT0ke29sZH0gcmk9JHtpfSB0byBuZXcgcHJlPSR7Z251fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaSA9IGkgKyAxO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5rcy5waW5QcmVzKG9sZCwgYihnbnUpKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgYXNzaWdpbmcgbmV3IHByZT0ke2dudX0gdG8gb2xkIHByZT0ke29sZH0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmtzLnB1dFByZXMoZ251LCBiKGdudSkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCBhc3NpZ2luZyBuZXcgcHJlPSR7Z251fS5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByb3RhdGUoYXJncykge1xuICAgICAgICBsZXQgeyBwcmUsIG5jb2RlcyA9IHVuZGVmaW5lZCwgbmNvdW50ID0gMSwgbmNvZGUgPSBNdHJEZXguRWQyNTUxOV9TZWVkLCBkY29kZSA9IE10ckRleC5CbGFrZTNfMjU2LCB0cmFuc2ZlcmFibGUgPSB0cnVlLCB0ZW1wID0gZmFsc2UsIGVyYXNlID0gdHJ1ZSwgfSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0IHBwID0gdGhpcy5rcy5nZXRQcm1zKHByZSk7XG4gICAgICAgIGlmIChwcCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQXR0ZW1wdCB0byByb3RhdGUgbm9uZXhpc3RlbnQgcHJlPSR7cHJlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcyA9IHRoaXMua3MuZ2V0U2l0cyhwcmUpO1xuICAgICAgICBpZiAocHMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEF0dGVtcHQgdG8gcm90YXRlIG5vbmV4aXN0ZW50IHByZT0ke3ByZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBzLm54dC5wdWJzID09IHVuZGVmaW5lZCB8fCBwcy5ueHQucHVicy5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBdHRlbXB0IHRvIHJvdGF0ZSBub250cmFuc2ZlcmFibGUgcHJlPSR7cHJlfS5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvbGQgPSBwcy5vbGQ7XG4gICAgICAgIHBzLm9sZCA9IHBzLm5ldztcbiAgICAgICAgcHMubmV3ID0gcHMubnh0O1xuICAgICAgICBpZiAodGhpcy5hZWlkICE9IHVuZGVmaW5lZCAmJiB0aGlzLmRlY3J5cHRlciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVW5hdXRob3JpemVkIGRlY3J5cHRpb24gYXR0ZW1wdC4gIEFlaWQgYnV0IG5vIGRlY3J5cHRlci4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2ZXJmZXJzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHBzLm5ldy5wdWJzLmZvckVhY2goKHB1YikgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVjcnlwdGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpZ25lciA9IHRoaXMua3MuZ2V0UHJpcyhwdWIsIHRoaXMuZGVjcnlwdGVyKTtcbiAgICAgICAgICAgICAgICBpZiAoc2lnbmVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcHJpa2V5IGluIGRiIGZvciBwdWJrZXk9JHtwdWJ9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZlcmZlcnMucHVzaChzaWduZXIudmVyZmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNob3VsZCB3ZSByZWdlbmVyYXRlIGZyb20gc2FsdCBoZXJlIHNpbmNlIHRoaXMuZGVjcnlwdG9yIGlzIHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgIHZlcmZlcnMucHVzaChuZXcgVmVyZmVyKHsgcWI2NDogcHViIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBzYWx0ID0gcHAuc2FsdDtcbiAgICAgICAgaWYgKHNhbHQgIT0gdW5kZWZpbmVkICYmIHNhbHQgIT0gJycpIHtcbiAgICAgICAgICAgIC8vIElmIHlvdSBwcm92ZGVkIGEgU2FsdCBmb3IgYW4gQUlEIGJ1dCBkb24ndCBoYXZlIGVuY3J5cHRpb24sIHBpdGNoIGEgZml0XG4gICAgICAgICAgICBpZiAodGhpcy5kZWNyeXB0ZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGNvbmZpZ3VyYXRpb246IEFJRCBzYWx0IHdpdGggbm8gZW5jcnlwdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2FsdCA9IHRoaXMuZGVjcnlwdGVyLmRlY3J5cHQoYihzYWx0KSkucWI2NDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNhbHQgPSB0aGlzLnNhbHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY3JlYXRvciA9IG5ldyBDcmVhdG9yeShwcC5hbGdvKS5tYWtlKHNhbHQsIHBwLnRpZXIsIHBwLnN0ZW0pO1xuICAgICAgICBpZiAobmNvZGVzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKG5jb3VudCA8IDApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY291bnQ9JHtuY291bnR9IG11c3QgYmUgPj0gMGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmNvZGVzID0gbmV3IEFycmF5KG5jb3VudCkuZmlsbChuY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGlkeCA9IHBwLnBpZHg7XG4gICAgICAgIGNvbnN0IHJpZHggPSBwcy5uZXcucmlkeCArIDE7XG4gICAgICAgIGNvbnN0IGtpZHggPSBwcy5ueHQua2lkeCArIHBzLm5ldy5wdWJzLmxlbmd0aDtcbiAgICAgICAgY29uc3Qga2V5cyA9IGNyZWF0b3IuY3JlYXRlKG5jb2RlcywgMCwgJycsIHRyYW5zZmVyYWJsZSwgcGlkeCwgcmlkeCwga2lkeCwgdGVtcCk7XG4gICAgICAgIGNvbnN0IGRpZ2VycyA9IEFycmF5LmZyb20oa2V5cy5zaWduZXJzLCAoc2lnbmVyKSA9PiBuZXcgRGlnZXIoeyBjb2RlOiBkY29kZSB9LCBzaWduZXIudmVyZmVyLnFiNjRiKSk7XG4gICAgICAgIGNvbnN0IGR0ID0gbmV3IERhdGUoKS50b1N0cmluZygpO1xuICAgICAgICBwcy5ueHQgPSBuZXcgUHViTG90KCk7XG4gICAgICAgIHBzLm54dC5wdWJzID0gQXJyYXkuZnJvbShrZXlzLnNpZ25lcnMsIChzaWduZXIpID0+IHNpZ25lci52ZXJmZXIucWI2NCk7XG4gICAgICAgIHBzLm54dC5yaWR4ID0gcmlkeDtcbiAgICAgICAgcHMubnh0LmtpZHggPSBraWR4O1xuICAgICAgICBwcy5ueHQuZHQgPSBkdDtcbiAgICAgICAgaWYgKCF0aGlzLmtzLnBpblNpdHMocHJlLCBwcykpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgUHJvYmxlbSB1cGRhdGluZyBwdWJzaXQgZGIgZm9yIHByZT0ke3ByZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZW5jcnlwdGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gT25seSBzdG9yZSBlbmNyeXB0ZWQga2V5cyBpZiB3ZSBoYXZlIGFuIGVuY3J5cHRlciwgb3RoZXJ3aXNlIHJlZ2VuZXJhdGVcbiAgICAgICAgICAgIGtleXMuc2lnbmVycy5mb3JFYWNoKChzaWduZXIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmtzLnB1dFByaXMoc2lnbmVyLnZlcmZlci5xYjY0LCBzaWduZXIsIHRoaXMuZW5jcnlwdGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuX2VuY3J5cHRlciA9PSB1bmRlZmluZWQgJiYga2V5cy5wYXRocyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGtleXMucGF0aHMuZm9yRWFjaCgocGF0aCwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVyID0ga2V5cy5zaWduZXJzW2lkeF07XG4gICAgICAgICAgICAgICAgY29uc3QgcHB0ID0gbmV3IFB1YlBhdGgoKTtcbiAgICAgICAgICAgICAgICBwcHQucGF0aCA9IHBhdGg7XG4gICAgICAgICAgICAgICAgcHB0LnRpZXIgPSBwcC50aWVyO1xuICAgICAgICAgICAgICAgIHBwdC50ZW1wID0gdGVtcDtcbiAgICAgICAgICAgICAgICB0aGlzLmtzLnB1dFB0aHMoc2lnbmVyLnZlcmZlci5xYjY0LCBwcHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY29uZmlndXJhdGlvbiwgcmFuZHkga2V5cyB3aXRob3V0IGVuY3J5cHRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdQcyA9IG5ldyBQdWJTZXQoKTtcbiAgICAgICAgbmV3UHMucHVicyA9IHBzLm54dC5wdWJzO1xuICAgICAgICB0aGlzLmtzLnB1dFB1YnMocmlLZXkocHJlLCBwcy5ueHQucmlkeCksIG5ld1BzKTtcbiAgICAgICAgaWYgKGVyYXNlKSB7XG4gICAgICAgICAgICBvbGQucHVicy5mb3JFYWNoKChwdWIpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmtzLnJlbVByaXMocHViKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbdmVyZmVycywgZGlnZXJzXTtcbiAgICB9XG4gICAgc2lnbihhcmdzKSB7XG4gICAgICAgIGNvbnN0IHsgc2VyLCBwdWJzID0gdW5kZWZpbmVkLCB2ZXJmZXJzID0gdW5kZWZpbmVkLCBpbmRleGVkID0gdHJ1ZSwgaW5kaWNlcyA9IHVuZGVmaW5lZCwgb25kaWNlcyA9IHVuZGVmaW5lZCwgfSA9IGFyZ3M7XG4gICAgICAgIGNvbnN0IHNpZ25lcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKHB1YnMgPT0gdW5kZWZpbmVkICYmIHZlcmZlcnMgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3B1YnMgb3IgdmVyZmVycyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwdWJzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWVpZCAhPSB1bmRlZmluZWQgJiYgdGhpcy5kZWNyeXB0ZXIgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdVbmF1dGhvcml6ZWQgZGVjcnlwdGlvbiBhdHRlbXB0LiAgQWVpZCBidXQgbm8gZGVjcnlwdGVyLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHVicy5mb3JFYWNoKChwdWIpID0+IHtcbiAgICAgICAgICAgICAgICAvL0lmIG5vIGRlY3J5cHRlciB0aGVuIGdldCBTYWx0eVN0YXRlIGFuZCByZWdlbmVyYXRlIHByaWtleVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmRlY3J5cHRlciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2lnbmVyID0gdGhpcy5rcy5nZXRQcmlzKHB1YiwgdGhpcy5kZWNyeXB0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2lnbmVyID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHByaWtleSBpbiBkYiBmb3IgcHVia2V5PSR7cHVifWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lcnMucHVzaChzaWduZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmVyZmVyID0gbmV3IFZlcmZlcih7IHFiNjQ6IHB1YiB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHB0ID0gdGhpcy5rcy5nZXRQdGhzKHB1Yik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcHQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgcHJpa2V5IGluIGRiIGZvciBwdWJrZXk9JHtwdWJ9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdGVyID0gbmV3IFNhbHRlcih7IHFiNjQ6IHRoaXMuc2FsdCB9KTtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmVycy5wdXNoKHNhbHRlci5zaWduZXIocHB0LmNvZGUsIHZlcmZlci50cmFuc2ZlcmFibGUsIHBwdC5wYXRoLCBwcHQudGllciwgcHB0LnRlbXApKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHZlcmZlcnMuZm9yRWFjaCgodmVyZmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZGVjcnlwdGVyICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzaWduZXIgPSB0aGlzLmtzLmdldFByaXModmVyZmVyLnFiNjQsIHRoaXMuZGVjcnlwdGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpZ25lciA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBwcmlrZXkgaW4gZGIgZm9yIHB1YmtleT0ke3ZlcmZlci5xYjY0fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lcnMucHVzaChzaWduZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcHB0ID0gdGhpcy5rcy5nZXRQdGhzKHZlcmZlci5xYjY0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBwdCA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzc2luZyBwcmlrZXkgaW4gZGIgZm9yIHB1YmtleT0ke3ZlcmZlci5xYjY0fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNhbHRlciA9IG5ldyBTYWx0ZXIoeyBxYjY0OiB0aGlzLnNhbHQgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNpZ25lcnMucHVzaChzYWx0ZXIuc2lnbmVyKHBwdC5jb2RlLCB2ZXJmZXIudHJhbnNmZXJhYmxlLCBwcHQucGF0aCwgcHB0LnRpZXIsIHBwdC50ZW1wKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGljZXMgIT0gdW5kZWZpbmVkICYmIGluZGljZXMubGVuZ3RoICE9IHNpZ25lcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc21hdGNoIGluZGljZXMgbGVuZ3RoPSR7aW5kaWNlcy5sZW5ndGh9IGFuZCByZXN1bHRhbnQgc2lnbmVycyBsZW5ndGg9JHtzaWduZXJzLmxlbmd0aH1gKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob25kaWNlcyAhPSB1bmRlZmluZWQgJiYgb25kaWNlcy5sZW5ndGggIT0gc2lnbmVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzbWF0Y2ggb25kaWNlcyBsZW5ndGg9JHtvbmRpY2VzLmxlbmd0aH0gYW5kIHJlc3VsdGFudCBzaWduZXJzIGxlbmd0aD0ke3NpZ25lcnMubGVuZ3RofWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzaWdlcnMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgIHNpZ25lcnMuZm9yRWFjaCgoc2lnbmVyLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaTtcbiAgICAgICAgICAgICAgICBpZiAoaW5kaWNlcyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaSA9IGluZGljZXNbaWR4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc2lnbmluZyBpbmRleCA9ICR7aX0sIG5vdCB3aG9sZSBudW1iZXIuYCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBpZHg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBvO1xuICAgICAgICAgICAgICAgIGlmIChvbmRpY2VzICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvID0gb25kaWNlc1tpZHhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobyA8PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgb3RoZXIgc2lnbmluZyBpbmRleCA9IHtvfSwgbm90IE5vbmUgb3Igbm90IHdob2xlIG51bWJlci5gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IGk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IG9ubHkgPSBvID09IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBzaWdlcnMucHVzaChzaWduZXIuc2lnbihzZXIsIGksIG9ubHksIG8pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHNpZ2VycztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGNpZ2FycyA9IG5ldyBBcnJheSgpO1xuICAgICAgICAgICAgc2lnbmVycy5mb3JFYWNoKChzaWduZXIpID0+IHtcbiAgICAgICAgICAgICAgICBjaWdhcnMucHVzaChzaWduZXIuc2lnbihzZXIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGNpZ2FycztcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiByaUtleShwcmUsIHJpZHgpIHtcbiAgICByZXR1cm4gcHJlICsgJy4nICsgcmlkeC50b1N0cmluZygxNikucGFkU3RhcnQoMzIsICcwJyk7XG59XG4vKipcbiAqIEtlZXBlciBzZXRzIHVwIG5hbWVkIHN1YiBkYXRhYmFzZXMgZm9yIGtleSBwYWlyIHN0b3JhZ2UgKEtTKS5cbiAqIE1ldGhvZHMgcHJvdmlkZSBrZXkgcGFpciBjcmVhdGlvbiwgc3RvcmFnZSwgYW5kIGRhdGEgc2lnbmluZy5cbiAqIEluLW1lbW9yeSB0ZXN0IGltcGxlbWVudGF0aW9uIG9mIEtlZXBlciBrZXkgc3RvcmVcbiAqL1xuY2xhc3MgS2VlcGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fZ2JscyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcHJpcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcHRocyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcHJlcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcHJtcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fc2l0cyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcHVicyA9IG5ldyBNYXAoKTtcbiAgICB9XG4gICAgZ2V0R2JscyhrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dibHMuZ2V0KGtleSk7XG4gICAgfVxuICAgIHBpbkdibHMoa2V5LCB2YWwpIHtcbiAgICAgICAgdGhpcy5fZ2Jscy5zZXQoa2V5LCB2YWwpO1xuICAgIH1cbiAgICBwcm1zRWxlbWVudHMoKSB7XG4gICAgICAgIGNvbnN0IG91dCA9IG5ldyBBcnJheSgpO1xuICAgICAgICB0aGlzLl9wcm1zLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIG91dC5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBnZXRQcm1zKGtleXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3BybXMuZ2V0KGtleXMpO1xuICAgIH1cbiAgICBwaW5Qcm1zKGtleXMsIGRhdGEpIHtcbiAgICAgICAgdGhpcy5fcHJtcy5zZXQoa2V5cywgZGF0YSk7XG4gICAgfVxuICAgIHB1dFBybXMoa2V5cywgZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fcHJtcy5oYXMoa2V5cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wcm1zLnNldChrZXlzLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJlbVBybXMoa2V5cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJtcy5kZWxldGUoa2V5cyk7XG4gICAgfVxuICAgIHByaXNFbGVtZW50cyhkZWNyeXB0ZXIpIHtcbiAgICAgICAgY29uc3Qgb3V0ID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRoaXMuX3ByaXMuZm9yRWFjaChmdW5jdGlvbiAodmFsLCBwdWJLZXkpIHtcbiAgICAgICAgICAgIGNvbnN0IHZlcmZlciA9IG5ldyBWZXJmZXIoeyBxYjY0OiBwdWJLZXkgfSk7XG4gICAgICAgICAgICBjb25zdCBzaWduZXIgPSBkZWNyeXB0ZXIuZGVjcnlwdCh2YWwsIG51bGwsIHZlcmZlci50cmFuc2ZlcmFibGUpO1xuICAgICAgICAgICAgb3V0LnB1c2goW3B1YktleSwgc2lnbmVyXSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH1cbiAgICBwaW5QcmlzKHB1YktleSwgc2lnbmVyLCBlbmNyeXB0ZXIpIHtcbiAgICAgICAgY29uc3QgY2lwaGVyID0gZW5jcnlwdGVyLmVuY3J5cHQobnVsbCwgc2lnbmVyKTtcbiAgICAgICAgdGhpcy5fcHJpcy5zZXQocHViS2V5LCBjaXBoZXIucWI2NGIpO1xuICAgIH1cbiAgICBwdXRQcmlzKHB1YktleSwgc2lnbmVyLCBlbmNyeXB0ZXIpIHtcbiAgICAgICAgaWYgKHRoaXMuX3ByaXMuaGFzKHB1YktleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaXBoZXIgPSBlbmNyeXB0ZXIuZW5jcnlwdChudWxsLCBzaWduZXIpO1xuICAgICAgICB0aGlzLl9wcmlzLnNldChwdWJLZXksIGNpcGhlci5xYjY0Yik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRQcmlzKHB1YktleSwgZGVjcnlwdGVyKSB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHRoaXMuX3ByaXMuZ2V0KHB1YktleSk7XG4gICAgICAgIGlmICh2YWwgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZlcmZlciA9IG5ldyBWZXJmZXIoeyBxYjY0OiBwdWJLZXkgfSk7XG4gICAgICAgIHJldHVybiBkZWNyeXB0ZXIuZGVjcnlwdCh2YWwsIG51bGwsIHZlcmZlci50cmFuc2ZlcmFibGUpO1xuICAgIH1cbiAgICBwaW5QdGhzKHB1YktleSwgdmFsKSB7XG4gICAgICAgIHRoaXMuX3B0aHMuc2V0KHB1YktleSwgdmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHB1dFB0aHMocHViS2V5LCB2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3B0aHMuaGFzKHB1YktleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wdGhzLnNldChwdWJLZXksIHZhbCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBnZXRQdGhzKHB1YktleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHRocy5nZXQocHViS2V5KTtcbiAgICB9XG4gICAgcmVtUHJpcyhwdWJLZXkpIHtcbiAgICAgICAgdGhpcy5fcHJpcy5kZWxldGUocHViS2V5KTtcbiAgICB9XG4gICAgZ2V0UHJlcyhwcmUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ByZXMuZ2V0KHByZSk7XG4gICAgfVxuICAgIHBpblByZXMocHJlLCB2YWwpIHtcbiAgICAgICAgdGhpcy5fcHJlcy5zZXQocHJlLCB2YWwpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcHV0UHJlcyhwcmUsIHZhbCkge1xuICAgICAgICBpZiAodGhpcy5fcHJlcy5oYXMocHJlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3ByZXMuc2V0KHByZSwgdmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGdldFNpdHMoa2V5cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l0cy5nZXQoa2V5cyk7XG4gICAgfVxuICAgIHB1dFNpdHMocHJlLCB2YWwpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NpdHMuaGFzKHByZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zaXRzLnNldChwcmUsIHZhbCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBwaW5TaXRzKHByZSwgdmFsKSB7XG4gICAgICAgIHRoaXMuX3NpdHMuc2V0KHByZSwgdmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJlbVNpdHMoa2V5cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l0cy5kZWxldGUoa2V5cyk7XG4gICAgfVxuICAgIGdldFB1YnMoa2V5cykge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHVicy5nZXQoa2V5cyk7XG4gICAgfVxuICAgIHB1dFB1YnMoa2V5cywgZGF0YSkge1xuICAgICAgICBpZiAodGhpcy5fcHVicy5oYXMoa2V5cykpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wdWJzLnNldChrZXlzLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/manager.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/matter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BexCodex: () => (/* binding */ BexCodex),\n/* harmony export */   BexDex: () => (/* binding */ BexDex),\n/* harmony export */   Codex: () => (/* binding */ Codex),\n/* harmony export */   DigiCodex: () => (/* binding */ DigiCodex),\n/* harmony export */   DigiDex: () => (/* binding */ DigiDex),\n/* harmony export */   LargeVrzDex: () => (/* binding */ LargeVrzDex),\n/* harmony export */   Matter: () => (/* binding */ Matter),\n/* harmony export */   MatterCodex: () => (/* binding */ MatterCodex),\n/* harmony export */   MtrDex: () => (/* binding */ MtrDex),\n/* harmony export */   NonTransCodex: () => (/* binding */ NonTransCodex),\n/* harmony export */   NonTransDex: () => (/* binding */ NonTransDex),\n/* harmony export */   NumCodex: () => (/* binding */ NumCodex),\n/* harmony export */   NumDex: () => (/* binding */ NumDex),\n/* harmony export */   Sizage: () => (/* binding */ Sizage),\n/* harmony export */   SmallVrzDex: () => (/* binding */ SmallVrzDex)\n/* harmony export */ });\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _base64_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./base64.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/base64.js\");\n\n\n\n\nclass Codex {\n    has(prop) {\n        const m = new Map(Array.from(Object.entries(this), (v) => [v[1], v[0]]));\n        return m.has(prop);\n    }\n}\nclass MatterCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Ed25519_Seed = 'A'; // Ed25519 256 bit random seed for private key\n        this.Ed25519N = 'B'; // Ed25519 verification key non-transferable, basic derivation.\n        this.X25519 = 'C'; // X25519 public encryption key, converted from Ed25519 or Ed25519N.\n        this.Ed25519 = 'D'; // Ed25519 verification key basic derivation\n        this.Blake3_256 = 'E'; // Blake3 256 bit digest self-addressing derivation.\n        this.SHA3_256 = 'H'; // SHA3 256 bit digest self-addressing derivation.\n        this.SHA2_256 = 'I'; // SHA2 256 bit digest self-addressing derivation.\n        this.ECDSA_256k1_Seed = 'J'; // ECDSA secp256k1 256 bit random Seed for private key\n        this.X25519_Private = 'O'; // X25519 private decryption key converted from Ed25519\n        this.X25519_Cipher_Seed = 'P'; // X25519 124 char b64 Cipher of 44 char qb64 Seed\n        this.ECDSA_256r1_Seed = 'Q'; // ECDSA secp256r1 256 bit random Seed for private key\n        this.Salt_128 = '0A'; // 128 bit random salt or 128 bit number (see Huge)\n        this.Ed25519_Sig = '0B'; // Ed25519 signature.\n        this.ECDSA_256k1_Sig = '0C'; // ECDSA secp256k1 signature.\n        this.ECDSA_256r1_Sig = '0I'; // ECDSA secp256r1 signature.\n        this.StrB64_L0 = '4A'; // String Base64 Only Lead Size 0\n        this.StrB64_L1 = '5A'; // String Base64 Only Lead Size 1\n        this.StrB64_L2 = '6A'; // String Base64 Only Lead Size 2\n        this.ECDSA_256k1N = '1AAA'; // ECDSA secp256k1 verification key non-transferable, basic derivation.\n        this.ECDSA_256k1 = '1AAB'; // ECDSA public verification or encryption key, basic derivation\n        this.X25519_Cipher_Salt = '1AAH'; // X25519 100 char b64 Cipher of 24 char qb64 Salt\n        this.ECDSA_256r1N = '1AAI'; // ECDSA secp256r1 verification key non-transferable, basic derivation.\n        this.ECDSA_256r1 = '1AAJ'; // ECDSA secp256r1 verification or encryption key, basic derivation\n        this.StrB64_Big_L0 = '7AAA'; // String Base64 Only Big Lead Size 0\n        this.StrB64_Big_L1 = '8AAA'; // String Base64 Only Big Lead Size 1\n        this.StrB64_Big_L2 = '9AAA'; // String Base64 Only Big Lead Size 2\n    }\n}\nconst MtrDex = new MatterCodex();\nclass NonTransCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Ed25519N = 'B'; // Ed25519 verification key non-transferable, basic derivation.\n        this.ECDSA_256k1N = '1AAA'; // ECDSA secp256k1 verification key non-transferable, basic derivation.\n        this.Ed448N = '1AAC'; // Ed448 non-transferable prefix public signing verification key. Basic derivation.\n        this.ECDSA_256r1N = '1AAI'; // ECDSA secp256r1 verification key non-transferable, basic derivation.\n    }\n}\nconst NonTransDex = new NonTransCodex();\nclass DigiCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Blake3_256 = 'E'; // Blake3 256 bit digest self-addressing derivation.\n        this.Blake2b_256 = 'F'; // Blake2b 256 bit digest self-addressing derivation.\n        this.Blake2s_256 = 'G'; // Blake2s 256 bit digest self-addressing derivation.\n        this.SHA3_256 = 'H'; // SHA3 256 bit digest self-addressing derivation.\n        this.SHA2_256 = 'I'; // SHA2 256 bit digest self-addressing derivation.\n        this.Blake3_512 = '0D'; // Blake3 512 bit digest self-addressing derivation.\n        this.Blake2b_512 = '0E'; // Blake2b 512 bit digest self-addressing derivation.\n        this.SHA3_512 = '0F'; // SHA3 512 bit digest self-addressing derivation.\n        this.SHA2_512 = '0G'; // SHA2 512 bit digest self-addressing derivation.\n    }\n}\nconst DigiDex = new DigiCodex();\nclass NumCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Short = 'M'; // Short 2 byte b2 number\n        this.Long = '0H'; // Long 4 byte b2 number\n        this.Big = 'N'; // Big 8 byte b2 number\n        this.Huge = '0A'; // Huge 16 byte b2 number (same as Salt_128)\n    }\n}\nconst NumDex = new NumCodex();\nclass BexCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.StrB64_L0 = '4A'; // String Base64 Only Leader Size 0\n        this.StrB64_L1 = '5A'; // String Base64 Only Leader Size 1\n        this.StrB64_L2 = '6A'; // String Base64 Only Leader Size 2\n        this.StrB64_Big_L0 = '7AAA'; // String Base64 Only Big Leader Size 0\n        this.StrB64_Big_L1 = '8AAA'; // String Base64 Only Big Leader Size 1\n        this.StrB64_Big_L2 = '9AAA'; // String Base64 Only Big Leader Size 2\n    }\n}\nconst BexDex = new BexCodex();\nclass SmallVarRawSizeCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Lead0 = '4'; // First Selector Character for all ls == 0 codes\n        this.Lead1 = '5'; // First Selector Character for all ls == 1 codes\n        this.Lead2 = '6'; // First Selector Character for all ls == 2 codes\n    }\n}\nconst SmallVrzDex = new SmallVarRawSizeCodex();\nclass LargeVarRawSizeCodex extends Codex {\n    constructor() {\n        super(...arguments);\n        this.Lead0_Big = '7'; // First Selector Character for all ls == 0 codes\n        this.Lead1_Big = '8'; // First Selector Character for all ls == 1 codes\n        this.Lead2_Big = '9'; // First Selector Character for all ls == 2 codes\n    }\n}\nconst LargeVrzDex = new LargeVarRawSizeCodex();\nclass Sizage {\n    constructor(hs, ss, fs, ls) {\n        this.hs = hs;\n        this.ss = ss;\n        this.fs = fs;\n        this.ls = ls;\n    }\n}\nclass Matter {\n    constructor({ raw, code = MtrDex.Ed25519N, qb64b, qb64, qb2, rize, }) {\n        this._code = '';\n        this._size = -1;\n        this._raw = new Uint8Array(0);\n        let size = -1;\n        if (raw != undefined) {\n            if (code.length == 0) {\n                throw new Error('Improper initialization need either (raw and code) or qb64b or qb64 or qb2.');\n            }\n            if (SmallVrzDex.has(code[0]) || LargeVrzDex.has(code[0])) {\n                if (rize !== undefined) {\n                    if (rize < 0)\n                        throw new Error(`missing var raw size for code=${code}`);\n                }\n                else {\n                    rize = raw.length;\n                }\n                const ls = (3 - (rize % 3)) % 3; // calc actual lead (pad) size\n                size = Math.floor((rize + ls) / 3); // calculate value of size in triplets\n                if (SmallVrzDex.has(code[0])) {\n                    if (size <= 64 ** 2 - 1) {\n                        const hs = 2;\n                        const s = Object.values(SmallVrzDex)[ls];\n                        code = `${s}${code.substring(1, hs)}`;\n                    }\n                    else if (size <= 64 ** 4 - 1) {\n                        const hs = 4;\n                        const s = Object.values(LargeVrzDex)[ls];\n                        code = `${s}${'AAAA'.substring(0, hs - 2)}${code[1]}`;\n                    }\n                    else {\n                        throw new Error(`Unsupported raw size for code=${code}`);\n                    }\n                }\n                else {\n                    if (size <= 64 ** 4 - 1) {\n                        const hs = 4;\n                        const s = Object.values(LargeVrzDex)[ls];\n                        code = `${s}${code.substring(1, hs)}`;\n                    }\n                    else {\n                        throw new Error(`Unsupported raw size for code=${code}`);\n                    }\n                }\n            }\n            else {\n                const sizage = Matter.Sizes.get(code);\n                if (sizage.fs == -1) {\n                    // invalid\n                    throw new Error(`Unsupported variable size code=${code}`);\n                }\n                rize = Matter._rawSize(code);\n            }\n            raw = raw.slice(0, rize); // copy only exact size from raw stream\n            if (raw.length != rize) {\n                // forbids shorter\n                throw new Error(`Not enougth raw bytes for code=${code} expected ${rize} got ${raw.length}.`);\n            }\n            this._code = code; // hard value part of code\n            this._size = size; // soft value part of code in int\n            this._raw = raw; // crypto ops require bytes not bytearray\n        }\n        else if (qb64 !== undefined) {\n            this._exfil(qb64);\n        }\n        else if (qb64b !== undefined) {\n            const qb64 = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.d)(qb64b);\n            this._exfil(qb64);\n        }\n        else if (qb2 !== undefined) {\n            this._bexfil(qb2);\n        }\n        else {\n            throw new _kering_js__WEBPACK_IMPORTED_MODULE_0__.EmptyMaterialError('EmptyMaterialError');\n        }\n    }\n    get code() {\n        return this._code;\n    }\n    get size() {\n        return this._size;\n    }\n    get raw() {\n        return this._raw;\n    }\n    get qb64() {\n        return this._infil();\n    }\n    get qb64b() {\n        return (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.b)(this.qb64);\n    }\n    get transferable() {\n        return !NonTransDex.has(this.code);\n    }\n    get digestive() {\n        return DigiDex.has(this.code);\n    }\n    static _rawSize(code) {\n        const sizage = this.Sizes.get(code); // get sizes\n        const cs = sizage.hs + sizage.ss; // both hard + soft code size\n        if (sizage.fs === -1) {\n            throw Error(`Non-fixed raw size code ${code}.`);\n        }\n        return Math.floor(((sizage.fs - cs) * 3) / 4) - sizage.ls;\n    }\n    static _leadSize(code) {\n        const sizage = this.Sizes.get(code);\n        return sizage.ls;\n    }\n    get both() {\n        const sizage = Matter.Sizes.get(this.code);\n        return `${this.code}${(0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(this.size, sizage.ss)}`;\n    }\n    _infil() {\n        const code = this.code;\n        const size = this.size;\n        const raw = this.raw;\n        const ps = (3 - (raw.length % 3)) % 3; // pad size chars or lead size bytes\n        const sizage = Matter.Sizes.get(code);\n        if (sizage.fs === undefined) {\n            // Variable size code, NOT SUPPORTED\n            const cs = sizage.hs + sizage.ss;\n            if (cs % 4) {\n                throw new Error(`Whole code size not multiple of 4 for variable length material. cs=${cs}`);\n            }\n            if (size < 0 || size > 64 ** sizage.ss - 1) {\n                throw new Error(`Invalid size=${size} for code=${code}.`);\n            }\n            const both = `${code}${(0,_core_js__WEBPACK_IMPORTED_MODULE_1__.intToB64)(size, sizage.ss)}`;\n            if (both.length % 4 !== ps - sizage.ls) {\n                throw new Error(`Invalid code=${both} for converted raw pad size=${ps}.`);\n            }\n            const bytes = new Uint8Array(sizage.ls + raw.length);\n            for (let i = 0; i < sizage.ls; i++) {\n                bytes[i] = 0;\n            }\n            for (let i = 0; i < raw.length; i++) {\n                const odx = i + ps;\n                bytes[odx] = raw[i];\n            }\n            return both + (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64Url)(bytes);\n        }\n        else {\n            const both = code;\n            const cs = both.length;\n            if (cs % 4 != ps - sizage.ls) {\n                // adjusted pad given lead bytes\n                throw new Error(`Invalid code=${both} for converted raw pad size=${ps}, ${raw.length}.`);\n            }\n            // prepad, convert, and replace upfront\n            // when fixed and ls != 0 then cs % 4 is zero and ps==ls\n            // otherwise  fixed and ls == 0 then cs % 4 == ps\n            const bytes = new Uint8Array(ps + raw.length);\n            for (let i = 0; i < ps; i++) {\n                bytes[i] = 0;\n            }\n            for (let i = 0; i < raw.length; i++) {\n                const odx = i + ps;\n                bytes[odx] = raw[i];\n            }\n            return both + (0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.encodeBase64Url)(bytes).slice(cs % 4);\n        }\n    }\n    _exfil(qb64) {\n        if (qb64.length == 0) {\n            throw new Error('Empty Material');\n        }\n        const first = qb64[0];\n        if (!Array.from(Matter.Hards.keys()).includes(first)) {\n            throw new Error(`Unexpected code ${first}`);\n        }\n        const hs = Matter.Hards.get(first);\n        if (qb64.length < hs) {\n            throw new Error(`Shortage Error`);\n        }\n        const hard = qb64.slice(0, hs);\n        if (!Array.from(Matter.Sizes.keys()).includes(hard)) {\n            throw new Error(`Unsupported code ${hard}`);\n        }\n        const sizage = Matter.Sizes.get(hard);\n        const cs = sizage.hs + sizage.ss;\n        let size = -1;\n        if (sizage.fs == -1) {\n            // Variable size code, Not supported\n            throw new Error('Variable size codes not supported yet');\n        }\n        else {\n            size = sizage.fs;\n        }\n        if (qb64.length < sizage.fs) {\n            throw new Error(`Need ${sizage.fs - qb64.length} more chars.`);\n        }\n        qb64 = qb64.slice(0, sizage.fs);\n        const ps = cs % 4;\n        const pbs = 2 * (ps == 0 ? sizage.ls : ps);\n        let raw;\n        if (ps != 0) {\n            const base = new Array(ps + 1).join('A') + qb64.slice(cs);\n            const paw = Uint8Array.from((0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64Url)(base)); // decode base to leave prepadded raw\n            const pi = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.readInt)(paw.subarray(0, ps)); // prepad as int\n            if (pi & (2 ** pbs - 1)) {\n                // masked pad bits non-zero\n                throw new Error(`Non zeroed prepad bits = {pi & (2 ** pbs - 1 ):<06b} in {qb64b[cs:cs+1]}.`);\n            }\n            raw = paw.subarray(ps); // strip off ps prepad paw bytes\n        }\n        else {\n            const base = qb64.slice(cs);\n            const paw = Uint8Array.from((0,_base64_js__WEBPACK_IMPORTED_MODULE_2__.decodeBase64Url)(base));\n            const li = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.readInt)(paw.subarray(0, sizage.ls));\n            if (li != 0) {\n                if (li == 1) {\n                    throw new Error(`Non zeroed lead byte = 0x{li:02x}.`);\n                }\n                else {\n                    throw new Error(`Non zeroed lead bytes = 0x{li:04x}`);\n                }\n            }\n            raw = paw.subarray(sizage.ls);\n        }\n        this._code = hard; // hard only\n        this._size = size;\n        this._raw = Uint8Array.from(raw); // ensure bytes so immutable and for crypto ops\n    }\n    _bexfil(qb2) {\n        throw new Error(`qb2 not yet supported: ${qb2}`);\n    }\n}\nMatter.Sizes = new Map(Object.entries({\n    A: new Sizage(1, 0, 44, 0),\n    B: new Sizage(1, 0, 44, 0),\n    C: new Sizage(1, 0, 44, 0),\n    D: new Sizage(1, 0, 44, 0),\n    E: new Sizage(1, 0, 44, 0),\n    F: new Sizage(1, 0, 44, 0),\n    G: new Sizage(1, 0, 44, 0),\n    H: new Sizage(1, 0, 44, 0),\n    I: new Sizage(1, 0, 44, 0),\n    J: new Sizage(1, 0, 44, 0),\n    K: new Sizage(1, 0, 76, 0),\n    L: new Sizage(1, 0, 76, 0),\n    M: new Sizage(1, 0, 4, 0),\n    N: new Sizage(1, 0, 12, 0),\n    O: new Sizage(1, 0, 44, 0),\n    P: new Sizage(1, 0, 124, 0),\n    Q: new Sizage(1, 0, 44, 0),\n    '0A': new Sizage(2, 0, 24, 0),\n    '0B': new Sizage(2, 0, 88, 0),\n    '0C': new Sizage(2, 0, 88, 0),\n    '0D': new Sizage(2, 0, 88, 0),\n    '0E': new Sizage(2, 0, 88, 0),\n    '0F': new Sizage(2, 0, 88, 0),\n    '0G': new Sizage(2, 0, 88, 0),\n    '0H': new Sizage(2, 0, 8, 0),\n    '0I': new Sizage(2, 0, 88, 0),\n    '1AAA': new Sizage(4, 0, 48, 0),\n    '1AAB': new Sizage(4, 0, 48, 0),\n    '1AAC': new Sizage(4, 0, 80, 0),\n    '1AAD': new Sizage(4, 0, 80, 0),\n    '1AAE': new Sizage(4, 0, 56, 0),\n    '1AAF': new Sizage(4, 0, 8, 0),\n    '1AAG': new Sizage(4, 0, 36, 0),\n    '1AAH': new Sizage(4, 0, 100, 0),\n    '1AAI': new Sizage(4, 0, 48, 0),\n    '1AAJ': new Sizage(4, 0, 48, 0),\n    '2AAA': new Sizage(4, 0, 8, 1),\n    '3AAA': new Sizage(4, 0, 8, 2),\n    '4A': new Sizage(2, 2, undefined, 0),\n    '5A': new Sizage(2, 2, undefined, 1),\n    '6A': new Sizage(2, 2, undefined, 2),\n    '7AAA': new Sizage(4, 4, undefined, 0),\n    '8AAA': new Sizage(4, 4, undefined, 1),\n    '9AAA': new Sizage(4, 4, undefined, 2),\n    '4B': new Sizage(2, 2, undefined, 0),\n    '5B': new Sizage(2, 2, undefined, 1),\n    '6B': new Sizage(2, 2, undefined, 2),\n    '7AAB': new Sizage(4, 4, undefined, 0),\n    '8AAB': new Sizage(4, 4, undefined, 1),\n    '9AAB': new Sizage(4, 4, undefined, 2),\n}));\nMatter.Hards = new Map([\n    ['A', 1],\n    ['B', 1],\n    ['C', 1],\n    ['D', 1],\n    ['E', 1],\n    ['F', 1],\n    ['G', 1],\n    ['H', 1],\n    ['I', 1],\n    ['J', 1],\n    ['K', 1],\n    ['L', 1],\n    ['M', 1],\n    ['N', 1],\n    ['O', 1],\n    ['P', 1],\n    ['Q', 1],\n    ['R', 1],\n    ['S', 1],\n    ['T', 1],\n    ['U', 1],\n    ['V', 1],\n    ['W', 1],\n    ['X', 1],\n    ['Y', 1],\n    ['Z', 1],\n    ['a', 1],\n    ['b', 1],\n    ['c', 1],\n    ['d', 1],\n    ['e', 1],\n    ['f', 1],\n    ['g', 1],\n    ['h', 1],\n    ['i', 1],\n    ['j', 1],\n    ['k', 1],\n    ['l', 1],\n    ['m', 1],\n    ['n', 1],\n    ['o', 1],\n    ['p', 1],\n    ['q', 1],\n    ['r', 1],\n    ['s', 1],\n    ['t', 1],\n    ['u', 1],\n    ['v', 1],\n    ['w', 1],\n    ['x', 1],\n    ['y', 1],\n    ['z', 1],\n    ['0', 2],\n    ['1', 4],\n    ['2', 4],\n    ['3', 4],\n    ['4', 2],\n    ['5', 2],\n    ['6', 2],\n    ['7', 4],\n    ['8', 4],\n    ['9', 4],\n]);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9tYXR0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ0g7QUFDYjtBQUM4QjtBQUN4RDtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakMsNkJBQTZCO0FBQzdCLDJCQUEyQjtBQUMzQiw0QkFBNEI7QUFDNUIsK0JBQStCO0FBQy9CLDZCQUE2QjtBQUM3Qiw2QkFBNkI7QUFDN0IscUNBQXFDO0FBQ3JDLG1DQUFtQztBQUNuQyx1Q0FBdUM7QUFDdkMscUNBQXFDO0FBQ3JDLDhCQUE4QjtBQUM5QixpQ0FBaUM7QUFDakMscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQywrQkFBK0I7QUFDL0IsK0JBQStCO0FBQy9CLCtCQUErQjtBQUMvQixvQ0FBb0M7QUFDcEMsbUNBQW1DO0FBQ25DLDBDQUEwQztBQUMxQyxvQ0FBb0M7QUFDcEMsbUNBQW1DO0FBQ25DLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckMscUNBQXFDO0FBQ3JDO0FBQ0E7QUFDTztBQUNBO0FBQ1A7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixvQ0FBb0M7QUFDcEMsOEJBQThCO0FBQzlCLG9DQUFvQztBQUNwQztBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQSwrQkFBK0I7QUFDL0IsZ0NBQWdDO0FBQ2hDLGdDQUFnQztBQUNoQyw2QkFBNkI7QUFDN0IsNkJBQTZCO0FBQzdCLGdDQUFnQztBQUNoQyxpQ0FBaUM7QUFDakMsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ087QUFDQTtBQUNQO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsMEJBQTBCO0FBQzFCLHdCQUF3QjtBQUN4QiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0IscUNBQXFDO0FBQ3JDLHFDQUFxQztBQUNyQyxxQ0FBcUM7QUFDckM7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCLDBCQUEwQjtBQUMxQiwwQkFBMEI7QUFDMUI7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLDhCQUE4QjtBQUM5Qiw4QkFBOEI7QUFDOUI7QUFDQTtBQUNPO0FBQ0E7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1Asa0JBQWtCLHNEQUFzRDtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLEtBQUs7QUFDOUU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQ7QUFDakQsb0RBQW9EO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLEVBQUUsRUFBRSxzQkFBc0I7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsRUFBRSxFQUFFLDRCQUE0QixFQUFFLFFBQVE7QUFDNUU7QUFDQTtBQUNBLHlFQUF5RSxLQUFLO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxFQUFFLEVBQUUsc0JBQXNCO0FBQzVEO0FBQ0E7QUFDQSx5RUFBeUUsS0FBSztBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNFQUFzRSxLQUFLO0FBQzNFO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0Esa0VBQWtFLE1BQU0sV0FBVyxNQUFNLE1BQU0sV0FBVztBQUMxRztBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0I7QUFDL0IsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsMkNBQUM7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLDBEQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDJDQUFDO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0MsMENBQTBDO0FBQzFDO0FBQ0EsbURBQW1ELEtBQUs7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLFVBQVUsRUFBRSxrREFBUSx1QkFBdUI7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLEdBQUc7QUFDekc7QUFDQTtBQUNBLGdEQUFnRCxNQUFNLFdBQVcsS0FBSztBQUN0RTtBQUNBLDRCQUE0QixLQUFLLEVBQUUsa0RBQVEsa0JBQWtCO0FBQzdEO0FBQ0EsZ0RBQWdELE1BQU0sNkJBQTZCLEdBQUc7QUFDdEY7QUFDQTtBQUNBLDRCQUE0QixlQUFlO0FBQzNDO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsTUFBTSw2QkFBNkIsR0FBRyxJQUFJLFdBQVc7QUFDckc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixRQUFRO0FBQ3BDO0FBQ0E7QUFDQSw0QkFBNEIsZ0JBQWdCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwyREFBZTtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0NBQStDLE1BQU07QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsS0FBSztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MseUJBQXlCO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUFlLFNBQVM7QUFDaEUsdUJBQXVCLGlEQUFPLHVCQUF1QjtBQUNyRDtBQUNBO0FBQ0EsMkRBQTJELDJCQUEyQixJQUFJLGVBQWU7QUFDekc7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLDJEQUFlO0FBQ3ZELHVCQUF1QixpREFBTztBQUM5QjtBQUNBO0FBQ0EsK0RBQStELE9BQU87QUFDdEU7QUFDQTtBQUNBLGdFQUFnRSxPQUFPO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCO0FBQzNCO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQSxrREFBa0QsSUFBSTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvbWF0dGVyLmpzPzg5NDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1wdHlNYXRlcmlhbEVycm9yIH0gZnJvbSBcIi4va2VyaW5nLmpzXCI7XG5pbXBvcnQgeyBpbnRUb0I2NCwgcmVhZEludCB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7IGIsIGQgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBkZWNvZGVCYXNlNjRVcmwsIGVuY29kZUJhc2U2NFVybCB9IGZyb20gXCIuL2Jhc2U2NC5qc1wiO1xuZXhwb3J0IGNsYXNzIENvZGV4IHtcbiAgICBoYXMocHJvcCkge1xuICAgICAgICBjb25zdCBtID0gbmV3IE1hcChBcnJheS5mcm9tKE9iamVjdC5lbnRyaWVzKHRoaXMpLCAodikgPT4gW3ZbMV0sIHZbMF1dKSk7XG4gICAgICAgIHJldHVybiBtLmhhcyhwcm9wKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgTWF0dGVyQ29kZXggZXh0ZW5kcyBDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuRWQyNTUxOV9TZWVkID0gJ0EnOyAvLyBFZDI1NTE5IDI1NiBiaXQgcmFuZG9tIHNlZWQgZm9yIHByaXZhdGUga2V5XG4gICAgICAgIHRoaXMuRWQyNTUxOU4gPSAnQic7IC8vIEVkMjU1MTkgdmVyaWZpY2F0aW9uIGtleSBub24tdHJhbnNmZXJhYmxlLCBiYXNpYyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLlgyNTUxOSA9ICdDJzsgLy8gWDI1NTE5IHB1YmxpYyBlbmNyeXB0aW9uIGtleSwgY29udmVydGVkIGZyb20gRWQyNTUxOSBvciBFZDI1NTE5Ti5cbiAgICAgICAgdGhpcy5FZDI1NTE5ID0gJ0QnOyAvLyBFZDI1NTE5IHZlcmlmaWNhdGlvbiBrZXkgYmFzaWMgZGVyaXZhdGlvblxuICAgICAgICB0aGlzLkJsYWtlM18yNTYgPSAnRSc7IC8vIEJsYWtlMyAyNTYgYml0IGRpZ2VzdCBzZWxmLWFkZHJlc3NpbmcgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5TSEEzXzI1NiA9ICdIJzsgLy8gU0hBMyAyNTYgYml0IGRpZ2VzdCBzZWxmLWFkZHJlc3NpbmcgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5TSEEyXzI1NiA9ICdJJzsgLy8gU0hBMiAyNTYgYml0IGRpZ2VzdCBzZWxmLWFkZHJlc3NpbmcgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMV9TZWVkID0gJ0onOyAvLyBFQ0RTQSBzZWNwMjU2azEgMjU2IGJpdCByYW5kb20gU2VlZCBmb3IgcHJpdmF0ZSBrZXlcbiAgICAgICAgdGhpcy5YMjU1MTlfUHJpdmF0ZSA9ICdPJzsgLy8gWDI1NTE5IHByaXZhdGUgZGVjcnlwdGlvbiBrZXkgY29udmVydGVkIGZyb20gRWQyNTUxOVxuICAgICAgICB0aGlzLlgyNTUxOV9DaXBoZXJfU2VlZCA9ICdQJzsgLy8gWDI1NTE5IDEyNCBjaGFyIGI2NCBDaXBoZXIgb2YgNDQgY2hhciBxYjY0IFNlZWRcbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMV9TZWVkID0gJ1EnOyAvLyBFQ0RTQSBzZWNwMjU2cjEgMjU2IGJpdCByYW5kb20gU2VlZCBmb3IgcHJpdmF0ZSBrZXlcbiAgICAgICAgdGhpcy5TYWx0XzEyOCA9ICcwQSc7IC8vIDEyOCBiaXQgcmFuZG9tIHNhbHQgb3IgMTI4IGJpdCBudW1iZXIgKHNlZSBIdWdlKVxuICAgICAgICB0aGlzLkVkMjU1MTlfU2lnID0gJzBCJzsgLy8gRWQyNTUxOSBzaWduYXR1cmUuXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFfU2lnID0gJzBDJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHNpZ25hdHVyZS5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMV9TaWcgPSAnMEknOyAvLyBFQ0RTQSBzZWNwMjU2cjEgc2lnbmF0dXJlLlxuICAgICAgICB0aGlzLlN0ckI2NF9MMCA9ICc0QSc7IC8vIFN0cmluZyBCYXNlNjQgT25seSBMZWFkIFNpemUgMFxuICAgICAgICB0aGlzLlN0ckI2NF9MMSA9ICc1QSc7IC8vIFN0cmluZyBCYXNlNjQgT25seSBMZWFkIFNpemUgMVxuICAgICAgICB0aGlzLlN0ckI2NF9MMiA9ICc2QSc7IC8vIFN0cmluZyBCYXNlNjQgT25seSBMZWFkIFNpemUgMlxuICAgICAgICB0aGlzLkVDRFNBXzI1NmsxTiA9ICcxQUFBJzsgLy8gRUNEU0Egc2VjcDI1NmsxIHZlcmlmaWNhdGlvbiBrZXkgbm9uLXRyYW5zZmVyYWJsZSwgYmFzaWMgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZrMSA9ICcxQUFCJzsgLy8gRUNEU0EgcHVibGljIHZlcmlmaWNhdGlvbiBvciBlbmNyeXB0aW9uIGtleSwgYmFzaWMgZGVyaXZhdGlvblxuICAgICAgICB0aGlzLlgyNTUxOV9DaXBoZXJfU2FsdCA9ICcxQUFIJzsgLy8gWDI1NTE5IDEwMCBjaGFyIGI2NCBDaXBoZXIgb2YgMjQgY2hhciBxYjY0IFNhbHRcbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMU4gPSAnMUFBSSc7IC8vIEVDRFNBIHNlY3AyNTZyMSB2ZXJpZmljYXRpb24ga2V5IG5vbi10cmFuc2ZlcmFibGUsIGJhc2ljIGRlcml2YXRpb24uXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2cjEgPSAnMUFBSic7IC8vIEVDRFNBIHNlY3AyNTZyMSB2ZXJpZmljYXRpb24gb3IgZW5jcnlwdGlvbiBrZXksIGJhc2ljIGRlcml2YXRpb25cbiAgICAgICAgdGhpcy5TdHJCNjRfQmlnX0wwID0gJzdBQUEnOyAvLyBTdHJpbmcgQmFzZTY0IE9ubHkgQmlnIExlYWQgU2l6ZSAwXG4gICAgICAgIHRoaXMuU3RyQjY0X0JpZ19MMSA9ICc4QUFBJzsgLy8gU3RyaW5nIEJhc2U2NCBPbmx5IEJpZyBMZWFkIFNpemUgMVxuICAgICAgICB0aGlzLlN0ckI2NF9CaWdfTDIgPSAnOUFBQSc7IC8vIFN0cmluZyBCYXNlNjQgT25seSBCaWcgTGVhZCBTaXplIDJcbiAgICB9XG59XG5leHBvcnQgY29uc3QgTXRyRGV4ID0gbmV3IE1hdHRlckNvZGV4KCk7XG5leHBvcnQgY2xhc3MgTm9uVHJhbnNDb2RleCBleHRlbmRzIENvZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5FZDI1NTE5TiA9ICdCJzsgLy8gRWQyNTUxOSB2ZXJpZmljYXRpb24ga2V5IG5vbi10cmFuc2ZlcmFibGUsIGJhc2ljIGRlcml2YXRpb24uXG4gICAgICAgIHRoaXMuRUNEU0FfMjU2azFOID0gJzFBQUEnOyAvLyBFQ0RTQSBzZWNwMjU2azEgdmVyaWZpY2F0aW9uIGtleSBub24tdHJhbnNmZXJhYmxlLCBiYXNpYyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLkVkNDQ4TiA9ICcxQUFDJzsgLy8gRWQ0NDggbm9uLXRyYW5zZmVyYWJsZSBwcmVmaXggcHVibGljIHNpZ25pbmcgdmVyaWZpY2F0aW9uIGtleS4gQmFzaWMgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5FQ0RTQV8yNTZyMU4gPSAnMUFBSSc7IC8vIEVDRFNBIHNlY3AyNTZyMSB2ZXJpZmljYXRpb24ga2V5IG5vbi10cmFuc2ZlcmFibGUsIGJhc2ljIGRlcml2YXRpb24uXG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IE5vblRyYW5zRGV4ID0gbmV3IE5vblRyYW5zQ29kZXgoKTtcbmV4cG9ydCBjbGFzcyBEaWdpQ29kZXggZXh0ZW5kcyBDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuQmxha2UzXzI1NiA9ICdFJzsgLy8gQmxha2UzIDI1NiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLkJsYWtlMmJfMjU2ID0gJ0YnOyAvLyBCbGFrZTJiIDI1NiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLkJsYWtlMnNfMjU2ID0gJ0cnOyAvLyBCbGFrZTJzIDI1NiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLlNIQTNfMjU2ID0gJ0gnOyAvLyBTSEEzIDI1NiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLlNIQTJfMjU2ID0gJ0knOyAvLyBTSEEyIDI1NiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLkJsYWtlM181MTIgPSAnMEQnOyAvLyBCbGFrZTMgNTEyIGJpdCBkaWdlc3Qgc2VsZi1hZGRyZXNzaW5nIGRlcml2YXRpb24uXG4gICAgICAgIHRoaXMuQmxha2UyYl81MTIgPSAnMEUnOyAvLyBCbGFrZTJiIDUxMiBiaXQgZGlnZXN0IHNlbGYtYWRkcmVzc2luZyBkZXJpdmF0aW9uLlxuICAgICAgICB0aGlzLlNIQTNfNTEyID0gJzBGJzsgLy8gU0hBMyA1MTIgYml0IGRpZ2VzdCBzZWxmLWFkZHJlc3NpbmcgZGVyaXZhdGlvbi5cbiAgICAgICAgdGhpcy5TSEEyXzUxMiA9ICcwRyc7IC8vIFNIQTIgNTEyIGJpdCBkaWdlc3Qgc2VsZi1hZGRyZXNzaW5nIGRlcml2YXRpb24uXG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IERpZ2lEZXggPSBuZXcgRGlnaUNvZGV4KCk7XG5leHBvcnQgY2xhc3MgTnVtQ29kZXggZXh0ZW5kcyBDb2RleCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuU2hvcnQgPSAnTSc7IC8vIFNob3J0IDIgYnl0ZSBiMiBudW1iZXJcbiAgICAgICAgdGhpcy5Mb25nID0gJzBIJzsgLy8gTG9uZyA0IGJ5dGUgYjIgbnVtYmVyXG4gICAgICAgIHRoaXMuQmlnID0gJ04nOyAvLyBCaWcgOCBieXRlIGIyIG51bWJlclxuICAgICAgICB0aGlzLkh1Z2UgPSAnMEEnOyAvLyBIdWdlIDE2IGJ5dGUgYjIgbnVtYmVyIChzYW1lIGFzIFNhbHRfMTI4KVxuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBOdW1EZXggPSBuZXcgTnVtQ29kZXgoKTtcbmV4cG9ydCBjbGFzcyBCZXhDb2RleCBleHRlbmRzIENvZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5TdHJCNjRfTDAgPSAnNEEnOyAvLyBTdHJpbmcgQmFzZTY0IE9ubHkgTGVhZGVyIFNpemUgMFxuICAgICAgICB0aGlzLlN0ckI2NF9MMSA9ICc1QSc7IC8vIFN0cmluZyBCYXNlNjQgT25seSBMZWFkZXIgU2l6ZSAxXG4gICAgICAgIHRoaXMuU3RyQjY0X0wyID0gJzZBJzsgLy8gU3RyaW5nIEJhc2U2NCBPbmx5IExlYWRlciBTaXplIDJcbiAgICAgICAgdGhpcy5TdHJCNjRfQmlnX0wwID0gJzdBQUEnOyAvLyBTdHJpbmcgQmFzZTY0IE9ubHkgQmlnIExlYWRlciBTaXplIDBcbiAgICAgICAgdGhpcy5TdHJCNjRfQmlnX0wxID0gJzhBQUEnOyAvLyBTdHJpbmcgQmFzZTY0IE9ubHkgQmlnIExlYWRlciBTaXplIDFcbiAgICAgICAgdGhpcy5TdHJCNjRfQmlnX0wyID0gJzlBQUEnOyAvLyBTdHJpbmcgQmFzZTY0IE9ubHkgQmlnIExlYWRlciBTaXplIDJcbiAgICB9XG59XG5leHBvcnQgY29uc3QgQmV4RGV4ID0gbmV3IEJleENvZGV4KCk7XG5jbGFzcyBTbWFsbFZhclJhd1NpemVDb2RleCBleHRlbmRzIENvZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5MZWFkMCA9ICc0JzsgLy8gRmlyc3QgU2VsZWN0b3IgQ2hhcmFjdGVyIGZvciBhbGwgbHMgPT0gMCBjb2Rlc1xuICAgICAgICB0aGlzLkxlYWQxID0gJzUnOyAvLyBGaXJzdCBTZWxlY3RvciBDaGFyYWN0ZXIgZm9yIGFsbCBscyA9PSAxIGNvZGVzXG4gICAgICAgIHRoaXMuTGVhZDIgPSAnNic7IC8vIEZpcnN0IFNlbGVjdG9yIENoYXJhY3RlciBmb3IgYWxsIGxzID09IDIgY29kZXNcbiAgICB9XG59XG5leHBvcnQgY29uc3QgU21hbGxWcnpEZXggPSBuZXcgU21hbGxWYXJSYXdTaXplQ29kZXgoKTtcbmNsYXNzIExhcmdlVmFyUmF3U2l6ZUNvZGV4IGV4dGVuZHMgQ29kZXgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLkxlYWQwX0JpZyA9ICc3JzsgLy8gRmlyc3QgU2VsZWN0b3IgQ2hhcmFjdGVyIGZvciBhbGwgbHMgPT0gMCBjb2Rlc1xuICAgICAgICB0aGlzLkxlYWQxX0JpZyA9ICc4JzsgLy8gRmlyc3QgU2VsZWN0b3IgQ2hhcmFjdGVyIGZvciBhbGwgbHMgPT0gMSBjb2Rlc1xuICAgICAgICB0aGlzLkxlYWQyX0JpZyA9ICc5JzsgLy8gRmlyc3QgU2VsZWN0b3IgQ2hhcmFjdGVyIGZvciBhbGwgbHMgPT0gMiBjb2Rlc1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCBMYXJnZVZyekRleCA9IG5ldyBMYXJnZVZhclJhd1NpemVDb2RleCgpO1xuZXhwb3J0IGNsYXNzIFNpemFnZSB7XG4gICAgY29uc3RydWN0b3IoaHMsIHNzLCBmcywgbHMpIHtcbiAgICAgICAgdGhpcy5ocyA9IGhzO1xuICAgICAgICB0aGlzLnNzID0gc3M7XG4gICAgICAgIHRoaXMuZnMgPSBmcztcbiAgICAgICAgdGhpcy5scyA9IGxzO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlID0gTXRyRGV4LkVkMjU1MTlOLCBxYjY0YiwgcWI2NCwgcWIyLCByaXplLCB9KSB7XG4gICAgICAgIHRoaXMuX2NvZGUgPSAnJztcbiAgICAgICAgdGhpcy5fc2l6ZSA9IC0xO1xuICAgICAgICB0aGlzLl9yYXcgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgbGV0IHNpemUgPSAtMTtcbiAgICAgICAgaWYgKHJhdyAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChjb2RlLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbXByb3BlciBpbml0aWFsaXphdGlvbiBuZWVkIGVpdGhlciAocmF3IGFuZCBjb2RlKSBvciBxYjY0YiBvciBxYjY0IG9yIHFiMi4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChTbWFsbFZyekRleC5oYXMoY29kZVswXSkgfHwgTGFyZ2VWcnpEZXguaGFzKGNvZGVbMF0pKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocml6ZSA8IDApXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYG1pc3NpbmcgdmFyIHJhdyBzaXplIGZvciBjb2RlPSR7Y29kZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJpemUgPSByYXcubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBscyA9ICgzIC0gKHJpemUgJSAzKSkgJSAzOyAvLyBjYWxjIGFjdHVhbCBsZWFkIChwYWQpIHNpemVcbiAgICAgICAgICAgICAgICBzaXplID0gTWF0aC5mbG9vcigocml6ZSArIGxzKSAvIDMpOyAvLyBjYWxjdWxhdGUgdmFsdWUgb2Ygc2l6ZSBpbiB0cmlwbGV0c1xuICAgICAgICAgICAgICAgIGlmIChTbWFsbFZyekRleC5oYXMoY29kZVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNpemUgPD0gNjQgKiogMiAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhzID0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBPYmplY3QudmFsdWVzKFNtYWxsVnJ6RGV4KVtsc107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gYCR7c30ke2NvZGUuc3Vic3RyaW5nKDEsIGhzKX1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHNpemUgPD0gNjQgKiogNCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhzID0gNDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBPYmplY3QudmFsdWVzKExhcmdlVnJ6RGV4KVtsc107XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gYCR7c30keydBQUFBJy5zdWJzdHJpbmcoMCwgaHMgLSAyKX0ke2NvZGVbMV19YDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcmF3IHNpemUgZm9yIGNvZGU9JHtjb2RlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2l6ZSA8PSA2NCAqKiA0IC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaHMgPSA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IE9iamVjdC52YWx1ZXMoTGFyZ2VWcnpEZXgpW2xzXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSBgJHtzfSR7Y29kZS5zdWJzdHJpbmcoMSwgaHMpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHJhdyBzaXplIGZvciBjb2RlPSR7Y29kZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemFnZSA9IE1hdHRlci5TaXplcy5nZXQoY29kZSk7XG4gICAgICAgICAgICAgICAgaWYgKHNpemFnZS5mcyA9PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpbnZhbGlkXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdmFyaWFibGUgc2l6ZSBjb2RlPSR7Y29kZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcml6ZSA9IE1hdHRlci5fcmF3U2l6ZShjb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhdyA9IHJhdy5zbGljZSgwLCByaXplKTsgLy8gY29weSBvbmx5IGV4YWN0IHNpemUgZnJvbSByYXcgc3RyZWFtXG4gICAgICAgICAgICBpZiAocmF3Lmxlbmd0aCAhPSByaXplKSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yYmlkcyBzaG9ydGVyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb3QgZW5vdWd0aCByYXcgYnl0ZXMgZm9yIGNvZGU9JHtjb2RlfSBleHBlY3RlZCAke3JpemV9IGdvdCAke3Jhdy5sZW5ndGh9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fY29kZSA9IGNvZGU7IC8vIGhhcmQgdmFsdWUgcGFydCBvZiBjb2RlXG4gICAgICAgICAgICB0aGlzLl9zaXplID0gc2l6ZTsgLy8gc29mdCB2YWx1ZSBwYXJ0IG9mIGNvZGUgaW4gaW50XG4gICAgICAgICAgICB0aGlzLl9yYXcgPSByYXc7IC8vIGNyeXB0byBvcHMgcmVxdWlyZSBieXRlcyBub3QgYnl0ZWFycmF5XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocWI2NCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9leGZpbChxYjY0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxYjY0YiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBxYjY0ID0gZChxYjY0Yik7XG4gICAgICAgICAgICB0aGlzLl9leGZpbChxYjY0KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChxYjIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fYmV4ZmlsKHFiMik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRW1wdHlNYXRlcmlhbEVycm9yKCdFbXB0eU1hdGVyaWFsRXJyb3InKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgY29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NvZGU7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0IHJhdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JhdztcbiAgICB9XG4gICAgZ2V0IHFiNjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbmZpbCgpO1xuICAgIH1cbiAgICBnZXQgcWI2NGIoKSB7XG4gICAgICAgIHJldHVybiBiKHRoaXMucWI2NCk7XG4gICAgfVxuICAgIGdldCB0cmFuc2ZlcmFibGUoKSB7XG4gICAgICAgIHJldHVybiAhTm9uVHJhbnNEZXguaGFzKHRoaXMuY29kZSk7XG4gICAgfVxuICAgIGdldCBkaWdlc3RpdmUoKSB7XG4gICAgICAgIHJldHVybiBEaWdpRGV4Lmhhcyh0aGlzLmNvZGUpO1xuICAgIH1cbiAgICBzdGF0aWMgX3Jhd1NpemUoY29kZSkge1xuICAgICAgICBjb25zdCBzaXphZ2UgPSB0aGlzLlNpemVzLmdldChjb2RlKTsgLy8gZ2V0IHNpemVzXG4gICAgICAgIGNvbnN0IGNzID0gc2l6YWdlLmhzICsgc2l6YWdlLnNzOyAvLyBib3RoIGhhcmQgKyBzb2Z0IGNvZGUgc2l6ZVxuICAgICAgICBpZiAoc2l6YWdlLmZzID09PSAtMSkge1xuICAgICAgICAgICAgdGhyb3cgRXJyb3IoYE5vbi1maXhlZCByYXcgc2l6ZSBjb2RlICR7Y29kZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKChzaXphZ2UuZnMgLSBjcykgKiAzKSAvIDQpIC0gc2l6YWdlLmxzO1xuICAgIH1cbiAgICBzdGF0aWMgX2xlYWRTaXplKGNvZGUpIHtcbiAgICAgICAgY29uc3Qgc2l6YWdlID0gdGhpcy5TaXplcy5nZXQoY29kZSk7XG4gICAgICAgIHJldHVybiBzaXphZ2UubHM7XG4gICAgfVxuICAgIGdldCBib3RoKCkge1xuICAgICAgICBjb25zdCBzaXphZ2UgPSBNYXR0ZXIuU2l6ZXMuZ2V0KHRoaXMuY29kZSk7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvZGV9JHtpbnRUb0I2NCh0aGlzLnNpemUsIHNpemFnZS5zcyl9YDtcbiAgICB9XG4gICAgX2luZmlsKCkge1xuICAgICAgICBjb25zdCBjb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICBjb25zdCBzaXplID0gdGhpcy5zaXplO1xuICAgICAgICBjb25zdCByYXcgPSB0aGlzLnJhdztcbiAgICAgICAgY29uc3QgcHMgPSAoMyAtIChyYXcubGVuZ3RoICUgMykpICUgMzsgLy8gcGFkIHNpemUgY2hhcnMgb3IgbGVhZCBzaXplIGJ5dGVzXG4gICAgICAgIGNvbnN0IHNpemFnZSA9IE1hdHRlci5TaXplcy5nZXQoY29kZSk7XG4gICAgICAgIGlmIChzaXphZ2UuZnMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gVmFyaWFibGUgc2l6ZSBjb2RlLCBOT1QgU1VQUE9SVEVEXG4gICAgICAgICAgICBjb25zdCBjcyA9IHNpemFnZS5ocyArIHNpemFnZS5zcztcbiAgICAgICAgICAgIGlmIChjcyAlIDQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFdob2xlIGNvZGUgc2l6ZSBub3QgbXVsdGlwbGUgb2YgNCBmb3IgdmFyaWFibGUgbGVuZ3RoIG1hdGVyaWFsLiBjcz0ke2NzfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNpemUgPCAwIHx8IHNpemUgPiA2NCAqKiBzaXphZ2Uuc3MgLSAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHNpemU9JHtzaXplfSBmb3IgY29kZT0ke2NvZGV9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgYm90aCA9IGAke2NvZGV9JHtpbnRUb0I2NChzaXplLCBzaXphZ2Uuc3MpfWA7XG4gICAgICAgICAgICBpZiAoYm90aC5sZW5ndGggJSA0ICE9PSBwcyAtIHNpemFnZS5scykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2RlPSR7Ym90aH0gZm9yIGNvbnZlcnRlZCByYXcgcGFkIHNpemU9JHtwc30uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBieXRlcyA9IG5ldyBVaW50OEFycmF5KHNpemFnZS5scyArIHJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXphZ2UubHM7IGkrKykge1xuICAgICAgICAgICAgICAgIGJ5dGVzW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2R4ID0gaSArIHBzO1xuICAgICAgICAgICAgICAgIGJ5dGVzW29keF0gPSByYXdbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYm90aCArIGVuY29kZUJhc2U2NFVybChieXRlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBib3RoID0gY29kZTtcbiAgICAgICAgICAgIGNvbnN0IGNzID0gYm90aC5sZW5ndGg7XG4gICAgICAgICAgICBpZiAoY3MgJSA0ICE9IHBzIC0gc2l6YWdlLmxzKSB7XG4gICAgICAgICAgICAgICAgLy8gYWRqdXN0ZWQgcGFkIGdpdmVuIGxlYWQgYnl0ZXNcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgY29kZT0ke2JvdGh9IGZvciBjb252ZXJ0ZWQgcmF3IHBhZCBzaXplPSR7cHN9LCAke3Jhdy5sZW5ndGh9LmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcHJlcGFkLCBjb252ZXJ0LCBhbmQgcmVwbGFjZSB1cGZyb250XG4gICAgICAgICAgICAvLyB3aGVuIGZpeGVkIGFuZCBscyAhPSAwIHRoZW4gY3MgJSA0IGlzIHplcm8gYW5kIHBzPT1sc1xuICAgICAgICAgICAgLy8gb3RoZXJ3aXNlICBmaXhlZCBhbmQgbHMgPT0gMCB0aGVuIGNzICUgNCA9PSBwc1xuICAgICAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShwcyArIHJhdy5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwczsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYnl0ZXNbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvZHggPSBpICsgcHM7XG4gICAgICAgICAgICAgICAgYnl0ZXNbb2R4XSA9IHJhd1tpXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBib3RoICsgZW5jb2RlQmFzZTY0VXJsKGJ5dGVzKS5zbGljZShjcyAlIDQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9leGZpbChxYjY0KSB7XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0VtcHR5IE1hdGVyaWFsJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZmlyc3QgPSBxYjY0WzBdO1xuICAgICAgICBpZiAoIUFycmF5LmZyb20oTWF0dGVyLkhhcmRzLmtleXMoKSkuaW5jbHVkZXMoZmlyc3QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuZXhwZWN0ZWQgY29kZSAke2ZpcnN0fWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhzID0gTWF0dGVyLkhhcmRzLmdldChmaXJzdCk7XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA8IGhzKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNob3J0YWdlIEVycm9yYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaGFyZCA9IHFiNjQuc2xpY2UoMCwgaHMpO1xuICAgICAgICBpZiAoIUFycmF5LmZyb20oTWF0dGVyLlNpemVzLmtleXMoKSkuaW5jbHVkZXMoaGFyZCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY29kZSAke2hhcmR9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2l6YWdlID0gTWF0dGVyLlNpemVzLmdldChoYXJkKTtcbiAgICAgICAgY29uc3QgY3MgPSBzaXphZ2UuaHMgKyBzaXphZ2Uuc3M7XG4gICAgICAgIGxldCBzaXplID0gLTE7XG4gICAgICAgIGlmIChzaXphZ2UuZnMgPT0gLTEpIHtcbiAgICAgICAgICAgIC8vIFZhcmlhYmxlIHNpemUgY29kZSwgTm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdWYXJpYWJsZSBzaXplIGNvZGVzIG5vdCBzdXBwb3J0ZWQgeWV0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzaXplID0gc2l6YWdlLmZzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChxYjY0Lmxlbmd0aCA8IHNpemFnZS5mcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOZWVkICR7c2l6YWdlLmZzIC0gcWI2NC5sZW5ndGh9IG1vcmUgY2hhcnMuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcWI2NCA9IHFiNjQuc2xpY2UoMCwgc2l6YWdlLmZzKTtcbiAgICAgICAgY29uc3QgcHMgPSBjcyAlIDQ7XG4gICAgICAgIGNvbnN0IHBicyA9IDIgKiAocHMgPT0gMCA/IHNpemFnZS5scyA6IHBzKTtcbiAgICAgICAgbGV0IHJhdztcbiAgICAgICAgaWYgKHBzICE9IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2UgPSBuZXcgQXJyYXkocHMgKyAxKS5qb2luKCdBJykgKyBxYjY0LnNsaWNlKGNzKTtcbiAgICAgICAgICAgIGNvbnN0IHBhdyA9IFVpbnQ4QXJyYXkuZnJvbShkZWNvZGVCYXNlNjRVcmwoYmFzZSkpOyAvLyBkZWNvZGUgYmFzZSB0byBsZWF2ZSBwcmVwYWRkZWQgcmF3XG4gICAgICAgICAgICBjb25zdCBwaSA9IHJlYWRJbnQocGF3LnN1YmFycmF5KDAsIHBzKSk7IC8vIHByZXBhZCBhcyBpbnRcbiAgICAgICAgICAgIGlmIChwaSAmICgyICoqIHBicyAtIDEpKSB7XG4gICAgICAgICAgICAgICAgLy8gbWFza2VkIHBhZCBiaXRzIG5vbi16ZXJvXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24gemVyb2VkIHByZXBhZCBiaXRzID0ge3BpICYgKDIgKiogcGJzIC0gMSApOjwwNmJ9IGluIHtxYjY0YltjczpjcysxXX0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByYXcgPSBwYXcuc3ViYXJyYXkocHMpOyAvLyBzdHJpcCBvZmYgcHMgcHJlcGFkIHBhdyBieXRlc1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYmFzZSA9IHFiNjQuc2xpY2UoY3MpO1xuICAgICAgICAgICAgY29uc3QgcGF3ID0gVWludDhBcnJheS5mcm9tKGRlY29kZUJhc2U2NFVybChiYXNlKSk7XG4gICAgICAgICAgICBjb25zdCBsaSA9IHJlYWRJbnQocGF3LnN1YmFycmF5KDAsIHNpemFnZS5scykpO1xuICAgICAgICAgICAgaWYgKGxpICE9IDApIHtcbiAgICAgICAgICAgICAgICBpZiAobGkgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbiB6ZXJvZWQgbGVhZCBieXRlID0gMHh7bGk6MDJ4fS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9uIHplcm9lZCBsZWFkIGJ5dGVzID0gMHh7bGk6MDR4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJhdyA9IHBhdy5zdWJhcnJheShzaXphZ2UubHMpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NvZGUgPSBoYXJkOyAvLyBoYXJkIG9ubHlcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHNpemU7XG4gICAgICAgIHRoaXMuX3JhdyA9IFVpbnQ4QXJyYXkuZnJvbShyYXcpOyAvLyBlbnN1cmUgYnl0ZXMgc28gaW1tdXRhYmxlIGFuZCBmb3IgY3J5cHRvIG9wc1xuICAgIH1cbiAgICBfYmV4ZmlsKHFiMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHFiMiBub3QgeWV0IHN1cHBvcnRlZDogJHtxYjJ9YCk7XG4gICAgfVxufVxuTWF0dGVyLlNpemVzID0gbmV3IE1hcChPYmplY3QuZW50cmllcyh7XG4gICAgQTogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgQjogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgQzogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgRDogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgRTogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgRjogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgRzogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgSDogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgSTogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgSjogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgSzogbmV3IFNpemFnZSgxLCAwLCA3NiwgMCksXG4gICAgTDogbmV3IFNpemFnZSgxLCAwLCA3NiwgMCksXG4gICAgTTogbmV3IFNpemFnZSgxLCAwLCA0LCAwKSxcbiAgICBOOiBuZXcgU2l6YWdlKDEsIDAsIDEyLCAwKSxcbiAgICBPOiBuZXcgU2l6YWdlKDEsIDAsIDQ0LCAwKSxcbiAgICBQOiBuZXcgU2l6YWdlKDEsIDAsIDEyNCwgMCksXG4gICAgUTogbmV3IFNpemFnZSgxLCAwLCA0NCwgMCksXG4gICAgJzBBJzogbmV3IFNpemFnZSgyLCAwLCAyNCwgMCksXG4gICAgJzBCJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBDJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBEJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBFJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBGJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBHJzogbmV3IFNpemFnZSgyLCAwLCA4OCwgMCksXG4gICAgJzBIJzogbmV3IFNpemFnZSgyLCAwLCA4LCAwKSxcbiAgICAnMEknOiBuZXcgU2l6YWdlKDIsIDAsIDg4LCAwKSxcbiAgICAnMUFBQSc6IG5ldyBTaXphZ2UoNCwgMCwgNDgsIDApLFxuICAgICcxQUFCJzogbmV3IFNpemFnZSg0LCAwLCA0OCwgMCksXG4gICAgJzFBQUMnOiBuZXcgU2l6YWdlKDQsIDAsIDgwLCAwKSxcbiAgICAnMUFBRCc6IG5ldyBTaXphZ2UoNCwgMCwgODAsIDApLFxuICAgICcxQUFFJzogbmV3IFNpemFnZSg0LCAwLCA1NiwgMCksXG4gICAgJzFBQUYnOiBuZXcgU2l6YWdlKDQsIDAsIDgsIDApLFxuICAgICcxQUFHJzogbmV3IFNpemFnZSg0LCAwLCAzNiwgMCksXG4gICAgJzFBQUgnOiBuZXcgU2l6YWdlKDQsIDAsIDEwMCwgMCksXG4gICAgJzFBQUknOiBuZXcgU2l6YWdlKDQsIDAsIDQ4LCAwKSxcbiAgICAnMUFBSic6IG5ldyBTaXphZ2UoNCwgMCwgNDgsIDApLFxuICAgICcyQUFBJzogbmV3IFNpemFnZSg0LCAwLCA4LCAxKSxcbiAgICAnM0FBQSc6IG5ldyBTaXphZ2UoNCwgMCwgOCwgMiksXG4gICAgJzRBJzogbmV3IFNpemFnZSgyLCAyLCB1bmRlZmluZWQsIDApLFxuICAgICc1QSc6IG5ldyBTaXphZ2UoMiwgMiwgdW5kZWZpbmVkLCAxKSxcbiAgICAnNkEnOiBuZXcgU2l6YWdlKDIsIDIsIHVuZGVmaW5lZCwgMiksXG4gICAgJzdBQUEnOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMCksXG4gICAgJzhBQUEnOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMSksXG4gICAgJzlBQUEnOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMiksXG4gICAgJzRCJzogbmV3IFNpemFnZSgyLCAyLCB1bmRlZmluZWQsIDApLFxuICAgICc1Qic6IG5ldyBTaXphZ2UoMiwgMiwgdW5kZWZpbmVkLCAxKSxcbiAgICAnNkInOiBuZXcgU2l6YWdlKDIsIDIsIHVuZGVmaW5lZCwgMiksXG4gICAgJzdBQUInOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMCksXG4gICAgJzhBQUInOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMSksXG4gICAgJzlBQUInOiBuZXcgU2l6YWdlKDQsIDQsIHVuZGVmaW5lZCwgMiksXG59KSk7XG5NYXR0ZXIuSGFyZHMgPSBuZXcgTWFwKFtcbiAgICBbJ0EnLCAxXSxcbiAgICBbJ0InLCAxXSxcbiAgICBbJ0MnLCAxXSxcbiAgICBbJ0QnLCAxXSxcbiAgICBbJ0UnLCAxXSxcbiAgICBbJ0YnLCAxXSxcbiAgICBbJ0cnLCAxXSxcbiAgICBbJ0gnLCAxXSxcbiAgICBbJ0knLCAxXSxcbiAgICBbJ0onLCAxXSxcbiAgICBbJ0snLCAxXSxcbiAgICBbJ0wnLCAxXSxcbiAgICBbJ00nLCAxXSxcbiAgICBbJ04nLCAxXSxcbiAgICBbJ08nLCAxXSxcbiAgICBbJ1AnLCAxXSxcbiAgICBbJ1EnLCAxXSxcbiAgICBbJ1InLCAxXSxcbiAgICBbJ1MnLCAxXSxcbiAgICBbJ1QnLCAxXSxcbiAgICBbJ1UnLCAxXSxcbiAgICBbJ1YnLCAxXSxcbiAgICBbJ1cnLCAxXSxcbiAgICBbJ1gnLCAxXSxcbiAgICBbJ1knLCAxXSxcbiAgICBbJ1onLCAxXSxcbiAgICBbJ2EnLCAxXSxcbiAgICBbJ2InLCAxXSxcbiAgICBbJ2MnLCAxXSxcbiAgICBbJ2QnLCAxXSxcbiAgICBbJ2UnLCAxXSxcbiAgICBbJ2YnLCAxXSxcbiAgICBbJ2cnLCAxXSxcbiAgICBbJ2gnLCAxXSxcbiAgICBbJ2knLCAxXSxcbiAgICBbJ2onLCAxXSxcbiAgICBbJ2snLCAxXSxcbiAgICBbJ2wnLCAxXSxcbiAgICBbJ20nLCAxXSxcbiAgICBbJ24nLCAxXSxcbiAgICBbJ28nLCAxXSxcbiAgICBbJ3AnLCAxXSxcbiAgICBbJ3EnLCAxXSxcbiAgICBbJ3InLCAxXSxcbiAgICBbJ3MnLCAxXSxcbiAgICBbJ3QnLCAxXSxcbiAgICBbJ3UnLCAxXSxcbiAgICBbJ3YnLCAxXSxcbiAgICBbJ3cnLCAxXSxcbiAgICBbJ3gnLCAxXSxcbiAgICBbJ3knLCAxXSxcbiAgICBbJ3onLCAxXSxcbiAgICBbJzAnLCAyXSxcbiAgICBbJzEnLCA0XSxcbiAgICBbJzInLCA0XSxcbiAgICBbJzMnLCA0XSxcbiAgICBbJzQnLCAyXSxcbiAgICBbJzUnLCAyXSxcbiAgICBbJzYnLCAyXSxcbiAgICBbJzcnLCA0XSxcbiAgICBbJzgnLCA0XSxcbiAgICBbJzknLCA0XSxcbl0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/number.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/number.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CesrNumber: () => (/* binding */ CesrNumber)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\n\n\nclass CesrNumber extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code, qb64b, qb64, qb2 }, num, numh) {\n        let _num;\n        if (raw == undefined &&\n            qb64 == undefined &&\n            qb64b == undefined &&\n            qb2 == undefined) {\n            if (typeof num == 'number') {\n                _num = num;\n            }\n            else if (numh != undefined) {\n                _num = parseInt(numh, 16);\n            }\n            else {\n                _num = 0;\n            }\n        }\n        if (_num == undefined) {\n            throw new Error('Invalid whole number');\n        }\n        if (_num <= 256 ** 2 - 1) {\n            // make short version of code\n            code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.Short;\n        }\n        else if (_num <= 256 ** 4 - 1) {\n            // make long version of code\n            code = code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.Long;\n        }\n        else if (_num <= 256 ** 8 - 1) {\n            // make big version of code\n            code = code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.Big;\n        }\n        else if (_num <= 256 ** 16 - 1) {\n            // make huge version of code\n            code = code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.Huge;\n        }\n        else {\n            throw new Error(`Invalid num = ${num}, too large to encode.`);\n        }\n        raw = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.intToBytes)(_num, _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter._rawSize(code));\n        super({ raw, code, qb64b, qb64, qb2 });\n        if (!_matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.has(this.code)) {\n            throw new Error('Invalid code ' + code + ' for Number');\n        }\n    }\n    get num() {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bytesToInt)(this.raw);\n    }\n    get numh() {\n        return this.num.toString(16);\n    }\n    get positive() {\n        return this.num > 0;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9udW1iZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBQ087QUFDN0MseUJBQXlCLDhDQUFNO0FBQ3RDLGtCQUFrQiw2QkFBNkI7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4Q0FBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOENBQU07QUFDaEM7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDhDQUFNO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw4Q0FBTTtBQUNoQztBQUNBO0FBQ0EsNkNBQTZDLElBQUk7QUFDakQ7QUFDQSxjQUFjLHFEQUFVLE9BQU8sOENBQU07QUFDckMsZ0JBQWdCLDZCQUE2QjtBQUM3QyxhQUFhLDhDQUFNO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvbnVtYmVyLmpzP2E2ZDUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0dGVyLCBOdW1EZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IGJ5dGVzVG9JbnQsIGludFRvQnl0ZXMgfSBmcm9tIFwiLi91dGlscy5qc1wiO1xuZXhwb3J0IGNsYXNzIENlc3JOdW1iZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlLCBxYjY0YiwgcWI2NCwgcWIyIH0sIG51bSwgbnVtaCkge1xuICAgICAgICBsZXQgX251bTtcbiAgICAgICAgaWYgKHJhdyA9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHFiNjQgPT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBxYjY0YiA9PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHFiMiA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgbnVtID09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgX251bSA9IG51bTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKG51bWggIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgX251bSA9IHBhcnNlSW50KG51bWgsIDE2KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF9udW0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChfbnVtID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHdob2xlIG51bWJlcicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfbnVtIDw9IDI1NiAqKiAyIC0gMSkge1xuICAgICAgICAgICAgLy8gbWFrZSBzaG9ydCB2ZXJzaW9uIG9mIGNvZGVcbiAgICAgICAgICAgIGNvZGUgPSBOdW1EZXguU2hvcnQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX251bSA8PSAyNTYgKiogNCAtIDEpIHtcbiAgICAgICAgICAgIC8vIG1ha2UgbG9uZyB2ZXJzaW9uIG9mIGNvZGVcbiAgICAgICAgICAgIGNvZGUgPSBjb2RlID0gTnVtRGV4Lkxvbmc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX251bSA8PSAyNTYgKiogOCAtIDEpIHtcbiAgICAgICAgICAgIC8vIG1ha2UgYmlnIHZlcnNpb24gb2YgY29kZVxuICAgICAgICAgICAgY29kZSA9IGNvZGUgPSBOdW1EZXguQmlnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKF9udW0gPD0gMjU2ICoqIDE2IC0gMSkge1xuICAgICAgICAgICAgLy8gbWFrZSBodWdlIHZlcnNpb24gb2YgY29kZVxuICAgICAgICAgICAgY29kZSA9IGNvZGUgPSBOdW1EZXguSHVnZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBudW0gPSAke251bX0sIHRvbyBsYXJnZSB0byBlbmNvZGUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmF3ID0gaW50VG9CeXRlcyhfbnVtLCBNYXR0ZXIuX3Jhd1NpemUoY29kZSkpO1xuICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NGIsIHFiNjQsIHFiMiB9KTtcbiAgICAgICAgaWYgKCFOdW1EZXguaGFzKHRoaXMuY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjb2RlICcgKyBjb2RlICsgJyBmb3IgTnVtYmVyJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG51bSgpIHtcbiAgICAgICAgcmV0dXJuIGJ5dGVzVG9JbnQodGhpcy5yYXcpO1xuICAgIH1cbiAgICBnZXQgbnVtaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubnVtLnRvU3RyaW5nKDE2KTtcbiAgICB9XG4gICAgZ2V0IHBvc2l0aXZlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5udW0gPiAwO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/pather.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/pather.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Pather: () => (/* binding */ Pather)\n/* harmony export */ });\n/* harmony import */ var _bexter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./bexter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/bexter.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n\n\n\n/*\n    Pather is a subclass of Bexter that provides SAD Path language specific functionality\n    for variable length strings that only contain Base64 URL safe characters.  Pather allows\n    the specification of SAD Paths as a list of field components which will be converted to the\n    Base64 URL safe character representation.\n\n    Additionally, Pather provides .rawify for extracting and serializing the content targeted by\n    .path for a SAD, represented as an instance of Serder.  Pather enforces Base64 URL character\n    safety by leveraging the fact that SADs must have static field ordering.  Any field label can\n    be replaced by its field ordinal to allow for path specification and traversal for any field\n    labels that contain non-Base64 URL safe characters.\n\n\n    Examples: strings:\n        path = []\n        text = \"-\"\n        qb64 = '6AABAAA-'\n\n        path = [\"A\"]\n        text = \"-A\"\n        qb64 = '5AABAA-A'\n\n        path = [\"A\", \"B\"]\n        text = \"-A-B\"\n        qb64 = '4AAB-A-B'\n\n        path = [\"A\", 1, \"B\", 3]\n        text = \"-A-1-B-3\"\n        qb64 = '4AAC-A-1-B-3'\n\n */\nclass Pather extends _bexter_js__WEBPACK_IMPORTED_MODULE_0__.Bexter {\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.StrB64_L0, qb64b, qb64, qb2 }, bext, path) {\n        if (raw === undefined &&\n            bext === undefined &&\n            qb64b === undefined &&\n            qb64 === undefined &&\n            qb2 === undefined) {\n            if (path === undefined)\n                throw new _kering_js__WEBPACK_IMPORTED_MODULE_2__.EmptyMaterialError('Missing bext string.');\n            bext = Pather._bextify(path);\n        }\n        super({ raw, code, qb64b, qb64, qb2 }, bext);\n    }\n    // TODO: implement SAD access methods like resolve, root, strip, startswith and tail\n    get path() {\n        if (!this.bext.startsWith('-')) {\n            throw new Error('invalid SAD ptr');\n        }\n        let path = this.bext;\n        while (path.charAt(0) === '-') {\n            path = path.substring(1);\n        }\n        const apath = path.split('-');\n        if (apath[0] !== '') {\n            return apath;\n        }\n        else {\n            return [];\n        }\n    }\n    static _bextify(path) {\n        const vath = [];\n        for (const p of path) {\n            let sp = '';\n            if (typeof p === 'number') {\n                sp = p.toString();\n            }\n            else {\n                sp = p;\n            }\n            const match = _bexter_js__WEBPACK_IMPORTED_MODULE_0__.Reb64.exec(sp);\n            if (!match) {\n                throw new Error(`\"Non Base64 path component = ${p}.`);\n            }\n            vath.push(sp);\n        }\n        return '-' + vath.join('-');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9wYXRoZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUE0QztBQUNQO0FBQ1k7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNPLHFCQUFxQiw4Q0FBTTtBQUNsQyxrQkFBa0IsWUFBWSw4Q0FBTSw4QkFBOEI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLDBEQUFrQjtBQUM1QztBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2Q0FBSztBQUMvQjtBQUNBLGdFQUFnRSxFQUFFO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL3BhdGhlci5qcz8zNTA0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEJleHRlciwgUmViNjQgfSBmcm9tIFwiLi9iZXh0ZXIuanNcIjtcbmltcG9ydCB7IE10ckRleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgRW1wdHlNYXRlcmlhbEVycm9yIH0gZnJvbSBcIi4va2VyaW5nLmpzXCI7XG4vKlxuICAgIFBhdGhlciBpcyBhIHN1YmNsYXNzIG9mIEJleHRlciB0aGF0IHByb3ZpZGVzIFNBRCBQYXRoIGxhbmd1YWdlIHNwZWNpZmljIGZ1bmN0aW9uYWxpdHlcbiAgICBmb3IgdmFyaWFibGUgbGVuZ3RoIHN0cmluZ3MgdGhhdCBvbmx5IGNvbnRhaW4gQmFzZTY0IFVSTCBzYWZlIGNoYXJhY3RlcnMuICBQYXRoZXIgYWxsb3dzXG4gICAgdGhlIHNwZWNpZmljYXRpb24gb2YgU0FEIFBhdGhzIGFzIGEgbGlzdCBvZiBmaWVsZCBjb21wb25lbnRzIHdoaWNoIHdpbGwgYmUgY29udmVydGVkIHRvIHRoZVxuICAgIEJhc2U2NCBVUkwgc2FmZSBjaGFyYWN0ZXIgcmVwcmVzZW50YXRpb24uXG5cbiAgICBBZGRpdGlvbmFsbHksIFBhdGhlciBwcm92aWRlcyAucmF3aWZ5IGZvciBleHRyYWN0aW5nIGFuZCBzZXJpYWxpemluZyB0aGUgY29udGVudCB0YXJnZXRlZCBieVxuICAgIC5wYXRoIGZvciBhIFNBRCwgcmVwcmVzZW50ZWQgYXMgYW4gaW5zdGFuY2Ugb2YgU2VyZGVyLiAgUGF0aGVyIGVuZm9yY2VzIEJhc2U2NCBVUkwgY2hhcmFjdGVyXG4gICAgc2FmZXR5IGJ5IGxldmVyYWdpbmcgdGhlIGZhY3QgdGhhdCBTQURzIG11c3QgaGF2ZSBzdGF0aWMgZmllbGQgb3JkZXJpbmcuICBBbnkgZmllbGQgbGFiZWwgY2FuXG4gICAgYmUgcmVwbGFjZWQgYnkgaXRzIGZpZWxkIG9yZGluYWwgdG8gYWxsb3cgZm9yIHBhdGggc3BlY2lmaWNhdGlvbiBhbmQgdHJhdmVyc2FsIGZvciBhbnkgZmllbGRcbiAgICBsYWJlbHMgdGhhdCBjb250YWluIG5vbi1CYXNlNjQgVVJMIHNhZmUgY2hhcmFjdGVycy5cblxuXG4gICAgRXhhbXBsZXM6IHN0cmluZ3M6XG4gICAgICAgIHBhdGggPSBbXVxuICAgICAgICB0ZXh0ID0gXCItXCJcbiAgICAgICAgcWI2NCA9ICc2QUFCQUFBLSdcblxuICAgICAgICBwYXRoID0gW1wiQVwiXVxuICAgICAgICB0ZXh0ID0gXCItQVwiXG4gICAgICAgIHFiNjQgPSAnNUFBQkFBLUEnXG5cbiAgICAgICAgcGF0aCA9IFtcIkFcIiwgXCJCXCJdXG4gICAgICAgIHRleHQgPSBcIi1BLUJcIlxuICAgICAgICBxYjY0ID0gJzRBQUItQS1CJ1xuXG4gICAgICAgIHBhdGggPSBbXCJBXCIsIDEsIFwiQlwiLCAzXVxuICAgICAgICB0ZXh0ID0gXCItQS0xLUItM1wiXG4gICAgICAgIHFiNjQgPSAnNEFBQy1BLTEtQi0zJ1xuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYXRoZXIgZXh0ZW5kcyBCZXh0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlID0gTXRyRGV4LlN0ckI2NF9MMCwgcWI2NGIsIHFiNjQsIHFiMiB9LCBiZXh0LCBwYXRoKSB7XG4gICAgICAgIGlmIChyYXcgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgYmV4dCA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBxYjY0YiA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgICBxYjY0ID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICAgIHFiMiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpZiAocGF0aCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFbXB0eU1hdGVyaWFsRXJyb3IoJ01pc3NpbmcgYmV4dCBzdHJpbmcuJyk7XG4gICAgICAgICAgICBiZXh0ID0gUGF0aGVyLl9iZXh0aWZ5KHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKHsgcmF3LCBjb2RlLCBxYjY0YiwgcWI2NCwgcWIyIH0sIGJleHQpO1xuICAgIH1cbiAgICAvLyBUT0RPOiBpbXBsZW1lbnQgU0FEIGFjY2VzcyBtZXRob2RzIGxpa2UgcmVzb2x2ZSwgcm9vdCwgc3RyaXAsIHN0YXJ0c3dpdGggYW5kIHRhaWxcbiAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmJleHQuc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgU0FEIHB0cicpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBwYXRoID0gdGhpcy5iZXh0O1xuICAgICAgICB3aGlsZSAocGF0aC5jaGFyQXQoMCkgPT09ICctJykge1xuICAgICAgICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFwYXRoID0gcGF0aC5zcGxpdCgnLScpO1xuICAgICAgICBpZiAoYXBhdGhbMF0gIT09ICcnKSB7XG4gICAgICAgICAgICByZXR1cm4gYXBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIF9iZXh0aWZ5KHBhdGgpIHtcbiAgICAgICAgY29uc3QgdmF0aCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHAgb2YgcGF0aCkge1xuICAgICAgICAgICAgbGV0IHNwID0gJyc7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgc3AgPSBwLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzcCA9IHA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXRjaCA9IFJlYjY0LmV4ZWMoc3ApO1xuICAgICAgICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgXCJOb24gQmFzZTY0IHBhdGggY29tcG9uZW50ID0gJHtwfS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhdGgucHVzaChzcCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICctJyArIHZhdGguam9pbignLScpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/pather.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js":
/*!************************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/prefixer.js ***!
  \************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Prefixer: () => (/* binding */ Prefixer)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _serder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _verfer_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @noble/hashes/blake3 */ \"(ssr)/./node_modules/@noble/hashes/esm/blake3.js\");\n\n\n\n\n\n\nconst Dummy = '#';\nclass Prefixer extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code, qb64b, qb64, qb2 }, ked) {\n        try {\n            super({ raw, code, qb64b, qb64, qb2 });\n        }\n        catch (e) {\n            if (e instanceof _kering_js__WEBPACK_IMPORTED_MODULE_1__.EmptyMaterialError) {\n                if (ked == undefined || (code == undefined && !('i' in ked))) {\n                    throw e;\n                }\n                if (code == undefined) {\n                    super({ qb64: ked['i'], code: code });\n                    code = this.code;\n                }\n                let _derive;\n                if (code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N) {\n                    _derive = Prefixer._derive_ed25519N;\n                }\n                else if (code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519) {\n                    _derive = Prefixer._derive_ed25519;\n                }\n                else if (code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256) {\n                    _derive = Prefixer._derive_blake3_256;\n                }\n                else {\n                    throw new Error(`Unsupported code = ${code} for prefixer.`);\n                }\n                [raw, code] = _derive(ked);\n                super({ raw: raw, code: code });\n                this._derive = _derive;\n            }\n            else {\n                throw e;\n            }\n        }\n        if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N) {\n            this._verify = this._verify_ed25519N;\n        }\n        else if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519) {\n            this._verify = this._verify_ed25519;\n        }\n        else if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256) {\n            this._verify = this._verify_blake3_256;\n        }\n        else {\n            throw new Error(`Unsupported code = ${code} for prefixer.`);\n        }\n    }\n    derive(sad) {\n        if (sad['i'] != _core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.icp) {\n            throw new Error(`Non-incepting ilk ${sad['i']} for prefix derivation`);\n        }\n        return this._derive(sad);\n    }\n    verify(sad, prefixed = false) {\n        if (sad['i'] != _core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.icp) {\n            throw new Error(`Non-incepting ilk ${sad['i']} for prefix derivation`);\n        }\n        return this._verify(sad, this.qb64, prefixed);\n    }\n    static _derive_ed25519N(sad) {\n        let verfer;\n        const keys = sad['k'];\n        if (keys.length != 1) {\n            throw new Error(`Basic derivation needs at most 1 key got ${keys.length} keys instead`);\n        }\n        try {\n            verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: keys[0] });\n        }\n        catch (e) {\n            throw new Error(`Error extracting public key = ${e}`);\n        }\n        if (verfer.code != _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N) {\n            throw new Error(`Mismatch derivation code = ${verfer.code}`);\n        }\n        const next = 'n' in sad ? sad['n'] : [];\n        if (verfer.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N && next.length > 0) {\n            throw new Error(`Non-empty nxt = ${next} for non-transferable code = ${verfer.code}`);\n        }\n        const backers = 'b' in sad ? sad['b'] : [];\n        if (verfer.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N && backers.length > 0) {\n            throw new Error(`Non-empty b =${backers} for non-transferable code = ${verfer.code}`);\n        }\n        const anchor = 'a' in sad ? sad['a'] : [];\n        if (verfer.code == _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519N && anchor.length > 0) {\n            throw new Error(`Non-empty a = ${verfer.code} for non-transferable code = ${verfer.code}`);\n        }\n        return [verfer.raw, verfer.code];\n    }\n    static _derive_ed25519(sad) {\n        let verfer;\n        const keys = sad['k'];\n        if (keys.length != 1) {\n            throw new Error(`Basic derivation needs at most 1 key got ${keys.length} keys instead`);\n        }\n        try {\n            verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_4__.Verfer({ qb64: keys[0] });\n        }\n        catch (e) {\n            throw new Error(`Error extracting public key = ${e}`);\n        }\n        if (verfer.code in [_matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Ed25519]) {\n            throw new Error(`Mismatch derivation code = ${verfer.code}`);\n        }\n        return [verfer.raw, verfer.code];\n    }\n    static _derive_blake3_256(sad) {\n        const ilk = sad['t'];\n        if (![_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.icp, _core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.dip, _core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.vcp, _core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.dip].includes(ilk)) {\n            throw new Error(`Invalid ilk = ${ilk} to derive pre.`);\n        }\n        sad['i'] = ''.padStart(_matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter.Sizes.get(_matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256).fs, Dummy);\n        sad['d'] = sad['i'];\n        const [raw] = (0,_serder_js__WEBPACK_IMPORTED_MODULE_3__.sizeify)(sad);\n        const dig = _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_5__.blake3.create({ dkLen: 32 }).update(raw).digest();\n        return [dig, _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256];\n    }\n    _verify_ed25519N(sad, pre, prefixed = false) {\n        try {\n            const keys = sad['k'];\n            if (keys.length != 1) {\n                return false;\n            }\n            if (keys[0] != pre) {\n                return false;\n            }\n            if (prefixed && sad['i'] != pre) {\n                return false;\n            }\n            const next = 'n' in sad ? sad['n'] : [];\n            if (next.length > 0) {\n                // must be empty\n                return false;\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    }\n    _verify_ed25519(sad, pre, prefixed = false) {\n        try {\n            const keys = sad['k'];\n            if (keys.length != 1) {\n                return false;\n            }\n            if (keys[0] != pre) {\n                return false;\n            }\n            if (prefixed && sad['i'] != pre) {\n                return false;\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    }\n    _verify_blake3_256(sad, pre, prefixed = false) {\n        try {\n            const [raw] = Prefixer._derive_blake3_256(sad);\n            const crymat = new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter({ raw: raw, code: _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256 });\n            if (crymat.qb64 != pre) {\n                return false;\n            }\n            if (prefixed && sad['i'] != pre) {\n                return false;\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9wcmVmaXhlci5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTZDO0FBQ0k7QUFDaEI7QUFDSztBQUNEO0FBQ1M7QUFDOUM7QUFDTyx1QkFBdUIsOENBQU07QUFDcEMsa0JBQWtCLDZCQUE2QjtBQUMvQztBQUNBLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQTtBQUNBLDZCQUE2QiwwREFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNEJBQTRCO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBLDRCQUE0Qiw4Q0FBTTtBQUNsQztBQUNBO0FBQ0EsaUNBQWlDLDhDQUFNO0FBQ3ZDO0FBQ0E7QUFDQSxpQ0FBaUMsOENBQU07QUFDdkM7QUFDQTtBQUNBO0FBQ0EsMERBQTBELE1BQU07QUFDaEU7QUFDQTtBQUNBLHdCQUF3QixzQkFBc0I7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhDQUFNO0FBQy9CO0FBQ0E7QUFDQSw4QkFBOEIsOENBQU07QUFDcEM7QUFDQTtBQUNBLDhCQUE4Qiw4Q0FBTTtBQUNwQztBQUNBO0FBQ0E7QUFDQSxrREFBa0QsTUFBTTtBQUN4RDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQUk7QUFDNUIsaURBQWlELFVBQVU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsMENBQUk7QUFDNUIsaURBQWlELFVBQVU7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0EseUJBQXlCLDhDQUFNLEdBQUcsZUFBZTtBQUNqRDtBQUNBO0FBQ0EsNkRBQTZELEVBQUU7QUFDL0Q7QUFDQSwyQkFBMkIsOENBQU07QUFDakMsMERBQTBELFlBQVk7QUFDdEU7QUFDQTtBQUNBLDJCQUEyQiw4Q0FBTTtBQUNqQywrQ0FBK0MsTUFBTSw4QkFBOEIsWUFBWTtBQUMvRjtBQUNBO0FBQ0EsMkJBQTJCLDhDQUFNO0FBQ2pDLDRDQUE0QyxTQUFTLDhCQUE4QixZQUFZO0FBQy9GO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU07QUFDakMsNkNBQTZDLGFBQWEsOEJBQThCLFlBQVk7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3RUFBd0UsYUFBYTtBQUNyRjtBQUNBO0FBQ0EseUJBQXlCLDhDQUFNLEdBQUcsZUFBZTtBQUNqRDtBQUNBO0FBQ0EsNkRBQTZELEVBQUU7QUFDL0Q7QUFDQSw0QkFBNEIsOENBQU07QUFDbEMsMERBQTBELFlBQVk7QUFDdEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMENBQUksTUFBTSwwQ0FBSSxNQUFNLDBDQUFJLE1BQU0sMENBQUk7QUFDaEQsNkNBQTZDLEtBQUs7QUFDbEQ7QUFDQSwrQkFBK0IsOENBQU0sV0FBVyw4Q0FBTTtBQUN0RDtBQUNBLHNCQUFzQixtREFBTztBQUM3QixvQkFBb0Isd0RBQU0sVUFBVSxXQUFXO0FBQy9DLHFCQUFxQiw4Q0FBTTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsOENBQU0sR0FBRyxnQkFBZ0IsOENBQU0sYUFBYTtBQUMzRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL3ByZWZpeGVyLmpzPzkyZWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWF0dGVyLCBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IEVtcHR5TWF0ZXJpYWxFcnJvciB9IGZyb20gXCIuL2tlcmluZy5qc1wiO1xuaW1wb3J0IHsgSWxrcyB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmltcG9ydCB7IHNpemVpZnkgfSBmcm9tIFwiLi9zZXJkZXIuanNcIjtcbmltcG9ydCB7IFZlcmZlciB9IGZyb20gXCIuL3ZlcmZlci5qc1wiO1xuaW1wb3J0IHsgYmxha2UzIH0gZnJvbSAnQG5vYmxlL2hhc2hlcy9ibGFrZTMnO1xuY29uc3QgRHVtbXkgPSAnIyc7XG5leHBvcnQgY2xhc3MgUHJlZml4ZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlLCBxYjY0YiwgcWI2NCwgcWIyIH0sIGtlZCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3VwZXIoeyByYXcsIGNvZGUsIHFiNjRiLCBxYjY0LCBxYjIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRW1wdHlNYXRlcmlhbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtlZCA9PSB1bmRlZmluZWQgfHwgKGNvZGUgPT0gdW5kZWZpbmVkICYmICEoJ2knIGluIGtlZCkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb2RlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBzdXBlcih7IHFiNjQ6IGtlZFsnaSddLCBjb2RlOiBjb2RlIH0pO1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gdGhpcy5jb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgX2Rlcml2ZTtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSBNdHJEZXguRWQyNTUxOU4pIHtcbiAgICAgICAgICAgICAgICAgICAgX2Rlcml2ZSA9IFByZWZpeGVyLl9kZXJpdmVfZWQyNTUxOU47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvZGUgPT0gTXRyRGV4LkVkMjU1MTkpIHtcbiAgICAgICAgICAgICAgICAgICAgX2Rlcml2ZSA9IFByZWZpeGVyLl9kZXJpdmVfZWQyNTUxOTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29kZSA9PSBNdHJEZXguQmxha2UzXzI1Nikge1xuICAgICAgICAgICAgICAgICAgICBfZGVyaXZlID0gUHJlZml4ZXIuX2Rlcml2ZV9ibGFrZTNfMjU2O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb2RlID0gJHtjb2RlfSBmb3IgcHJlZml4ZXIuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIFtyYXcsIGNvZGVdID0gX2Rlcml2ZShrZWQpO1xuICAgICAgICAgICAgICAgIHN1cGVyKHsgcmF3OiByYXcsIGNvZGU6IGNvZGUgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fZGVyaXZlID0gX2Rlcml2ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuY29kZSA9PSBNdHJEZXguRWQyNTUxOU4pIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcmlmeSA9IHRoaXMuX3ZlcmlmeV9lZDI1NTE5TjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvZGUgPT0gTXRyRGV4LkVkMjU1MTkpIHtcbiAgICAgICAgICAgIHRoaXMuX3ZlcmlmeSA9IHRoaXMuX3ZlcmlmeV9lZDI1NTE5O1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuY29kZSA9PSBNdHJEZXguQmxha2UzXzI1Nikge1xuICAgICAgICAgICAgdGhpcy5fdmVyaWZ5ID0gdGhpcy5fdmVyaWZ5X2JsYWtlM18yNTY7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvZGUgPSAke2NvZGV9IGZvciBwcmVmaXhlci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkZXJpdmUoc2FkKSB7XG4gICAgICAgIGlmIChzYWRbJ2knXSAhPSBJbGtzLmljcCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBOb24taW5jZXB0aW5nIGlsayAke3NhZFsnaSddfSBmb3IgcHJlZml4IGRlcml2YXRpb25gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVyaXZlKHNhZCk7XG4gICAgfVxuICAgIHZlcmlmeShzYWQsIHByZWZpeGVkID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKHNhZFsnaSddICE9IElsa3MuaWNwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbi1pbmNlcHRpbmcgaWxrICR7c2FkWydpJ119IGZvciBwcmVmaXggZGVyaXZhdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJpZnkoc2FkLCB0aGlzLnFiNjQsIHByZWZpeGVkKTtcbiAgICB9XG4gICAgc3RhdGljIF9kZXJpdmVfZWQyNTUxOU4oc2FkKSB7XG4gICAgICAgIGxldCB2ZXJmZXI7XG4gICAgICAgIGNvbnN0IGtleXMgPSBzYWRbJ2snXTtcbiAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQmFzaWMgZGVyaXZhdGlvbiBuZWVkcyBhdCBtb3N0IDEga2V5IGdvdCAke2tleXMubGVuZ3RofSBrZXlzIGluc3RlYWRgKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdmVyZmVyID0gbmV3IFZlcmZlcih7IHFiNjQ6IGtleXNbMF0gfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZXh0cmFjdGluZyBwdWJsaWMga2V5ID0gJHtlfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh2ZXJmZXIuY29kZSAhPSBNdHJEZXguRWQyNTUxOU4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzbWF0Y2ggZGVyaXZhdGlvbiBjb2RlID0gJHt2ZXJmZXIuY29kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXh0ID0gJ24nIGluIHNhZCA/IHNhZFsnbiddIDogW107XG4gICAgICAgIGlmICh2ZXJmZXIuY29kZSA9PSBNdHJEZXguRWQyNTUxOU4gJiYgbmV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vbi1lbXB0eSBueHQgPSAke25leHR9IGZvciBub24tdHJhbnNmZXJhYmxlIGNvZGUgPSAke3ZlcmZlci5jb2RlfWApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJhY2tlcnMgPSAnYicgaW4gc2FkID8gc2FkWydiJ10gOiBbXTtcbiAgICAgICAgaWYgKHZlcmZlci5jb2RlID09IE10ckRleC5FZDI1NTE5TiAmJiBiYWNrZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9uLWVtcHR5IGIgPSR7YmFja2Vyc30gZm9yIG5vbi10cmFuc2ZlcmFibGUgY29kZSA9ICR7dmVyZmVyLmNvZGV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYW5jaG9yID0gJ2EnIGluIHNhZCA/IHNhZFsnYSddIDogW107XG4gICAgICAgIGlmICh2ZXJmZXIuY29kZSA9PSBNdHJEZXguRWQyNTUxOU4gJiYgYW5jaG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm9uLWVtcHR5IGEgPSAke3ZlcmZlci5jb2RlfSBmb3Igbm9uLXRyYW5zZmVyYWJsZSBjb2RlID0gJHt2ZXJmZXIuY29kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3ZlcmZlci5yYXcsIHZlcmZlci5jb2RlXTtcbiAgICB9XG4gICAgc3RhdGljIF9kZXJpdmVfZWQyNTUxOShzYWQpIHtcbiAgICAgICAgbGV0IHZlcmZlcjtcbiAgICAgICAgY29uc3Qga2V5cyA9IHNhZFsnayddO1xuICAgICAgICBpZiAoa2V5cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBCYXNpYyBkZXJpdmF0aW9uIG5lZWRzIGF0IG1vc3QgMSBrZXkgZ290ICR7a2V5cy5sZW5ndGh9IGtleXMgaW5zdGVhZGApO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2ZXJmZXIgPSBuZXcgVmVyZmVyKHsgcWI2NDoga2V5c1swXSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBleHRyYWN0aW5nIHB1YmxpYyBrZXkgPSAke2V9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZlcmZlci5jb2RlIGluIFtNdHJEZXguRWQyNTUxOV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWlzbWF0Y2ggZGVyaXZhdGlvbiBjb2RlID0gJHt2ZXJmZXIuY29kZX1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW3ZlcmZlci5yYXcsIHZlcmZlci5jb2RlXTtcbiAgICB9XG4gICAgc3RhdGljIF9kZXJpdmVfYmxha2UzXzI1NihzYWQpIHtcbiAgICAgICAgY29uc3QgaWxrID0gc2FkWyd0J107XG4gICAgICAgIGlmICghW0lsa3MuaWNwLCBJbGtzLmRpcCwgSWxrcy52Y3AsIElsa3MuZGlwXS5pbmNsdWRlcyhpbGspKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgaWxrID0gJHtpbGt9IHRvIGRlcml2ZSBwcmUuYCk7XG4gICAgICAgIH1cbiAgICAgICAgc2FkWydpJ10gPSAnJy5wYWRTdGFydChNYXR0ZXIuU2l6ZXMuZ2V0KE10ckRleC5CbGFrZTNfMjU2KS5mcywgRHVtbXkpO1xuICAgICAgICBzYWRbJ2QnXSA9IHNhZFsnaSddO1xuICAgICAgICBjb25zdCBbcmF3XSA9IHNpemVpZnkoc2FkKTtcbiAgICAgICAgY29uc3QgZGlnID0gYmxha2UzLmNyZWF0ZSh7IGRrTGVuOiAzMiB9KS51cGRhdGUocmF3KS5kaWdlc3QoKTtcbiAgICAgICAgcmV0dXJuIFtkaWcsIE10ckRleC5CbGFrZTNfMjU2XTtcbiAgICB9XG4gICAgX3ZlcmlmeV9lZDI1NTE5TihzYWQsIHByZSwgcHJlZml4ZWQgPSBmYWxzZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3Qga2V5cyA9IHNhZFsnayddO1xuICAgICAgICAgICAgaWYgKGtleXMubGVuZ3RoICE9IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoa2V5c1swXSAhPSBwcmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlZml4ZWQgJiYgc2FkWydpJ10gIT0gcHJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmV4dCA9ICduJyBpbiBzYWQgPyBzYWRbJ24nXSA6IFtdO1xuICAgICAgICAgICAgaWYgKG5leHQubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIG11c3QgYmUgZW1wdHlcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX3ZlcmlmeV9lZDI1NTE5KHNhZCwgcHJlLCBwcmVmaXhlZCA9IGZhbHNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gc2FkWydrJ107XG4gICAgICAgICAgICBpZiAoa2V5cy5sZW5ndGggIT0gMSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChrZXlzWzBdICE9IHByZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVmaXhlZCAmJiBzYWRbJ2knXSAhPSBwcmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgX3ZlcmlmeV9ibGFrZTNfMjU2KHNhZCwgcHJlLCBwcmVmaXhlZCA9IGZhbHNlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBbcmF3XSA9IFByZWZpeGVyLl9kZXJpdmVfYmxha2UzXzI1NihzYWQpO1xuICAgICAgICAgICAgY29uc3QgY3J5bWF0ID0gbmV3IE1hdHRlcih7IHJhdzogcmF3LCBjb2RlOiBNdHJEZXguQmxha2UzXzI1NiB9KTtcbiAgICAgICAgICAgIGlmIChjcnltYXQucWI2NCAhPSBwcmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocHJlZml4ZWQgJiYgc2FkWydpJ10gIT0gcHJlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/saider.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Ids: () => (/* binding */ Ids),\n/* harmony export */   Saider: () => (/* binding */ Saider)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var _serder_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n/* harmony import */ var _noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @noble/hashes/blake3 */ \"(ssr)/./node_modules/@noble/hashes/esm/blake3.js\");\n\n\n\n\n\nconst Dummy = '#';\nvar Ids;\n(function (Ids) {\n    Ids[\"d\"] = \"d\";\n})(Ids || (Ids = {}));\nclass Saider extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor({ raw, code, qb64b, qb64, qb2 }, sad, kind, label = Ids.d) {\n        try {\n            super({ raw, code, qb64b, qb64, qb2 });\n        }\n        catch (e) {\n            if (e instanceof _kering_js__WEBPACK_IMPORTED_MODULE_2__.EmptyMaterialError) {\n                if (sad == undefined || !(label in sad)) {\n                    throw e;\n                }\n                if (code == undefined) {\n                    if (sad[label] != '') {\n                        super({ qb64: sad[label], code: code });\n                        code = this.code;\n                    }\n                    else {\n                        code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256;\n                    }\n                }\n                if (!_matter_js__WEBPACK_IMPORTED_MODULE_0__.DigiDex.has(code)) {\n                    throw new Error(`Unsupported digest code = ${code}`);\n                }\n                [raw] = Saider._derive(Object.assign({}, sad), code, kind, label);\n                super({ raw: raw, code: code });\n            }\n            else {\n                throw e;\n            }\n        }\n        if (!this.digestive) {\n            throw new Error(`Unsupported digest code = ${this.code}.`);\n        }\n    }\n    static _derive(sad, code, kind, label) {\n        if (!_matter_js__WEBPACK_IMPORTED_MODULE_0__.DigiDex.has(code)) {\n            throw new Error(`Unsupported digest code = ${code}.`);\n        }\n        sad = Object.assign({}, sad);\n        sad[label] = ''.padStart(_matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter.Sizes.get(code).fs, Dummy);\n        if ('v' in sad) {\n            [, , kind, sad] = (0,_serder_js__WEBPACK_IMPORTED_MODULE_3__.sizeify)(sad, kind);\n        }\n        const ser = Object.assign({}, sad);\n        const cpa = Saider._serialze(ser, kind);\n        switch (code) {\n            case _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256:\n                return [_noble_hashes_blake3__WEBPACK_IMPORTED_MODULE_4__.blake3.create({ dkLen: 32 }).update(cpa).digest(), sad];\n            default:\n                throw new Error(`Unsupported digest code = ${code}.`);\n        }\n    }\n    derive(sad, code, kind, label) {\n        code = code != undefined ? code : this.code;\n        return Saider._derive(sad, code, kind, label);\n    }\n    verify(sad, prefixed = false, versioned = false, kind, label = Ids.d) {\n        try {\n            const [raw, dsad] = Saider._derive(sad, this.code, kind, label);\n            const saider = new Saider({ raw: raw, code: this.code });\n            if (this.qb64 != saider.qb64) {\n                return false;\n            }\n            if ('v' in sad && versioned) {\n                if (sad['v'] != dsad['v']) {\n                    return false;\n                }\n            }\n            if (prefixed && sad[label] != this.qb64) {\n                return false;\n            }\n        }\n        catch (e) {\n            return false;\n        }\n        return true;\n    }\n    static _serialze(sad, kind) {\n        let knd = _core_js__WEBPACK_IMPORTED_MODULE_1__.Serials.JSON;\n        if ('v' in sad) {\n            [, knd] = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.deversify)(sad['v']);\n        }\n        if (kind == undefined) {\n            kind = knd;\n        }\n        return (0,_serder_js__WEBPACK_IMPORTED_MODULE_3__.dumps)(sad, kind);\n    }\n    static saidify(sad, code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256, kind = _core_js__WEBPACK_IMPORTED_MODULE_1__.Serials.JSON, label = Ids.d) {\n        if (!(label in sad)) {\n            throw new Error(`Missing id field labeled=${label} in sad.`);\n        }\n        let raw;\n        [raw, sad] = Saider._derive(sad, code, kind, label);\n        const saider = new Saider({ raw: raw, code: code }, undefined, kind, label);\n        sad[label] = saider.qb64;\n        return [saider, sad];\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zYWlkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFzRDtBQUNQO0FBQ0U7QUFDSjtBQUNDO0FBQzlDO0FBQ087QUFDUDtBQUNBO0FBQ0EsQ0FBQyxrQkFBa0I7QUFDWixxQkFBcUIsOENBQU07QUFDbEMsa0JBQWtCLDZCQUE2QjtBQUMvQztBQUNBLG9CQUFvQiw2QkFBNkI7QUFDakQ7QUFDQTtBQUNBLDZCQUE2QiwwREFBa0I7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyw4QkFBOEI7QUFDOUQ7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLDhDQUFNO0FBQ3JDO0FBQ0E7QUFDQSxxQkFBcUIsK0NBQU87QUFDNUIsaUVBQWlFLEtBQUs7QUFDdEU7QUFDQSx1REFBdUQ7QUFDdkQsd0JBQXdCLHNCQUFzQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5REFBeUQsVUFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQSxhQUFhLCtDQUFPO0FBQ3BCLHlEQUF5RCxLQUFLO0FBQzlEO0FBQ0EsOEJBQThCO0FBQzlCLGlDQUFpQyw4Q0FBTTtBQUN2QztBQUNBLDhCQUE4QixtREFBTztBQUNyQztBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0EsaUJBQWlCLDhDQUFNO0FBQ3ZCLHdCQUF3Qix3REFBTSxVQUFVLFdBQVc7QUFDbkQ7QUFDQSw2REFBNkQsS0FBSztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsMkJBQTJCO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiw2Q0FBTztBQUN6QjtBQUNBLHNCQUFzQixtREFBUztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsaURBQUs7QUFDcEI7QUFDQSwrQkFBK0IsOENBQU0sb0JBQW9CLDZDQUFPO0FBQ2hFO0FBQ0Esd0RBQXdELE9BQU87QUFDL0Q7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHNCQUFzQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL3NhaWRlci5qcz80N2IzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpZ2lEZXgsIE1hdHRlciwgTXRyRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBkZXZlcnNpZnksIFNlcmlhbHMgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBFbXB0eU1hdGVyaWFsRXJyb3IgfSBmcm9tIFwiLi9rZXJpbmcuanNcIjtcbmltcG9ydCB7IGR1bXBzLCBzaXplaWZ5IH0gZnJvbSBcIi4vc2VyZGVyLmpzXCI7XG5pbXBvcnQgeyBibGFrZTMgfSBmcm9tICdAbm9ibGUvaGFzaGVzL2JsYWtlMyc7XG5jb25zdCBEdW1teSA9ICcjJztcbmV4cG9ydCB2YXIgSWRzO1xuKGZ1bmN0aW9uIChJZHMpIHtcbiAgICBJZHNbXCJkXCJdID0gXCJkXCI7XG59KShJZHMgfHwgKElkcyA9IHt9KSk7XG5leHBvcnQgY2xhc3MgU2FpZGVyIGV4dGVuZHMgTWF0dGVyIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHJhdywgY29kZSwgcWI2NGIsIHFiNjQsIHFiMiB9LCBzYWQsIGtpbmQsIGxhYmVsID0gSWRzLmQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1cGVyKHsgcmF3LCBjb2RlLCBxYjY0YiwgcWI2NCwgcWIyIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEVtcHR5TWF0ZXJpYWxFcnJvcikge1xuICAgICAgICAgICAgICAgIGlmIChzYWQgPT0gdW5kZWZpbmVkIHx8ICEobGFiZWwgaW4gc2FkKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNhZFtsYWJlbF0gIT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1cGVyKHsgcWI2NDogc2FkW2xhYmVsXSwgY29kZTogY29kZSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGUgPSB0aGlzLmNvZGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlID0gTXRyRGV4LkJsYWtlM18yNTY7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFEaWdpRGV4Lmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRpZ2VzdCBjb2RlID0gJHtjb2RlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBbcmF3XSA9IFNhaWRlci5fZGVyaXZlKE9iamVjdC5hc3NpZ24oe30sIHNhZCksIGNvZGUsIGtpbmQsIGxhYmVsKTtcbiAgICAgICAgICAgICAgICBzdXBlcih7IHJhdzogcmF3LCBjb2RlOiBjb2RlIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuZGlnZXN0aXZlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGRpZ2VzdCBjb2RlID0gJHt0aGlzLmNvZGV9LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBfZGVyaXZlKHNhZCwgY29kZSwga2luZCwgbGFiZWwpIHtcbiAgICAgICAgaWYgKCFEaWdpRGV4Lmhhcyhjb2RlKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBkaWdlc3QgY29kZSA9ICR7Y29kZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgc2FkID0gT2JqZWN0LmFzc2lnbih7fSwgc2FkKTtcbiAgICAgICAgc2FkW2xhYmVsXSA9ICcnLnBhZFN0YXJ0KE1hdHRlci5TaXplcy5nZXQoY29kZSkuZnMsIER1bW15KTtcbiAgICAgICAgaWYgKCd2JyBpbiBzYWQpIHtcbiAgICAgICAgICAgIFssICwga2luZCwgc2FkXSA9IHNpemVpZnkoc2FkLCBraW5kKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZXIgPSBPYmplY3QuYXNzaWduKHt9LCBzYWQpO1xuICAgICAgICBjb25zdCBjcGEgPSBTYWlkZXIuX3NlcmlhbHplKHNlciwga2luZCk7XG4gICAgICAgIHN3aXRjaCAoY29kZSkge1xuICAgICAgICAgICAgY2FzZSBNdHJEZXguQmxha2UzXzI1NjpcbiAgICAgICAgICAgICAgICByZXR1cm4gW2JsYWtlMy5jcmVhdGUoeyBka0xlbjogMzIgfSkudXBkYXRlKGNwYSkuZGlnZXN0KCksIHNhZF07XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgZGlnZXN0IGNvZGUgPSAke2NvZGV9LmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRlcml2ZShzYWQsIGNvZGUsIGtpbmQsIGxhYmVsKSB7XG4gICAgICAgIGNvZGUgPSBjb2RlICE9IHVuZGVmaW5lZCA/IGNvZGUgOiB0aGlzLmNvZGU7XG4gICAgICAgIHJldHVybiBTYWlkZXIuX2Rlcml2ZShzYWQsIGNvZGUsIGtpbmQsIGxhYmVsKTtcbiAgICB9XG4gICAgdmVyaWZ5KHNhZCwgcHJlZml4ZWQgPSBmYWxzZSwgdmVyc2lvbmVkID0gZmFsc2UsIGtpbmQsIGxhYmVsID0gSWRzLmQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IFtyYXcsIGRzYWRdID0gU2FpZGVyLl9kZXJpdmUoc2FkLCB0aGlzLmNvZGUsIGtpbmQsIGxhYmVsKTtcbiAgICAgICAgICAgIGNvbnN0IHNhaWRlciA9IG5ldyBTYWlkZXIoeyByYXc6IHJhdywgY29kZTogdGhpcy5jb2RlIH0pO1xuICAgICAgICAgICAgaWYgKHRoaXMucWI2NCAhPSBzYWlkZXIucWI2NCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgndicgaW4gc2FkICYmIHZlcnNpb25lZCkge1xuICAgICAgICAgICAgICAgIGlmIChzYWRbJ3YnXSAhPSBkc2FkWyd2J10pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwcmVmaXhlZCAmJiBzYWRbbGFiZWxdICE9IHRoaXMucWI2NCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzdGF0aWMgX3NlcmlhbHplKHNhZCwga2luZCkge1xuICAgICAgICBsZXQga25kID0gU2VyaWFscy5KU09OO1xuICAgICAgICBpZiAoJ3YnIGluIHNhZCkge1xuICAgICAgICAgICAgWywga25kXSA9IGRldmVyc2lmeShzYWRbJ3YnXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGtpbmQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBraW5kID0ga25kO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkdW1wcyhzYWQsIGtpbmQpO1xuICAgIH1cbiAgICBzdGF0aWMgc2FpZGlmeShzYWQsIGNvZGUgPSBNdHJEZXguQmxha2UzXzI1Niwga2luZCA9IFNlcmlhbHMuSlNPTiwgbGFiZWwgPSBJZHMuZCkge1xuICAgICAgICBpZiAoIShsYWJlbCBpbiBzYWQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pc3NpbmcgaWQgZmllbGQgbGFiZWxlZD0ke2xhYmVsfSBpbiBzYWQuYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJhdztcbiAgICAgICAgW3Jhdywgc2FkXSA9IFNhaWRlci5fZGVyaXZlKHNhZCwgY29kZSwga2luZCwgbGFiZWwpO1xuICAgICAgICBjb25zdCBzYWlkZXIgPSBuZXcgU2FpZGVyKHsgcmF3OiByYXcsIGNvZGU6IGNvZGUgfSwgdW5kZWZpbmVkLCBraW5kLCBsYWJlbCk7XG4gICAgICAgIHNhZFtsYWJlbF0gPSBzYWlkZXIucWI2NDtcbiAgICAgICAgcmV0dXJuIFtzYWlkZXIsIHNhZF07XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/salter.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Salter: () => (/* binding */ Salter),\n/* harmony export */   Tier: () => (/* binding */ Tier)\n/* harmony export */ });\n/* harmony import */ var _signer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./signer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n\n\n\n\n/**\n * Secret derivation security tier.\n */\nvar Tier;\n(function (Tier) {\n    Tier[\"low\"] = \"low\";\n    Tier[\"med\"] = \"med\";\n    Tier[\"high\"] = \"high\";\n})(Tier || (Tier = {}));\n/**\n * Maintains a random salt for secrets (private keys).\n * Its .raw is random salt, .code as cipher suite for salt\n */\nclass Salter extends _matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter {\n    /**\n     * Creates a Salter from the provided raw salt bytes or generates a random salt if raw is not provided.\n     * Defaults to low security tier. Only supports Salt_128 salt type.\n     * @param salterArgs defines the kind of cryptographic seed to create with a variety of raw material initialization sources.\n     */\n    constructor(salterArgs) {\n        const { raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128, tier = Tier.low, qb64, qb64b, qb2, } = salterArgs;\n        try {\n            super({ raw, code, qb64, qb64b, qb2 });\n        }\n        catch (e) {\n            if (e instanceof _kering_js__WEBPACK_IMPORTED_MODULE_2__.EmptyMaterialError) {\n                if (code == _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128) {\n                    const salt = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_3__.randombytes_buf(libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_3__.crypto_pwhash_SALTBYTES);\n                    super({ raw: salt, code: code });\n                }\n                else {\n                    throw new Error('invalid code for Salter, only Salt_128 accepted');\n                }\n            }\n            else {\n                throw e;\n            }\n        }\n        if (this.code != _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Salt_128) {\n            throw new Error('invalid code for Salter, only Salt_128 accepted');\n        }\n        this._tier = tier !== null ? tier : Tier.low;\n    }\n    /**\n     * Stretches the salt to a secret key using the path, .raw, tier, and size determined by self.code.\n     *\n     * @param size number of bytes of the stretched seed\n     * @param path string of bytes prepended (prefixed) to the salt before stretching\n     * @param tier security tier for stretching\n     * @param temp boolean, True means use temporary, insecure tier; for testing only\n     * @returns stretched raw binary seed (secret) derived from path and .raw, and size using argon2d stretching algorithm.\n     * @private\n     */\n    stretch(size = 32, path = '', tier = null, temp = false) {\n        tier = tier == null ? this.tier : tier;\n        let opslimit, memlimit;\n        // Harcoded values based on keripy\n        if (temp) {\n            opslimit = 1; //libsodium.crypto_pwhash_OPSLIMIT_MIN\n            memlimit = 8192; //libsodium.crypto_pwhash_MEMLIMIT_MIN\n        }\n        else {\n            switch (tier) {\n                case Tier.low:\n                    opslimit = 2; //libsodium.crypto_pwhash_OPSLIMIT_INTERACTIVE\n                    memlimit = 67108864; //libsodium.crypto_pwhash_MEMLIMIT_INTERACTIVE\n                    break;\n                case Tier.med:\n                    opslimit = 3; //libsodium.crypto_pwhash_OPSLIMIT_MODERATE\n                    memlimit = 268435456; //libsodium.crypto_pwhash_MEMLIMIT_MODERATE\n                    break;\n                case Tier.high:\n                    opslimit = 4; //libsodium.crypto_pwhash_OPSLIMIT_SENSITIVE\n                    memlimit = 1073741824; //libsodium.crypto_pwhash_MEMLIMIT_SENSITIVE\n                    break;\n                default:\n                    throw new Error(`Unsupported security tier = ${tier}.`);\n            }\n        }\n        return libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_3__.crypto_pwhash(size, path, this.raw, opslimit, memlimit, libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_3__.crypto_pwhash_ALG_ARGON2ID13);\n    }\n    /**\n     * Returns Signer with the private key secret derived from code the path, the user entered passcode as a salt,\n     * and the security tier sized by the CESR cryptographic seed size indicated by the code. See the example below.\n     * The Signer's public key for its .verfer is derived from its private key, the Matter code, and the transferable boolean.\n     *\n     * The construction of the raw hash bytes used looks like this:\n     *  (      size,               password, salt                                   )\n     *  where\n     *  ( code size,                   path, Base64Decode(passcode)                 )\n     *  for example, for the initial inception signing key the following parameters are used:\n     *  (        32, \"signify:controller00\", Base64Decode(\"Athisismysecretkeyseed\") )\n     *  and for the initial rotation key pair the following parameters are used:\n     *  (        32, \"signify:controller01\", Base64Decode(\"Athisismysecretkeyseed\") )\n     *\n     * @param code derivation code indicating seed type\n     * @param transferable whether or not the key is for a transferable or non-transferable identifier.\n     * @param path string of bytes prepended (prefixed) to the salt before stretching\n     * @param tier security tier for stretching\n     * @param temp boolean, True means use temporary, insecure tier; for testing only\n     */\n    signer(code = _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519_Seed, transferable = true, path = '', tier = null, temp = false) {\n        const seed = this.stretch(_matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter._rawSize(code), path, tier, temp);\n        return new _signer_js__WEBPACK_IMPORTED_MODULE_0__.Signer({\n            raw: seed, // private key\n            code: code,\n            transferable: transferable,\n        });\n    }\n    get tier() {\n        return this._tier;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zYWx0ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXFDO0FBQ1E7QUFDSTtBQUNEO0FBQ2hEO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLG9CQUFvQjtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQiw4Q0FBTTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsWUFBWSw4Q0FBTSxnREFBZ0Q7QUFDbEY7QUFDQSxvQkFBb0IsNkJBQTZCO0FBQ2pEO0FBQ0E7QUFDQSw2QkFBNkIsMERBQWtCO0FBQy9DLDRCQUE0Qiw4Q0FBTTtBQUNsQyxpQ0FBaUMsb0VBQXlCLENBQUMsNEVBQWlDO0FBQzVGLDRCQUE0Qix1QkFBdUI7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDhDQUFNO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUVBQXFFO0FBQ3JFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUIsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLHlDQUF5QztBQUN6QztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLDBDQUEwQztBQUMxQztBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDLDJDQUEyQztBQUMzQztBQUNBO0FBQ0EsbUVBQW1FLEtBQUs7QUFDeEU7QUFDQTtBQUNBLGVBQWUsa0VBQXVCLDJDQUEyQyxpRkFBc0M7QUFDdkg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxRUFBcUU7QUFDckU7QUFDQSxrQkFBa0IsOENBQU07QUFDeEIsa0NBQWtDLDhDQUFNO0FBQ3hDLG1CQUFtQiw4Q0FBTTtBQUN6QjtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL3NhbHRlci5qcz8zYTc3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNpZ25lciB9IGZyb20gXCIuL3NpZ25lci5qc1wiO1xuaW1wb3J0IHsgTWF0dGVyLCBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IEVtcHR5TWF0ZXJpYWxFcnJvciB9IGZyb20gXCIuL2tlcmluZy5qc1wiO1xuaW1wb3J0IGxpYnNvZGl1bSBmcm9tICdsaWJzb2RpdW0td3JhcHBlcnMtc3Vtbyc7XG4vKipcbiAqIFNlY3JldCBkZXJpdmF0aW9uIHNlY3VyaXR5IHRpZXIuXG4gKi9cbmV4cG9ydCB2YXIgVGllcjtcbihmdW5jdGlvbiAoVGllcikge1xuICAgIFRpZXJbXCJsb3dcIl0gPSBcImxvd1wiO1xuICAgIFRpZXJbXCJtZWRcIl0gPSBcIm1lZFwiO1xuICAgIFRpZXJbXCJoaWdoXCJdID0gXCJoaWdoXCI7XG59KShUaWVyIHx8IChUaWVyID0ge30pKTtcbi8qKlxuICogTWFpbnRhaW5zIGEgcmFuZG9tIHNhbHQgZm9yIHNlY3JldHMgKHByaXZhdGUga2V5cykuXG4gKiBJdHMgLnJhdyBpcyByYW5kb20gc2FsdCwgLmNvZGUgYXMgY2lwaGVyIHN1aXRlIGZvciBzYWx0XG4gKi9cbmV4cG9ydCBjbGFzcyBTYWx0ZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBTYWx0ZXIgZnJvbSB0aGUgcHJvdmlkZWQgcmF3IHNhbHQgYnl0ZXMgb3IgZ2VuZXJhdGVzIGEgcmFuZG9tIHNhbHQgaWYgcmF3IGlzIG5vdCBwcm92aWRlZC5cbiAgICAgKiBEZWZhdWx0cyB0byBsb3cgc2VjdXJpdHkgdGllci4gT25seSBzdXBwb3J0cyBTYWx0XzEyOCBzYWx0IHR5cGUuXG4gICAgICogQHBhcmFtIHNhbHRlckFyZ3MgZGVmaW5lcyB0aGUga2luZCBvZiBjcnlwdG9ncmFwaGljIHNlZWQgdG8gY3JlYXRlIHdpdGggYSB2YXJpZXR5IG9mIHJhdyBtYXRlcmlhbCBpbml0aWFsaXphdGlvbiBzb3VyY2VzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHNhbHRlckFyZ3MpIHtcbiAgICAgICAgY29uc3QgeyByYXcsIGNvZGUgPSBNdHJEZXguU2FsdF8xMjgsIHRpZXIgPSBUaWVyLmxvdywgcWI2NCwgcWI2NGIsIHFiMiwgfSA9IHNhbHRlckFyZ3M7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NCwgcWI2NGIsIHFiMiB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBFbXB0eU1hdGVyaWFsRXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29kZSA9PSBNdHJEZXguU2FsdF8xMjgpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2FsdCA9IGxpYnNvZGl1bS5yYW5kb21ieXRlc19idWYobGlic29kaXVtLmNyeXB0b19wd2hhc2hfU0FMVEJZVEVTKTtcbiAgICAgICAgICAgICAgICAgICAgc3VwZXIoeyByYXc6IHNhbHQsIGNvZGU6IGNvZGUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgY29kZSBmb3IgU2FsdGVyLCBvbmx5IFNhbHRfMTI4IGFjY2VwdGVkJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jb2RlICE9IE10ckRleC5TYWx0XzEyOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdpbnZhbGlkIGNvZGUgZm9yIFNhbHRlciwgb25seSBTYWx0XzEyOCBhY2NlcHRlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3RpZXIgPSB0aWVyICE9PSBudWxsID8gdGllciA6IFRpZXIubG93O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdHJldGNoZXMgdGhlIHNhbHQgdG8gYSBzZWNyZXQga2V5IHVzaW5nIHRoZSBwYXRoLCAucmF3LCB0aWVyLCBhbmQgc2l6ZSBkZXRlcm1pbmVkIGJ5IHNlbGYuY29kZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzaXplIG51bWJlciBvZiBieXRlcyBvZiB0aGUgc3RyZXRjaGVkIHNlZWRcbiAgICAgKiBAcGFyYW0gcGF0aCBzdHJpbmcgb2YgYnl0ZXMgcHJlcGVuZGVkIChwcmVmaXhlZCkgdG8gdGhlIHNhbHQgYmVmb3JlIHN0cmV0Y2hpbmdcbiAgICAgKiBAcGFyYW0gdGllciBzZWN1cml0eSB0aWVyIGZvciBzdHJldGNoaW5nXG4gICAgICogQHBhcmFtIHRlbXAgYm9vbGVhbiwgVHJ1ZSBtZWFucyB1c2UgdGVtcG9yYXJ5LCBpbnNlY3VyZSB0aWVyOyBmb3IgdGVzdGluZyBvbmx5XG4gICAgICogQHJldHVybnMgc3RyZXRjaGVkIHJhdyBiaW5hcnkgc2VlZCAoc2VjcmV0KSBkZXJpdmVkIGZyb20gcGF0aCBhbmQgLnJhdywgYW5kIHNpemUgdXNpbmcgYXJnb24yZCBzdHJldGNoaW5nIGFsZ29yaXRobS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIHN0cmV0Y2goc2l6ZSA9IDMyLCBwYXRoID0gJycsIHRpZXIgPSBudWxsLCB0ZW1wID0gZmFsc2UpIHtcbiAgICAgICAgdGllciA9IHRpZXIgPT0gbnVsbCA/IHRoaXMudGllciA6IHRpZXI7XG4gICAgICAgIGxldCBvcHNsaW1pdCwgbWVtbGltaXQ7XG4gICAgICAgIC8vIEhhcmNvZGVkIHZhbHVlcyBiYXNlZCBvbiBrZXJpcHlcbiAgICAgICAgaWYgKHRlbXApIHtcbiAgICAgICAgICAgIG9wc2xpbWl0ID0gMTsgLy9saWJzb2RpdW0uY3J5cHRvX3B3aGFzaF9PUFNMSU1JVF9NSU5cbiAgICAgICAgICAgIG1lbWxpbWl0ID0gODE5MjsgLy9saWJzb2RpdW0uY3J5cHRvX3B3aGFzaF9NRU1MSU1JVF9NSU5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAodGllcikge1xuICAgICAgICAgICAgICAgIGNhc2UgVGllci5sb3c6XG4gICAgICAgICAgICAgICAgICAgIG9wc2xpbWl0ID0gMjsgLy9saWJzb2RpdW0uY3J5cHRvX3B3aGFzaF9PUFNMSU1JVF9JTlRFUkFDVElWRVxuICAgICAgICAgICAgICAgICAgICBtZW1saW1pdCA9IDY3MTA4ODY0OyAvL2xpYnNvZGl1bS5jcnlwdG9fcHdoYXNoX01FTUxJTUlUX0lOVEVSQUNUSVZFXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgVGllci5tZWQ6XG4gICAgICAgICAgICAgICAgICAgIG9wc2xpbWl0ID0gMzsgLy9saWJzb2RpdW0uY3J5cHRvX3B3aGFzaF9PUFNMSU1JVF9NT0RFUkFURVxuICAgICAgICAgICAgICAgICAgICBtZW1saW1pdCA9IDI2ODQzNTQ1NjsgLy9saWJzb2RpdW0uY3J5cHRvX3B3aGFzaF9NRU1MSU1JVF9NT0RFUkFURVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRpZXIuaGlnaDpcbiAgICAgICAgICAgICAgICAgICAgb3BzbGltaXQgPSA0OyAvL2xpYnNvZGl1bS5jcnlwdG9fcHdoYXNoX09QU0xJTUlUX1NFTlNJVElWRVxuICAgICAgICAgICAgICAgICAgICBtZW1saW1pdCA9IDEwNzM3NDE4MjQ7IC8vbGlic29kaXVtLmNyeXB0b19wd2hhc2hfTUVNTElNSVRfU0VOU0lUSVZFXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc2VjdXJpdHkgdGllciA9ICR7dGllcn0uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpYnNvZGl1bS5jcnlwdG9fcHdoYXNoKHNpemUsIHBhdGgsIHRoaXMucmF3LCBvcHNsaW1pdCwgbWVtbGltaXQsIGxpYnNvZGl1bS5jcnlwdG9fcHdoYXNoX0FMR19BUkdPTjJJRDEzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBTaWduZXIgd2l0aCB0aGUgcHJpdmF0ZSBrZXkgc2VjcmV0IGRlcml2ZWQgZnJvbSBjb2RlIHRoZSBwYXRoLCB0aGUgdXNlciBlbnRlcmVkIHBhc3Njb2RlIGFzIGEgc2FsdCxcbiAgICAgKiBhbmQgdGhlIHNlY3VyaXR5IHRpZXIgc2l6ZWQgYnkgdGhlIENFU1IgY3J5cHRvZ3JhcGhpYyBzZWVkIHNpemUgaW5kaWNhdGVkIGJ5IHRoZSBjb2RlLiBTZWUgdGhlIGV4YW1wbGUgYmVsb3cuXG4gICAgICogVGhlIFNpZ25lcidzIHB1YmxpYyBrZXkgZm9yIGl0cyAudmVyZmVyIGlzIGRlcml2ZWQgZnJvbSBpdHMgcHJpdmF0ZSBrZXksIHRoZSBNYXR0ZXIgY29kZSwgYW5kIHRoZSB0cmFuc2ZlcmFibGUgYm9vbGVhbi5cbiAgICAgKlxuICAgICAqIFRoZSBjb25zdHJ1Y3Rpb24gb2YgdGhlIHJhdyBoYXNoIGJ5dGVzIHVzZWQgbG9va3MgbGlrZSB0aGlzOlxuICAgICAqICAoICAgICAgc2l6ZSwgICAgICAgICAgICAgICBwYXNzd29yZCwgc2FsdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAqICB3aGVyZVxuICAgICAqICAoIGNvZGUgc2l6ZSwgICAgICAgICAgICAgICAgICAgcGF0aCwgQmFzZTY0RGVjb2RlKHBhc3Njb2RlKSAgICAgICAgICAgICAgICAgKVxuICAgICAqICBmb3IgZXhhbXBsZSwgZm9yIHRoZSBpbml0aWFsIGluY2VwdGlvbiBzaWduaW5nIGtleSB0aGUgZm9sbG93aW5nIHBhcmFtZXRlcnMgYXJlIHVzZWQ6XG4gICAgICogICggICAgICAgIDMyLCBcInNpZ25pZnk6Y29udHJvbGxlcjAwXCIsIEJhc2U2NERlY29kZShcIkF0aGlzaXNteXNlY3JldGtleXNlZWRcIikgKVxuICAgICAqICBhbmQgZm9yIHRoZSBpbml0aWFsIHJvdGF0aW9uIGtleSBwYWlyIHRoZSBmb2xsb3dpbmcgcGFyYW1ldGVycyBhcmUgdXNlZDpcbiAgICAgKiAgKCAgICAgICAgMzIsIFwic2lnbmlmeTpjb250cm9sbGVyMDFcIiwgQmFzZTY0RGVjb2RlKFwiQXRoaXNpc215c2VjcmV0a2V5c2VlZFwiKSApXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY29kZSBkZXJpdmF0aW9uIGNvZGUgaW5kaWNhdGluZyBzZWVkIHR5cGVcbiAgICAgKiBAcGFyYW0gdHJhbnNmZXJhYmxlIHdoZXRoZXIgb3Igbm90IHRoZSBrZXkgaXMgZm9yIGEgdHJhbnNmZXJhYmxlIG9yIG5vbi10cmFuc2ZlcmFibGUgaWRlbnRpZmllci5cbiAgICAgKiBAcGFyYW0gcGF0aCBzdHJpbmcgb2YgYnl0ZXMgcHJlcGVuZGVkIChwcmVmaXhlZCkgdG8gdGhlIHNhbHQgYmVmb3JlIHN0cmV0Y2hpbmdcbiAgICAgKiBAcGFyYW0gdGllciBzZWN1cml0eSB0aWVyIGZvciBzdHJldGNoaW5nXG4gICAgICogQHBhcmFtIHRlbXAgYm9vbGVhbiwgVHJ1ZSBtZWFucyB1c2UgdGVtcG9yYXJ5LCBpbnNlY3VyZSB0aWVyOyBmb3IgdGVzdGluZyBvbmx5XG4gICAgICovXG4gICAgc2lnbmVyKGNvZGUgPSBNdHJEZXguRWQyNTUxOV9TZWVkLCB0cmFuc2ZlcmFibGUgPSB0cnVlLCBwYXRoID0gJycsIHRpZXIgPSBudWxsLCB0ZW1wID0gZmFsc2UpIHtcbiAgICAgICAgY29uc3Qgc2VlZCA9IHRoaXMuc3RyZXRjaChNYXR0ZXIuX3Jhd1NpemUoY29kZSksIHBhdGgsIHRpZXIsIHRlbXApO1xuICAgICAgICByZXR1cm4gbmV3IFNpZ25lcih7XG4gICAgICAgICAgICByYXc6IHNlZWQsIC8vIHByaXZhdGUga2V5XG4gICAgICAgICAgICBjb2RlOiBjb2RlLFxuICAgICAgICAgICAgdHJhbnNmZXJhYmxlOiB0cmFuc2ZlcmFibGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgdGllcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpZXI7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/salter.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/seqner.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Seqner: () => (/* binding */ Seqner)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\");\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\n/**\n * @description  Seqner: subclass of Matter, cryptographic material, for ordinal numbers\n * such as sequence numbers or first seen ordering numbers.\n * Seqner provides fully qualified format for ordinals (sequence numbers etc)\n * when provided as attached cryptographic material elements.\n */\nclass Seqner extends _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter {\n    constructor(_a) {\n        var { raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Salt_128, qb64, qb64b, qb2, sn, snh } = _a, kwa = __rest(_a, [\"raw\", \"code\", \"qb64\", \"qb64b\", \"qb2\", \"sn\", \"snh\"]);\n        if (!raw && !qb64b && !qb64 && !qb2) {\n            if (sn === undefined) {\n                if (snh === undefined) {\n                    sn = 0;\n                }\n                else {\n                    sn = parseInt(snh, 16);\n                }\n            }\n            raw = (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.intToBytes)(sn, _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter._rawSize(_matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Salt_128));\n        }\n        super(Object.assign({ raw, code, qb64, qb64b, qb2 }, kwa));\n        if (this.code !== _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Salt_128) {\n            throw new Error(`Invalid code = ${this.code} for Seqner.`);\n        }\n    }\n    get sn() {\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_1__.bytesToInt)(this.raw); //To check if other readUInt64 is needed\n    }\n    get snh() {\n        return this.sn.toString(16);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zZXFuZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsY0FBYyxTQUFJLElBQUksU0FBSTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZEQUE2RCxjQUFjO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDNkM7QUFDTztBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxxQkFBcUIsOENBQU07QUFDbEM7QUFDQSxjQUFjLFlBQVksOENBQU0sdUNBQXVDO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixxREFBVSxLQUFLLDhDQUFNLFVBQVUsOENBQU07QUFDdkQ7QUFDQSw4QkFBOEIsNkJBQTZCO0FBQzNELDBCQUEwQiw4Q0FBTTtBQUNoQyw4Q0FBOEMsV0FBVztBQUN6RDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHFEQUFVLFlBQVk7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3Qva2VyaS9jb3JlL3NlcW5lci5qcz81ZTBlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX3Jlc3QgPSAodGhpcyAmJiB0aGlzLl9fcmVzdCkgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgICB0W3BdID0gc1twXTtcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgICAgfVxuICAgIHJldHVybiB0O1xufTtcbmltcG9ydCB7IE1hdHRlciwgTXRyRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBpbnRUb0J5dGVzLCBieXRlc1RvSW50IH0gZnJvbSBcIi4vdXRpbHMuanNcIjtcbi8qKlxuICogQGRlc2NyaXB0aW9uICBTZXFuZXI6IHN1YmNsYXNzIG9mIE1hdHRlciwgY3J5cHRvZ3JhcGhpYyBtYXRlcmlhbCwgZm9yIG9yZGluYWwgbnVtYmVyc1xuICogc3VjaCBhcyBzZXF1ZW5jZSBudW1iZXJzIG9yIGZpcnN0IHNlZW4gb3JkZXJpbmcgbnVtYmVycy5cbiAqIFNlcW5lciBwcm92aWRlcyBmdWxseSBxdWFsaWZpZWQgZm9ybWF0IGZvciBvcmRpbmFscyAoc2VxdWVuY2UgbnVtYmVycyBldGMpXG4gKiB3aGVuIHByb3ZpZGVkIGFzIGF0dGFjaGVkIGNyeXB0b2dyYXBoaWMgbWF0ZXJpYWwgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXFuZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKF9hKSB7XG4gICAgICAgIHZhciB7IHJhdywgY29kZSA9IE10ckRleC5TYWx0XzEyOCwgcWI2NCwgcWI2NGIsIHFiMiwgc24sIHNuaCB9ID0gX2EsIGt3YSA9IF9fcmVzdChfYSwgW1wicmF3XCIsIFwiY29kZVwiLCBcInFiNjRcIiwgXCJxYjY0YlwiLCBcInFiMlwiLCBcInNuXCIsIFwic25oXCJdKTtcbiAgICAgICAgaWYgKCFyYXcgJiYgIXFiNjRiICYmICFxYjY0ICYmICFxYjIpIHtcbiAgICAgICAgICAgIGlmIChzbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNuaCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHNuID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNuID0gcGFyc2VJbnQoc25oLCAxNik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmF3ID0gaW50VG9CeXRlcyhzbiwgTWF0dGVyLl9yYXdTaXplKE10ckRleC5TYWx0XzEyOCkpO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKE9iamVjdC5hc3NpZ24oeyByYXcsIGNvZGUsIHFiNjQsIHFiNjRiLCBxYjIgfSwga3dhKSk7XG4gICAgICAgIGlmICh0aGlzLmNvZGUgIT09IE10ckRleC5TYWx0XzEyOCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGNvZGUgPSAke3RoaXMuY29kZX0gZm9yIFNlcW5lci5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc24oKSB7XG4gICAgICAgIHJldHVybiBieXRlc1RvSW50KHRoaXMucmF3KTsgLy9UbyBjaGVjayBpZiBvdGhlciByZWFkVUludDY0IGlzIG5lZWRlZFxuICAgIH1cbiAgICBnZXQgc25oKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zbi50b1N0cmluZygxNik7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/serder.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Serder: () => (/* binding */ Serder),\n/* harmony export */   dumps: () => (/* binding */ dumps),\n/* harmony export */   sizeify: () => (/* binding */ sizeify)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _verfer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _diger_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./diger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/diger.js\");\n/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./number.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\");\n\n\n\n\n\nclass Serder {\n    /**\n     * Creates a new Serder object from a self-addressing data dictionary.\n     * @param sad self-addressing data dictionary.\n     * @param kind serialization type to produce\n     * @param code derivation code for the prefix\n     */\n    constructor(sad, kind = _core_js__WEBPACK_IMPORTED_MODULE_1__.Serials.JSON, code = _matter_js__WEBPACK_IMPORTED_MODULE_0__.MtrDex.Blake3_256) {\n        this._raw = '';\n        this._sad = {};\n        this._proto = _core_js__WEBPACK_IMPORTED_MODULE_1__.Protocols.KERI;\n        this._size = 0;\n        this._version = _core_js__WEBPACK_IMPORTED_MODULE_1__.Vrsn_1_0;\n        const [raw, proto, eKind, eSad, version] = this._exhale(sad, kind);\n        this._raw = raw;\n        this._sad = eSad;\n        this._proto = proto;\n        this._version = version;\n        this._code = code;\n        this._kind = eKind;\n        this._size = raw.length;\n    }\n    get sad() {\n        return this._sad;\n    }\n    get pre() {\n        return this._sad['i'];\n    }\n    get code() {\n        return this._code;\n    }\n    get raw() {\n        return this._raw;\n    }\n    get said() {\n        return this._sad['d'];\n    }\n    get sner() {\n        return new _number_js__WEBPACK_IMPORTED_MODULE_4__.CesrNumber({}, this.sad['s']);\n    }\n    get sn() {\n        return this.sner.num;\n    }\n    get kind() {\n        return this._kind;\n    }\n    /**\n     * Serializes a self-addressing data dictionary from the dictionary passed in\n     * using the specified serialization type.\n     * @param sad self-addressing data dictionary.\n     * @param kind serialization type to produce\n     * @private\n     */\n    _exhale(sad, kind) {\n        return sizeify(sad, kind);\n    }\n    get proto() {\n        return this._proto;\n    }\n    get size() {\n        return this._size;\n    }\n    get version() {\n        return this._version;\n    }\n    get verfers() {\n        let keys = [];\n        if ('k' in this._sad) {\n            // establishment event\n            keys = this._sad['k'];\n        }\n        else {\n            // non-establishment event\n            keys = [];\n        }\n        // create a new Verfer for each key\n        const verfers = [];\n        for (const key of keys) {\n            verfers.push(new _verfer_js__WEBPACK_IMPORTED_MODULE_2__.Verfer({ qb64: key }));\n        }\n        return verfers;\n    }\n    get digers() {\n        let keys = [];\n        if ('n' in this._sad) {\n            // establishment event\n            keys = this._sad['n'];\n        }\n        else {\n            // non-establishment event\n            keys = [];\n        }\n        // create a new Verfer for each key\n        const digers = [];\n        for (const key of keys) {\n            digers.push(new _diger_js__WEBPACK_IMPORTED_MODULE_3__.Diger({ qb64: key }));\n        }\n        return digers;\n    }\n    pretty() {\n        return JSON.stringify(this._sad, undefined, 2);\n    }\n}\nfunction dumps(sad, kind) {\n    if (kind == _core_js__WEBPACK_IMPORTED_MODULE_1__.Serials.JSON) {\n        return JSON.stringify(sad);\n    }\n    else {\n        throw new Error('unsupported event encoding');\n    }\n}\nfunction sizeify(ked, kind) {\n    if (!('v' in ked)) {\n        throw new Error('Missing or empty version string');\n    }\n    const [proto, knd, version] = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.deversify)(ked['v']);\n    if (version != _core_js__WEBPACK_IMPORTED_MODULE_1__.Vrsn_1_0) {\n        throw new Error(`unsupported version ${version.toString()}`);\n    }\n    if (kind == undefined) {\n        kind = knd;\n    }\n    let raw = dumps(ked, kind);\n    const size = new TextEncoder().encode(raw).length;\n    ked['v'] = (0,_core_js__WEBPACK_IMPORTED_MODULE_1__.versify)(proto, version, kind, size);\n    raw = dumps(ked, kind);\n    return [raw, proto, kind, ked, version];\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zZXJkZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBcUM7QUFDeUM7QUFDekM7QUFDRjtBQUNNO0FBQ2xDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZDQUFPLGNBQWMsOENBQU07QUFDdkQ7QUFDQTtBQUNBLHNCQUFzQiwrQ0FBUztBQUMvQjtBQUNBLHdCQUF3Qiw4Q0FBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixrREFBVSxHQUFHO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw4Q0FBTSxHQUFHLFdBQVc7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsNENBQUssR0FBRyxXQUFXO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCxnQkFBZ0IsNkNBQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsbURBQVM7QUFDM0MsbUJBQW1CLDhDQUFRO0FBQzNCLCtDQUErQyxtQkFBbUI7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxpREFBTztBQUN0QjtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zZXJkZXIuanM/MTVhYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBNdHJEZXggfSBmcm9tIFwiLi9tYXR0ZXIuanNcIjtcbmltcG9ydCB7IGRldmVyc2lmeSwgUHJvdG9jb2xzLCBTZXJpYWxzLCB2ZXJzaWZ5LCBWcnNuXzFfMCwgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBWZXJmZXIgfSBmcm9tIFwiLi92ZXJmZXIuanNcIjtcbmltcG9ydCB7IERpZ2VyIH0gZnJvbSBcIi4vZGlnZXIuanNcIjtcbmltcG9ydCB7IENlc3JOdW1iZXIgfSBmcm9tIFwiLi9udW1iZXIuanNcIjtcbmV4cG9ydCBjbGFzcyBTZXJkZXIge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU2VyZGVyIG9iamVjdCBmcm9tIGEgc2VsZi1hZGRyZXNzaW5nIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKiBAcGFyYW0gc2FkIHNlbGYtYWRkcmVzc2luZyBkYXRhIGRpY3Rpb25hcnkuXG4gICAgICogQHBhcmFtIGtpbmQgc2VyaWFsaXphdGlvbiB0eXBlIHRvIHByb2R1Y2VcbiAgICAgKiBAcGFyYW0gY29kZSBkZXJpdmF0aW9uIGNvZGUgZm9yIHRoZSBwcmVmaXhcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihzYWQsIGtpbmQgPSBTZXJpYWxzLkpTT04sIGNvZGUgPSBNdHJEZXguQmxha2UzXzI1Nikge1xuICAgICAgICB0aGlzLl9yYXcgPSAnJztcbiAgICAgICAgdGhpcy5fc2FkID0ge307XG4gICAgICAgIHRoaXMuX3Byb3RvID0gUHJvdG9jb2xzLktFUkk7XG4gICAgICAgIHRoaXMuX3NpemUgPSAwO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gVnJzbl8xXzA7XG4gICAgICAgIGNvbnN0IFtyYXcsIHByb3RvLCBlS2luZCwgZVNhZCwgdmVyc2lvbl0gPSB0aGlzLl9leGhhbGUoc2FkLCBraW5kKTtcbiAgICAgICAgdGhpcy5fcmF3ID0gcmF3O1xuICAgICAgICB0aGlzLl9zYWQgPSBlU2FkO1xuICAgICAgICB0aGlzLl9wcm90byA9IHByb3RvO1xuICAgICAgICB0aGlzLl92ZXJzaW9uID0gdmVyc2lvbjtcbiAgICAgICAgdGhpcy5fY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMuX2tpbmQgPSBlS2luZDtcbiAgICAgICAgdGhpcy5fc2l6ZSA9IHJhdy5sZW5ndGg7XG4gICAgfVxuICAgIGdldCBzYWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYWQ7XG4gICAgfVxuICAgIGdldCBwcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zYWRbJ2knXTtcbiAgICB9XG4gICAgZ2V0IGNvZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jb2RlO1xuICAgIH1cbiAgICBnZXQgcmF3KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmF3O1xuICAgIH1cbiAgICBnZXQgc2FpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhZFsnZCddO1xuICAgIH1cbiAgICBnZXQgc25lcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDZXNyTnVtYmVyKHt9LCB0aGlzLnNhZFsncyddKTtcbiAgICB9XG4gICAgZ2V0IHNuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zbmVyLm51bTtcbiAgICB9XG4gICAgZ2V0IGtpbmQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9raW5kO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIGEgc2VsZi1hZGRyZXNzaW5nIGRhdGEgZGljdGlvbmFyeSBmcm9tIHRoZSBkaWN0aW9uYXJ5IHBhc3NlZCBpblxuICAgICAqIHVzaW5nIHRoZSBzcGVjaWZpZWQgc2VyaWFsaXphdGlvbiB0eXBlLlxuICAgICAqIEBwYXJhbSBzYWQgc2VsZi1hZGRyZXNzaW5nIGRhdGEgZGljdGlvbmFyeS5cbiAgICAgKiBAcGFyYW0ga2luZCBzZXJpYWxpemF0aW9uIHR5cGUgdG8gcHJvZHVjZVxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2V4aGFsZShzYWQsIGtpbmQpIHtcbiAgICAgICAgcmV0dXJuIHNpemVpZnkoc2FkLCBraW5kKTtcbiAgICB9XG4gICAgZ2V0IHByb3RvKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG87XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcbiAgICB9XG4gICAgZ2V0IHZlcnNpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJzaW9uO1xuICAgIH1cbiAgICBnZXQgdmVyZmVycygpIHtcbiAgICAgICAgbGV0IGtleXMgPSBbXTtcbiAgICAgICAgaWYgKCdrJyBpbiB0aGlzLl9zYWQpIHtcbiAgICAgICAgICAgIC8vIGVzdGFibGlzaG1lbnQgZXZlbnRcbiAgICAgICAgICAgIGtleXMgPSB0aGlzLl9zYWRbJ2snXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIG5vbi1lc3RhYmxpc2htZW50IGV2ZW50XG4gICAgICAgICAgICBrZXlzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgLy8gY3JlYXRlIGEgbmV3IFZlcmZlciBmb3IgZWFjaCBrZXlcbiAgICAgICAgY29uc3QgdmVyZmVycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICB2ZXJmZXJzLnB1c2gobmV3IFZlcmZlcih7IHFiNjQ6IGtleSB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZlcmZlcnM7XG4gICAgfVxuICAgIGdldCBkaWdlcnMoKSB7XG4gICAgICAgIGxldCBrZXlzID0gW107XG4gICAgICAgIGlmICgnbicgaW4gdGhpcy5fc2FkKSB7XG4gICAgICAgICAgICAvLyBlc3RhYmxpc2htZW50IGV2ZW50XG4gICAgICAgICAgICBrZXlzID0gdGhpcy5fc2FkWyduJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBub24tZXN0YWJsaXNobWVudCBldmVudFxuICAgICAgICAgICAga2V5cyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBWZXJmZXIgZm9yIGVhY2gga2V5XG4gICAgICAgIGNvbnN0IGRpZ2VycyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICAgICAgICBkaWdlcnMucHVzaChuZXcgRGlnZXIoeyBxYjY0OiBrZXkgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkaWdlcnM7XG4gICAgfVxuICAgIHByZXR0eSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuX3NhZCwgdW5kZWZpbmVkLCAyKTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZHVtcHMoc2FkLCBraW5kKSB7XG4gICAgaWYgKGtpbmQgPT0gU2VyaWFscy5KU09OKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzYWQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd1bnN1cHBvcnRlZCBldmVudCBlbmNvZGluZycpO1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzaXplaWZ5KGtlZCwga2luZCkge1xuICAgIGlmICghKCd2JyBpbiBrZWQpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBvciBlbXB0eSB2ZXJzaW9uIHN0cmluZycpO1xuICAgIH1cbiAgICBjb25zdCBbcHJvdG8sIGtuZCwgdmVyc2lvbl0gPSBkZXZlcnNpZnkoa2VkWyd2J10pO1xuICAgIGlmICh2ZXJzaW9uICE9IFZyc25fMV8wKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5zdXBwb3J0ZWQgdmVyc2lvbiAke3ZlcnNpb24udG9TdHJpbmcoKX1gKTtcbiAgICB9XG4gICAgaWYgKGtpbmQgPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGtpbmQgPSBrbmQ7XG4gICAgfVxuICAgIGxldCByYXcgPSBkdW1wcyhrZWQsIGtpbmQpO1xuICAgIGNvbnN0IHNpemUgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUocmF3KS5sZW5ndGg7XG4gICAga2VkWyd2J10gPSB2ZXJzaWZ5KHByb3RvLCB2ZXJzaW9uLCBraW5kLCBzaXplKTtcbiAgICByYXcgPSBkdW1wcyhrZWQsIGtpbmQpO1xuICAgIHJldHVybiBbcmF3LCBwcm90bywga2luZCwga2VkLCB2ZXJzaW9uXTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/siger.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Siger: () => (/* binding */ Siger)\n/* harmony export */ });\n/* harmony import */ var _indexer_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./indexer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/indexer.js\");\n\n/**\n   Siger is subclass of Indexer, indexed signature material,\n    Adds .verfer property which is instance of Verfer that provides\n          associated signature verifier.\n\n    See Indexer for inherited attributes and properties:\n\n    Attributes:\n\n    Properties:\n        .verfer is Verfer object instance\n\n    Methods:\n **/\nclass Siger extends _indexer_js__WEBPACK_IMPORTED_MODULE_0__.Indexer {\n    constructor({ raw, code, index, ondex, qb64, qb64b, qb2 }, verfer) {\n        super({ raw, code, index, ondex, qb64, qb64b, qb2 });\n        if (!_indexer_js__WEBPACK_IMPORTED_MODULE_0__.IdxSigDex.has(this.code)) {\n            throw new Error(`Invalid code = ${this.code} for Siger.`);\n        }\n        this._verfer = verfer;\n    }\n    get verfer() {\n        return this._verfer;\n    }\n    set verfer(verfer) {\n        this._verfer = verfer;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zaWdlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRDtBQUNsRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDTyxvQkFBb0IsZ0RBQU87QUFDbEMsa0JBQWtCLDJDQUEyQztBQUM3RCxnQkFBZ0IsMkNBQTJDO0FBQzNELGFBQWEsa0RBQVM7QUFDdEIsOENBQThDLFdBQVc7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zaWdlci5qcz8xODMwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IElkeFNpZ0RleCwgSW5kZXhlciB9IGZyb20gXCIuL2luZGV4ZXIuanNcIjtcbi8qKlxuICAgU2lnZXIgaXMgc3ViY2xhc3Mgb2YgSW5kZXhlciwgaW5kZXhlZCBzaWduYXR1cmUgbWF0ZXJpYWwsXG4gICAgQWRkcyAudmVyZmVyIHByb3BlcnR5IHdoaWNoIGlzIGluc3RhbmNlIG9mIFZlcmZlciB0aGF0IHByb3ZpZGVzXG4gICAgICAgICAgYXNzb2NpYXRlZCBzaWduYXR1cmUgdmVyaWZpZXIuXG5cbiAgICBTZWUgSW5kZXhlciBmb3IgaW5oZXJpdGVkIGF0dHJpYnV0ZXMgYW5kIHByb3BlcnRpZXM6XG5cbiAgICBBdHRyaWJ1dGVzOlxuXG4gICAgUHJvcGVydGllczpcbiAgICAgICAgLnZlcmZlciBpcyBWZXJmZXIgb2JqZWN0IGluc3RhbmNlXG5cbiAgICBNZXRob2RzOlxuICoqL1xuZXhwb3J0IGNsYXNzIFNpZ2VyIGV4dGVuZHMgSW5kZXhlciB7XG4gICAgY29uc3RydWN0b3IoeyByYXcsIGNvZGUsIGluZGV4LCBvbmRleCwgcWI2NCwgcWI2NGIsIHFiMiB9LCB2ZXJmZXIpIHtcbiAgICAgICAgc3VwZXIoeyByYXcsIGNvZGUsIGluZGV4LCBvbmRleCwgcWI2NCwgcWI2NGIsIHFiMiB9KTtcbiAgICAgICAgaWYgKCFJZHhTaWdEZXguaGFzKHRoaXMuY29kZSkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBjb2RlID0gJHt0aGlzLmNvZGV9IGZvciBTaWdlci5gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl92ZXJmZXIgPSB2ZXJmZXI7XG4gICAgfVxuICAgIGdldCB2ZXJmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJmZXI7XG4gICAgfVxuICAgIHNldCB2ZXJmZXIodmVyZmVyKSB7XG4gICAgICAgIHRoaXMuX3ZlcmZlciA9IHZlcmZlcjtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/signer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Signer: () => (/* binding */ Signer)\n/* harmony export */ });\n/* harmony import */ var _kering_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./kering.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/kering.js\");\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _verfer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./verfer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\");\n/* harmony import */ var _cigar_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./cigar.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cigar.js\");\n/* harmony import */ var _siger_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./siger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js\");\n/* harmony import */ var _indexer_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./indexer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/indexer.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n\n\n\n\n\n\n\n\n\nclass Signer extends _matter_js__WEBPACK_IMPORTED_MODULE_2__.Matter {\n    constructor({ raw, code = _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed, qb64, qb64b, qb2, transferable = true, }) {\n        try {\n            super({ raw, code, qb64, qb64b, qb2 });\n        }\n        catch (e) {\n            if (e instanceof _kering_js__WEBPACK_IMPORTED_MODULE_0__.EmptyMaterialError) {\n                if (code == _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed) {\n                    const raw = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_1__.randombytes_buf(libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_1__.crypto_sign_SEEDBYTES);\n                    super({ raw, code, qb64, qb64b, qb2 });\n                }\n                else {\n                    throw new Error(`Unsupported signer code = ${code}.`);\n                }\n            }\n            else {\n                throw e;\n            }\n        }\n        let verfer;\n        if (this.code == _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Seed) {\n            this._sign = this._ed25519;\n            const keypair = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_1__.crypto_sign_seed_keypair(this.raw);\n            verfer = new _verfer_js__WEBPACK_IMPORTED_MODULE_3__.Verfer({\n                raw: keypair.publicKey,\n                code: transferable ? _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519 : _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519N,\n            });\n        }\n        else {\n            throw new Error(`Unsupported signer code = ${this.code}.`);\n        }\n        this._verfer = verfer;\n    }\n    /**\n     * @description Property verfer:\n     Returns Verfer instance\n     Assumes ._verfer is correctly assigned\n     */\n    get verfer() {\n        return this._verfer;\n    }\n    sign(ser, index = null, only = false, ondex = undefined) {\n        return this._sign(ser, this.raw, this.verfer, index, only, ondex);\n    }\n    _ed25519(ser, seed, verfer, index, only = false, ondex) {\n        const sig = libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_1__.crypto_sign_detached(ser, (0,_core_js__WEBPACK_IMPORTED_MODULE_7__.concat)(seed, verfer.raw));\n        if (index == null) {\n            return new _cigar_js__WEBPACK_IMPORTED_MODULE_4__.Cigar({ raw: sig, code: _matter_js__WEBPACK_IMPORTED_MODULE_2__.MtrDex.Ed25519_Sig }, verfer);\n        }\n        else {\n            let code;\n            if (only) {\n                ondex = undefined;\n                if (index <= 63) {\n                    code = _indexer_js__WEBPACK_IMPORTED_MODULE_6__.IdrDex.Ed25519_Crt_Sig;\n                }\n                else {\n                    code = _indexer_js__WEBPACK_IMPORTED_MODULE_6__.IdrDex.Ed25519_Big_Crt_Sig;\n                }\n            }\n            else {\n                if (ondex == undefined) {\n                    ondex = index;\n                }\n                if (ondex == index && index <= 63)\n                    // both same and small\n                    code = _indexer_js__WEBPACK_IMPORTED_MODULE_6__.IdrDex.Ed25519_Sig; //  use  small both same\n                //  otherwise big or both not same so use big both\n                else\n                    code = _indexer_js__WEBPACK_IMPORTED_MODULE_6__.IdrDex.Ed25519_Big_Sig; // use use big both\n            }\n            return new _siger_js__WEBPACK_IMPORTED_MODULE_5__.Siger({ raw: sig, code: code, index: index, ondex: ondex }, verfer);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS9zaWduZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQWlEO0FBQ0Q7QUFDWDtBQUNBO0FBQ0E7QUFDRjtBQUNBO0FBQ0c7QUFDSDtBQUM1QixxQkFBcUIsOENBQU07QUFDbEMsa0JBQWtCLFlBQVksOENBQU0sdURBQXVEO0FBQzNGO0FBQ0Esb0JBQW9CLDZCQUE2QjtBQUNqRDtBQUNBO0FBQ0EsNkJBQTZCLDBEQUFrQjtBQUMvQyw0QkFBNEIsOENBQU07QUFDbEMsZ0NBQWdDLG9FQUF5QixDQUFDLDBFQUErQjtBQUN6Riw0QkFBNEIsNkJBQTZCO0FBQ3pEO0FBQ0E7QUFDQSxpRUFBaUUsS0FBSztBQUN0RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw4Q0FBTTtBQUMvQjtBQUNBLDRCQUE0Qiw2RUFBa0M7QUFDOUQseUJBQXlCLDhDQUFNO0FBQy9CO0FBQ0EscUNBQXFDLDhDQUFNLFdBQVcsOENBQU07QUFDNUQsYUFBYTtBQUNiO0FBQ0E7QUFDQSx5REFBeUQsVUFBVTtBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IseUVBQThCLE1BQU0sZ0RBQU07QUFDOUQ7QUFDQSx1QkFBdUIsNENBQUssR0FBRyxnQkFBZ0IsOENBQU0sY0FBYztBQUNuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQU07QUFDakM7QUFDQTtBQUNBLDJCQUEyQiwrQ0FBTTtBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLCtDQUFNLGNBQWM7QUFDL0M7QUFDQTtBQUNBLDJCQUEyQiwrQ0FBTSxrQkFBa0I7QUFDbkQ7QUFDQSx1QkFBdUIsNENBQUssR0FBRyxrREFBa0Q7QUFDakY7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvc2lnbmVyLmpzPzU1ODAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRW1wdHlNYXRlcmlhbEVycm9yIH0gZnJvbSBcIi4va2VyaW5nLmpzXCI7XG5pbXBvcnQgbGlic29kaXVtIGZyb20gJ2xpYnNvZGl1bS13cmFwcGVycy1zdW1vJztcbmltcG9ydCB7IE1hdHRlciB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgTXRyRGV4IH0gZnJvbSBcIi4vbWF0dGVyLmpzXCI7XG5pbXBvcnQgeyBWZXJmZXIgfSBmcm9tIFwiLi92ZXJmZXIuanNcIjtcbmltcG9ydCB7IENpZ2FyIH0gZnJvbSBcIi4vY2lnYXIuanNcIjtcbmltcG9ydCB7IFNpZ2VyIH0gZnJvbSBcIi4vc2lnZXIuanNcIjtcbmltcG9ydCB7IElkckRleCB9IGZyb20gXCIuL2luZGV4ZXIuanNcIjtcbmltcG9ydCB7IGNvbmNhdCB9IGZyb20gXCIuL2NvcmUuanNcIjtcbmV4cG9ydCBjbGFzcyBTaWduZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlID0gTXRyRGV4LkVkMjU1MTlfU2VlZCwgcWI2NCwgcWI2NGIsIHFiMiwgdHJhbnNmZXJhYmxlID0gdHJ1ZSwgfSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3VwZXIoeyByYXcsIGNvZGUsIHFiNjQsIHFiNjRiLCBxYjIgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgRW1wdHlNYXRlcmlhbEVycm9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvZGUgPT0gTXRyRGV4LkVkMjU1MTlfU2VlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByYXcgPSBsaWJzb2RpdW0ucmFuZG9tYnl0ZXNfYnVmKGxpYnNvZGl1bS5jcnlwdG9fc2lnbl9TRUVEQllURVMpO1xuICAgICAgICAgICAgICAgICAgICBzdXBlcih7IHJhdywgY29kZSwgcWI2NCwgcWI2NGIsIHFiMiB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc2lnbmVyIGNvZGUgPSAke2NvZGV9LmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHZlcmZlcjtcbiAgICAgICAgaWYgKHRoaXMuY29kZSA9PSBNdHJEZXguRWQyNTUxOV9TZWVkKSB7XG4gICAgICAgICAgICB0aGlzLl9zaWduID0gdGhpcy5fZWQyNTUxOTtcbiAgICAgICAgICAgIGNvbnN0IGtleXBhaXIgPSBsaWJzb2RpdW0uY3J5cHRvX3NpZ25fc2VlZF9rZXlwYWlyKHRoaXMucmF3KTtcbiAgICAgICAgICAgIHZlcmZlciA9IG5ldyBWZXJmZXIoe1xuICAgICAgICAgICAgICAgIHJhdzoga2V5cGFpci5wdWJsaWNLZXksXG4gICAgICAgICAgICAgICAgY29kZTogdHJhbnNmZXJhYmxlID8gTXRyRGV4LkVkMjU1MTkgOiBNdHJEZXguRWQyNTUxOU4sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgc2lnbmVyIGNvZGUgPSAke3RoaXMuY29kZX0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmVyZmVyID0gdmVyZmVyO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAZGVzY3JpcHRpb24gUHJvcGVydHkgdmVyZmVyOlxuICAgICBSZXR1cm5zIFZlcmZlciBpbnN0YW5jZVxuICAgICBBc3N1bWVzIC5fdmVyZmVyIGlzIGNvcnJlY3RseSBhc3NpZ25lZFxuICAgICAqL1xuICAgIGdldCB2ZXJmZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92ZXJmZXI7XG4gICAgfVxuICAgIHNpZ24oc2VyLCBpbmRleCA9IG51bGwsIG9ubHkgPSBmYWxzZSwgb25kZXggPSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NpZ24oc2VyLCB0aGlzLnJhdywgdGhpcy52ZXJmZXIsIGluZGV4LCBvbmx5LCBvbmRleCk7XG4gICAgfVxuICAgIF9lZDI1NTE5KHNlciwgc2VlZCwgdmVyZmVyLCBpbmRleCwgb25seSA9IGZhbHNlLCBvbmRleCkge1xuICAgICAgICBjb25zdCBzaWcgPSBsaWJzb2RpdW0uY3J5cHRvX3NpZ25fZGV0YWNoZWQoc2VyLCBjb25jYXQoc2VlZCwgdmVyZmVyLnJhdykpO1xuICAgICAgICBpZiAoaW5kZXggPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDaWdhcih7IHJhdzogc2lnLCBjb2RlOiBNdHJEZXguRWQyNTUxOV9TaWcgfSwgdmVyZmVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBjb2RlO1xuICAgICAgICAgICAgaWYgKG9ubHkpIHtcbiAgICAgICAgICAgICAgICBvbmRleCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAoaW5kZXggPD0gNjMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IElkckRleC5FZDI1NTE5X0NydF9TaWc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gSWRyRGV4LkVkMjU1MTlfQmlnX0NydF9TaWc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKG9uZGV4ID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBvbmRleCA9IGluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob25kZXggPT0gaW5kZXggJiYgaW5kZXggPD0gNjMpXG4gICAgICAgICAgICAgICAgICAgIC8vIGJvdGggc2FtZSBhbmQgc21hbGxcbiAgICAgICAgICAgICAgICAgICAgY29kZSA9IElkckRleC5FZDI1NTE5X1NpZzsgLy8gIHVzZSAgc21hbGwgYm90aCBzYW1lXG4gICAgICAgICAgICAgICAgLy8gIG90aGVyd2lzZSBiaWcgb3IgYm90aCBub3Qgc2FtZSBzbyB1c2UgYmlnIGJvdGhcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGNvZGUgPSBJZHJEZXguRWQyNTUxOV9CaWdfU2lnOyAvLyB1c2UgdXNlIGJpZyBib3RoXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ2VyKHsgcmF3OiBzaWcsIGNvZGU6IGNvZGUsIGluZGV4OiBpbmRleCwgb25kZXg6IG9uZGV4IH0sIHZlcmZlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/signer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js":
/*!***********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/tholder.js ***!
  \***********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Tholder: () => (/* binding */ Tholder)\n/* harmony export */ });\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _number_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./number.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/number.js\");\n/* harmony import */ var mathjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mathjs */ \"(ssr)/./node_modules/mathjs/lib/esm/entry/pureFunctionsAny.generated.js\");\n\n\n\nclass Tholder {\n    // private _bexter: any\n    constructor(kargs) {\n        this._weighted = false;\n        this._thold = undefined;\n        this._size = 0;\n        this._number = undefined;\n        this._satisfy = undefined;\n        if (kargs.thold !== undefined) {\n            this._processThold(kargs.thold);\n        }\n        else if (kargs.limen != undefined) {\n            this._processLimen(kargs.limen);\n        }\n        else if (kargs.sith !== undefined) {\n            this._processSith(kargs.sith);\n        }\n        else {\n            throw new Error('Missing threshold expression');\n        }\n    }\n    get weighted() {\n        return this._weighted;\n    }\n    get thold() {\n        return this._thold;\n    }\n    get size() {\n        return this._size;\n    }\n    get limen() {\n        var _a;\n        return (_a = this._number) === null || _a === void 0 ? void 0 : _a.qb64b;\n    }\n    get sith() {\n        if (this.weighted) {\n            let sith = this.thold.map((clause) => {\n                return clause.map((c) => {\n                    if (0 < Number(c) && Number(c) < 1) {\n                        return (0,mathjs__WEBPACK_IMPORTED_MODULE_2__.format)(c, { fraction: 'ratio' });\n                    }\n                    else {\n                        return (0,mathjs__WEBPACK_IMPORTED_MODULE_2__.format)(c, { fraction: 'decimal' });\n                    }\n                });\n            });\n            if (sith.length == 1) {\n                sith = sith[0];\n            }\n            return sith;\n        }\n        else {\n            return this.thold.toString(16);\n        }\n    }\n    get json() {\n        return JSON.stringify(this.sith);\n    }\n    get num() {\n        return this._weighted ? undefined : this._thold;\n    }\n    _processThold(thold) {\n        if (typeof thold === 'number') {\n            this._processUnweighted(thold);\n        }\n        else {\n            this._processWeighted(thold);\n        }\n    }\n    _processLimen(limen) {\n        const matter = new _matter_js__WEBPACK_IMPORTED_MODULE_0__.Matter({ qb64: limen });\n        if (_matter_js__WEBPACK_IMPORTED_MODULE_0__.NumDex.has(matter.code)) {\n            const number = new _number_js__WEBPACK_IMPORTED_MODULE_1__.CesrNumber({\n                raw: matter.raw,\n                code: matter.code,\n            });\n            this._processUnweighted(number.num);\n        }\n        else if (_matter_js__WEBPACK_IMPORTED_MODULE_0__.BexDex.has(matter.code)) {\n            // TODO: Implement Bexter\n        }\n        else {\n            throw new Error('Invalid code for limen=' + matter.code);\n        }\n    }\n    _processSith(sith) {\n        if (typeof sith == 'number') {\n            this._processUnweighted(sith);\n        }\n        else if (typeof sith == 'string' && sith.indexOf('[') == -1) {\n            this._processUnweighted(parseInt(sith, 16));\n        }\n        else {\n            let _sith = sith;\n            if (typeof sith == 'string') {\n                _sith = JSON.parse(sith);\n            }\n            if (_sith.length == 0) {\n                throw new Error('Empty weight list');\n            }\n            const mask = _sith.map((x) => {\n                return typeof x !== 'string';\n            });\n            if (mask.length > 0 && !mask.every((x) => x)) {\n                _sith = [_sith];\n            }\n            for (const c of _sith) {\n                const mask = c.map((x) => {\n                    return typeof x === 'string';\n                });\n                if (mask.length > 0 && !mask.every((x) => x)) {\n                    throw new Error('Invalid sith, some weights in clause ' +\n                        mask +\n                        ' are non string');\n                }\n            }\n            const thold = this._processClauses(_sith);\n            this._processWeighted(thold);\n        }\n    }\n    _processClauses(sith) {\n        const thold = new Array();\n        sith.forEach((clause) => {\n            thold.push(clause.map((w) => {\n                return this.weight(w);\n            }));\n        });\n        return thold;\n    }\n    _processUnweighted(thold) {\n        if (thold < 0) {\n            throw new Error('Non-positive int threshold = {thold}.');\n        }\n        this._thold = thold;\n        this._weighted = false;\n        this._size = this._thold; // used to verify that keys list size is at least size\n        this._satisfy = this._satisfy_numeric;\n        this._number = new _number_js__WEBPACK_IMPORTED_MODULE_1__.CesrNumber({}, thold);\n        // this._bexter = undefined\n    }\n    _processWeighted(thold) {\n        for (const clause of thold) {\n            if (Number((0,mathjs__WEBPACK_IMPORTED_MODULE_2__.sum)(clause)) < 1) {\n                throw new Error('Invalid sith clause: ' +\n                    thold +\n                    'all clause weight sums must be >= 1');\n            }\n        }\n        this._thold = thold;\n        this._weighted = true;\n        this._size = thold.reduce((acc, currentValue) => {\n            return acc + currentValue.length;\n        }, 0);\n        this._satisfy = this._satisfy_weighted;\n        //TODO: created Bexter if needed\n    }\n    weight(w) {\n        return (0,mathjs__WEBPACK_IMPORTED_MODULE_2__.fraction)(w);\n    }\n    _satisfy_numeric(indices) {\n        return this.thold > 0 && indices.length >= this.thold; // at least one\n    }\n    _satisfy_weighted(indices) {\n        if (indices.length === 0) {\n            return false;\n        }\n        const indexes = new Set(indices.sort());\n        const sats = new Array(indices.length).fill(false);\n        for (const idx of indexes) {\n            sats[idx] = true;\n        }\n        let wio = 0;\n        for (const clause of this.thold) {\n            let cw = 0;\n            for (const w of clause) {\n                if (sats[wio]) {\n                    cw += Number(w);\n                }\n                wio += 1;\n            }\n            if (cw < 1) {\n                return false;\n            }\n        }\n        return true;\n    }\n    satisfy(indices) {\n        return this._satisfy(indices);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS90aG9sZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBcUQ7QUFDWjtBQUNNO0FBQ3hDO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQiw4Q0FBTSxNQUFNLG1CQUFtQjtBQUM5RDtBQUNBO0FBQ0EsK0JBQStCLDhDQUFNLE1BQU0scUJBQXFCO0FBQ2hFO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsOENBQU0sR0FBRyxhQUFhO0FBQ2pELFlBQVksOENBQU07QUFDbEIsK0JBQStCLGtEQUFVO0FBQ3pDO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELE1BQU07QUFDakU7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0EsMkJBQTJCLGtEQUFVLEdBQUc7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkNBQUc7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUTtBQUN2QjtBQUNBO0FBQ0EsK0RBQStEO0FBQy9EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS90aG9sZGVyLmpzP2JmYjEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQmV4RGV4LCBNYXR0ZXIsIE51bURleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgQ2Vzck51bWJlciB9IGZyb20gXCIuL251bWJlci5qc1wiO1xuaW1wb3J0IHsgZm9ybWF0LCBzdW0sIGZyYWN0aW9uIH0gZnJvbSAnbWF0aGpzJztcbmV4cG9ydCBjbGFzcyBUaG9sZGVyIHtcbiAgICAvLyBwcml2YXRlIF9iZXh0ZXI6IGFueVxuICAgIGNvbnN0cnVjdG9yKGthcmdzKSB7XG4gICAgICAgIHRoaXMuX3dlaWdodGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3Rob2xkID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zaXplID0gMDtcbiAgICAgICAgdGhpcy5fbnVtYmVyID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zYXRpc2Z5ID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAoa2FyZ3MudGhvbGQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc1Rob2xkKGthcmdzLnRob2xkKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChrYXJncy5saW1lbiAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NMaW1lbihrYXJncy5saW1lbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2FyZ3Muc2l0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzU2l0aChrYXJncy5zaXRoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyB0aHJlc2hvbGQgZXhwcmVzc2lvbicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB3ZWlnaHRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3dlaWdodGVkO1xuICAgIH1cbiAgICBnZXQgdGhvbGQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90aG9sZDtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xuICAgIH1cbiAgICBnZXQgbGltZW4oKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuX251bWJlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnFiNjRiO1xuICAgIH1cbiAgICBnZXQgc2l0aCgpIHtcbiAgICAgICAgaWYgKHRoaXMud2VpZ2h0ZWQpIHtcbiAgICAgICAgICAgIGxldCBzaXRoID0gdGhpcy50aG9sZC5tYXAoKGNsYXVzZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBjbGF1c2UubWFwKChjKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICgwIDwgTnVtYmVyKGMpICYmIE51bWJlcihjKSA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQoYywgeyBmcmFjdGlvbjogJ3JhdGlvJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmb3JtYXQoYywgeyBmcmFjdGlvbjogJ2RlY2ltYWwnIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChzaXRoLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgICAgICAgc2l0aCA9IHNpdGhbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gc2l0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRob2xkLnRvU3RyaW5nKDE2KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQganNvbigpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuc2l0aCk7XG4gICAgfVxuICAgIGdldCBudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl93ZWlnaHRlZCA/IHVuZGVmaW5lZCA6IHRoaXMuX3Rob2xkO1xuICAgIH1cbiAgICBfcHJvY2Vzc1Rob2xkKHRob2xkKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhvbGQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzVW53ZWlnaHRlZCh0aG9sZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzV2VpZ2h0ZWQodGhvbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wcm9jZXNzTGltZW4obGltZW4pIHtcbiAgICAgICAgY29uc3QgbWF0dGVyID0gbmV3IE1hdHRlcih7IHFiNjQ6IGxpbWVuIH0pO1xuICAgICAgICBpZiAoTnVtRGV4LmhhcyhtYXR0ZXIuY29kZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IG51bWJlciA9IG5ldyBDZXNyTnVtYmVyKHtcbiAgICAgICAgICAgICAgICByYXc6IG1hdHRlci5yYXcsXG4gICAgICAgICAgICAgICAgY29kZTogbWF0dGVyLmNvZGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NVbndlaWdodGVkKG51bWJlci5udW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKEJleERleC5oYXMobWF0dGVyLmNvZGUpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBJbXBsZW1lbnQgQmV4dGVyXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgY29kZSBmb3IgbGltZW49JyArIG1hdHRlci5jb2RlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfcHJvY2Vzc1NpdGgoc2l0aCkge1xuICAgICAgICBpZiAodHlwZW9mIHNpdGggPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NVbndlaWdodGVkKHNpdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzaXRoID09ICdzdHJpbmcnICYmIHNpdGguaW5kZXhPZignWycpID09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzVW53ZWlnaHRlZChwYXJzZUludChzaXRoLCAxNikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbGV0IF9zaXRoID0gc2l0aDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2l0aCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgIF9zaXRoID0gSlNPTi5wYXJzZShzaXRoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChfc2l0aC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW1wdHkgd2VpZ2h0IGxpc3QnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBfc2l0aC5tYXAoKHgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggIT09ICdzdHJpbmcnO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAobWFzay5sZW5ndGggPiAwICYmICFtYXNrLmV2ZXJ5KCh4KSA9PiB4KSkge1xuICAgICAgICAgICAgICAgIF9zaXRoID0gW19zaXRoXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgYyBvZiBfc2l0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hc2sgPSBjLm1hcCgoeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHlwZW9mIHggPT09ICdzdHJpbmcnO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChtYXNrLmxlbmd0aCA+IDAgJiYgIW1hc2suZXZlcnkoKHgpID0+IHgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBzaXRoLCBzb21lIHdlaWdodHMgaW4gY2xhdXNlICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgbWFzayArXG4gICAgICAgICAgICAgICAgICAgICAgICAnIGFyZSBub24gc3RyaW5nJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdGhvbGQgPSB0aGlzLl9wcm9jZXNzQ2xhdXNlcyhfc2l0aCk7XG4gICAgICAgICAgICB0aGlzLl9wcm9jZXNzV2VpZ2h0ZWQodGhvbGQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9wcm9jZXNzQ2xhdXNlcyhzaXRoKSB7XG4gICAgICAgIGNvbnN0IHRob2xkID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHNpdGguZm9yRWFjaCgoY2xhdXNlKSA9PiB7XG4gICAgICAgICAgICB0aG9sZC5wdXNoKGNsYXVzZS5tYXAoKHcpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy53ZWlnaHQodyk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdGhvbGQ7XG4gICAgfVxuICAgIF9wcm9jZXNzVW53ZWlnaHRlZCh0aG9sZCkge1xuICAgICAgICBpZiAodGhvbGQgPCAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vbi1wb3NpdGl2ZSBpbnQgdGhyZXNob2xkID0ge3Rob2xkfS4nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aG9sZCA9IHRob2xkO1xuICAgICAgICB0aGlzLl93ZWlnaHRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9zaXplID0gdGhpcy5fdGhvbGQ7IC8vIHVzZWQgdG8gdmVyaWZ5IHRoYXQga2V5cyBsaXN0IHNpemUgaXMgYXQgbGVhc3Qgc2l6ZVxuICAgICAgICB0aGlzLl9zYXRpc2Z5ID0gdGhpcy5fc2F0aXNmeV9udW1lcmljO1xuICAgICAgICB0aGlzLl9udW1iZXIgPSBuZXcgQ2Vzck51bWJlcih7fSwgdGhvbGQpO1xuICAgICAgICAvLyB0aGlzLl9iZXh0ZXIgPSB1bmRlZmluZWRcbiAgICB9XG4gICAgX3Byb2Nlc3NXZWlnaHRlZCh0aG9sZCkge1xuICAgICAgICBmb3IgKGNvbnN0IGNsYXVzZSBvZiB0aG9sZCkge1xuICAgICAgICAgICAgaWYgKE51bWJlcihzdW0oY2xhdXNlKSkgPCAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHNpdGggY2xhdXNlOiAnICtcbiAgICAgICAgICAgICAgICAgICAgdGhvbGQgK1xuICAgICAgICAgICAgICAgICAgICAnYWxsIGNsYXVzZSB3ZWlnaHQgc3VtcyBtdXN0IGJlID49IDEnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl90aG9sZCA9IHRob2xkO1xuICAgICAgICB0aGlzLl93ZWlnaHRlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuX3NpemUgPSB0aG9sZC5yZWR1Y2UoKGFjYywgY3VycmVudFZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgY3VycmVudFZhbHVlLmxlbmd0aDtcbiAgICAgICAgfSwgMCk7XG4gICAgICAgIHRoaXMuX3NhdGlzZnkgPSB0aGlzLl9zYXRpc2Z5X3dlaWdodGVkO1xuICAgICAgICAvL1RPRE86IGNyZWF0ZWQgQmV4dGVyIGlmIG5lZWRlZFxuICAgIH1cbiAgICB3ZWlnaHQodykge1xuICAgICAgICByZXR1cm4gZnJhY3Rpb24odyk7XG4gICAgfVxuICAgIF9zYXRpc2Z5X251bWVyaWMoaW5kaWNlcykge1xuICAgICAgICByZXR1cm4gdGhpcy50aG9sZCA+IDAgJiYgaW5kaWNlcy5sZW5ndGggPj0gdGhpcy50aG9sZDsgLy8gYXQgbGVhc3Qgb25lXG4gICAgfVxuICAgIF9zYXRpc2Z5X3dlaWdodGVkKGluZGljZXMpIHtcbiAgICAgICAgaWYgKGluZGljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXhlcyA9IG5ldyBTZXQoaW5kaWNlcy5zb3J0KCkpO1xuICAgICAgICBjb25zdCBzYXRzID0gbmV3IEFycmF5KGluZGljZXMubGVuZ3RoKS5maWxsKGZhbHNlKTtcbiAgICAgICAgZm9yIChjb25zdCBpZHggb2YgaW5kZXhlcykge1xuICAgICAgICAgICAgc2F0c1tpZHhdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgd2lvID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBjbGF1c2Ugb2YgdGhpcy50aG9sZCkge1xuICAgICAgICAgICAgbGV0IGN3ID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdyBvZiBjbGF1c2UpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2F0c1t3aW9dKSB7XG4gICAgICAgICAgICAgICAgICAgIGN3ICs9IE51bWJlcih3KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgd2lvICs9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3cgPCAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBzYXRpc2Z5KGluZGljZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NhdGlzZnkoaW5kaWNlcyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/tholder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/utils.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   arrayEquals: () => (/* binding */ arrayEquals),\n/* harmony export */   bytesToInt: () => (/* binding */ bytesToInt),\n/* harmony export */   extractValues: () => (/* binding */ extractValues),\n/* harmony export */   intToBytes: () => (/* binding */ intToBytes),\n/* harmony export */   nowUTC: () => (/* binding */ nowUTC),\n/* harmony export */   pad: () => (/* binding */ pad),\n/* harmony export */   range: () => (/* binding */ range),\n/* harmony export */   serializeACDCAttachment: () => (/* binding */ serializeACDCAttachment),\n/* harmony export */   serializeIssExnAttachment: () => (/* binding */ serializeIssExnAttachment)\n/* harmony export */ });\n/* harmony import */ var _counter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./counter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/counter.js\");\n/* harmony import */ var _seqner_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./seqner.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/seqner.js\");\n/* harmony import */ var _prefixer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./prefixer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\");\n/* harmony import */ var _saider_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./saider.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/saider.js\");\n\n\n\n\nfunction pad(n, width = 3, z = 0) {\n    return (String(z).repeat(width) + String(n)).slice(String(n).length);\n}\n/**\n * @description  Returns list of depth first recursively extracted values from elements of\n    key event dict ked whose flabels are in lables list\n\n * @param {*} ked  ked is key event dict\n * @param {*} labels    labels is list of element labels in ked from which to extract values\n */\nfunction extractValues(ked, labels) {\n    let values = [];\n    for (const label of labels) {\n        values = extractElementValues(ked[label], values);\n    }\n    return values;\n}\nfunction arrayEquals(ar1, ar2) {\n    return (ar1.length === ar2.length &&\n        ar1.every((val, index) => val === ar2[index]));\n}\n/**\n * @description   Recusive depth first search that recursively extracts value(s) from element\n    and appends to values list\n    Assumes that extracted values are str\n\n * @param {*} element\n * @param {*} values\n */\nfunction extractElementValues(element, values) {\n    let data = [];\n    try {\n        if (element instanceof Array && !(typeof element == 'string')) {\n            for (const k in element)\n                extractElementValues(element[k], values);\n        }\n        else if (typeof element == 'string') {\n            values.push(element);\n        }\n        data = values;\n    }\n    catch (error) {\n        throw new Error(error);\n    }\n    return data;\n}\n/**\n * @description Returns True if obj is non-string iterable, False otherwise\n\n * @param {*} obj\n */\n// function nonStringIterable(obj) {\n//     obj instanceof (String)\n//     return  instanceof(obj, (str, bytes)) && instanceof(obj, Iterable))\n// }\nfunction nowUTC() {\n    return new Date();\n}\nfunction range(start, stop, step) {\n    if (typeof stop == 'undefined') {\n        // one param defined\n        stop = start;\n        start = 0;\n    }\n    if (typeof step == 'undefined') {\n        step = 1;\n    }\n    if ((step > 0 && start >= stop) || (step < 0 && start <= stop)) {\n        return [];\n    }\n    const result = new Array();\n    for (let i = start; step > 0 ? i < stop : i > stop; i += step) {\n        result.push(i);\n    }\n    return result;\n}\nfunction intToBytes(value, length) {\n    const byteArray = new Uint8Array(length); // Assuming a 4-byte integer (32 bits)\n    for (let index = byteArray.length - 1; index >= 0; index--) {\n        const byte = value & 0xff;\n        byteArray[index] = byte;\n        value = (value - byte) / 256;\n    }\n    return byteArray;\n}\nfunction bytesToInt(ar) {\n    let value = 0;\n    for (let i = 0; i < ar.length; i++) {\n        value = value * 256 + ar[i];\n    }\n    return value;\n}\nfunction serializeACDCAttachment(anc) {\n    const prefixer = new _prefixer_js__WEBPACK_IMPORTED_MODULE_2__.Prefixer({ qb64: anc.pre });\n    const seqner = new _seqner_js__WEBPACK_IMPORTED_MODULE_1__.Seqner({ sn: anc.sn });\n    const saider = new _saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider({ qb64: anc.sad['d'] });\n    const craw = new Uint8Array();\n    const ctr = new _counter_js__WEBPACK_IMPORTED_MODULE_0__.Counter({ code: _counter_js__WEBPACK_IMPORTED_MODULE_0__.CtrDex.SealSourceTriples, count: 1 }).qb64b;\n    const prefix = prefixer.qb64b;\n    const seq = seqner.qb64b;\n    const said = saider.qb64b;\n    const newCraw = new Uint8Array(craw.length + ctr.length + prefix.length + seq.length + said.length);\n    newCraw.set(craw);\n    newCraw.set(ctr, craw.length);\n    newCraw.set(prefix, craw.length + ctr.length);\n    newCraw.set(seq, craw.length + ctr.length + prefix.length);\n    newCraw.set(said, craw.length + ctr.length + prefix.length + seq.length);\n    return newCraw;\n}\nfunction serializeIssExnAttachment(anc) {\n    const seqner = new _seqner_js__WEBPACK_IMPORTED_MODULE_1__.Seqner({ sn: anc.sn });\n    const ancSaider = new _saider_js__WEBPACK_IMPORTED_MODULE_3__.Saider({ qb64: anc.sad['d'] });\n    const coupleArray = new Uint8Array(seqner.qb64b.length + ancSaider.qb64b.length);\n    coupleArray.set(seqner.qb64b);\n    coupleArray.set(ancSaider.qb64b, seqner.qb64b.length);\n    const counter = new _counter_js__WEBPACK_IMPORTED_MODULE_0__.Counter({\n        code: _counter_js__WEBPACK_IMPORTED_MODULE_0__.CtrDex.SealSourceCouples,\n        count: 1,\n    });\n    const counterQb64b = counter.qb64b;\n    const atc = new Uint8Array(counter.qb64b.length + coupleArray.length);\n    atc.set(counterQb64b);\n    atc.set(coupleArray, counterQb64b.length);\n    if (atc.length % 4 !== 0) {\n        throw new Error(`Invalid attachments size: ${atc.length}, non-integral quadlets detected.`);\n    }\n    const pcnt = new _counter_js__WEBPACK_IMPORTED_MODULE_0__.Counter({\n        code: _counter_js__WEBPACK_IMPORTED_MODULE_0__.CtrDex.AttachedMaterialQuadlets,\n        count: Math.floor(atc.length / 4),\n    });\n    const msg = new Uint8Array(pcnt.qb64b.length + atc.length);\n    msg.set(pcnt.qb64b);\n    msg.set(atc, pcnt.qb64b.length);\n    return msg;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS91dGlscy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQStDO0FBQ1Y7QUFDSTtBQUNKO0FBQzlCO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxXQUFXLEdBQUc7QUFDZCxXQUFXLEdBQUc7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFdBQVcsR0FBRztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnQ0FBZ0M7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLDhDQUE4QztBQUM5QywyQ0FBMkMsWUFBWTtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGVBQWU7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQLHlCQUF5QixrREFBUSxHQUFHLGVBQWU7QUFDbkQsdUJBQXVCLDhDQUFNLEdBQUcsWUFBWTtBQUM1Qyx1QkFBdUIsOENBQU0sR0FBRyxvQkFBb0I7QUFDcEQ7QUFDQSxvQkFBb0IsZ0RBQU8sR0FBRyxNQUFNLCtDQUFNLDhCQUE4QjtBQUN4RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUCx1QkFBdUIsOENBQU0sR0FBRyxZQUFZO0FBQzVDLDBCQUEwQiw4Q0FBTSxHQUFHLG9CQUFvQjtBQUN2RDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0RBQU87QUFDL0IsY0FBYywrQ0FBTTtBQUNwQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscURBQXFELFdBQVc7QUFDaEU7QUFDQSxxQkFBcUIsZ0RBQU87QUFDNUIsY0FBYywrQ0FBTTtBQUNwQjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvdXRpbHMuanM/MTI1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb3VudGVyLCBDdHJEZXggfSBmcm9tIFwiLi9jb3VudGVyLmpzXCI7XG5pbXBvcnQgeyBTZXFuZXIgfSBmcm9tIFwiLi9zZXFuZXIuanNcIjtcbmltcG9ydCB7IFByZWZpeGVyIH0gZnJvbSBcIi4vcHJlZml4ZXIuanNcIjtcbmltcG9ydCB7IFNhaWRlciB9IGZyb20gXCIuL3NhaWRlci5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhZChuLCB3aWR0aCA9IDMsIHogPSAwKSB7XG4gICAgcmV0dXJuIChTdHJpbmcoeikucmVwZWF0KHdpZHRoKSArIFN0cmluZyhuKSkuc2xpY2UoU3RyaW5nKG4pLmxlbmd0aCk7XG59XG4vKipcbiAqIEBkZXNjcmlwdGlvbiAgUmV0dXJucyBsaXN0IG9mIGRlcHRoIGZpcnN0IHJlY3Vyc2l2ZWx5IGV4dHJhY3RlZCB2YWx1ZXMgZnJvbSBlbGVtZW50cyBvZlxuICAgIGtleSBldmVudCBkaWN0IGtlZCB3aG9zZSBmbGFiZWxzIGFyZSBpbiBsYWJsZXMgbGlzdFxuXG4gKiBAcGFyYW0geyp9IGtlZCAga2VkIGlzIGtleSBldmVudCBkaWN0XG4gKiBAcGFyYW0geyp9IGxhYmVscyAgICBsYWJlbHMgaXMgbGlzdCBvZiBlbGVtZW50IGxhYmVscyBpbiBrZWQgZnJvbSB3aGljaCB0byBleHRyYWN0IHZhbHVlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFZhbHVlcyhrZWQsIGxhYmVscykge1xuICAgIGxldCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGxhYmVsIG9mIGxhYmVscykge1xuICAgICAgICB2YWx1ZXMgPSBleHRyYWN0RWxlbWVudFZhbHVlcyhrZWRbbGFiZWxdLCB2YWx1ZXMpO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFycmF5RXF1YWxzKGFyMSwgYXIyKSB7XG4gICAgcmV0dXJuIChhcjEubGVuZ3RoID09PSBhcjIubGVuZ3RoICYmXG4gICAgICAgIGFyMS5ldmVyeSgodmFsLCBpbmRleCkgPT4gdmFsID09PSBhcjJbaW5kZXhdKSk7XG59XG4vKipcbiAqIEBkZXNjcmlwdGlvbiAgIFJlY3VzaXZlIGRlcHRoIGZpcnN0IHNlYXJjaCB0aGF0IHJlY3Vyc2l2ZWx5IGV4dHJhY3RzIHZhbHVlKHMpIGZyb20gZWxlbWVudFxuICAgIGFuZCBhcHBlbmRzIHRvIHZhbHVlcyBsaXN0XG4gICAgQXNzdW1lcyB0aGF0IGV4dHJhY3RlZCB2YWx1ZXMgYXJlIHN0clxuXG4gKiBAcGFyYW0geyp9IGVsZW1lbnRcbiAqIEBwYXJhbSB7Kn0gdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIGV4dHJhY3RFbGVtZW50VmFsdWVzKGVsZW1lbnQsIHZhbHVlcykge1xuICAgIGxldCBkYXRhID0gW107XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBBcnJheSAmJiAhKHR5cGVvZiBlbGVtZW50ID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIGVsZW1lbnQpXG4gICAgICAgICAgICAgICAgZXh0cmFjdEVsZW1lbnRWYWx1ZXMoZWxlbWVudFtrXSwgdmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgZWxlbWVudCA9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdmFsdWVzLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YSA9IHZhbHVlcztcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xufVxuLyoqXG4gKiBAZGVzY3JpcHRpb24gUmV0dXJucyBUcnVlIGlmIG9iaiBpcyBub24tc3RyaW5nIGl0ZXJhYmxlLCBGYWxzZSBvdGhlcndpc2VcblxuICogQHBhcmFtIHsqfSBvYmpcbiAqL1xuLy8gZnVuY3Rpb24gbm9uU3RyaW5nSXRlcmFibGUob2JqKSB7XG4vLyAgICAgb2JqIGluc3RhbmNlb2YgKFN0cmluZylcbi8vICAgICByZXR1cm4gIGluc3RhbmNlb2Yob2JqLCAoc3RyLCBieXRlcykpICYmIGluc3RhbmNlb2Yob2JqLCBJdGVyYWJsZSkpXG4vLyB9XG5leHBvcnQgZnVuY3Rpb24gbm93VVRDKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBzdG9wLCBzdGVwKSB7XG4gICAgaWYgKHR5cGVvZiBzdG9wID09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIG9uZSBwYXJhbSBkZWZpbmVkXG4gICAgICAgIHN0b3AgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0ZXAgPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgc3RlcCA9IDE7XG4gICAgfVxuICAgIGlmICgoc3RlcCA+IDAgJiYgc3RhcnQgPj0gc3RvcCkgfHwgKHN0ZXAgPCAwICYmIHN0YXJ0IDw9IHN0b3ApKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0gbmV3IEFycmF5KCk7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0OyBzdGVwID4gMCA/IGkgPCBzdG9wIDogaSA+IHN0b3A7IGkgKz0gc3RlcCkge1xuICAgICAgICByZXN1bHQucHVzaChpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnRUb0J5dGVzKHZhbHVlLCBsZW5ndGgpIHtcbiAgICBjb25zdCBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShsZW5ndGgpOyAvLyBBc3N1bWluZyBhIDQtYnl0ZSBpbnRlZ2VyICgzMiBiaXRzKVxuICAgIGZvciAobGV0IGluZGV4ID0gYnl0ZUFycmF5Lmxlbmd0aCAtIDE7IGluZGV4ID49IDA7IGluZGV4LS0pIHtcbiAgICAgICAgY29uc3QgYnl0ZSA9IHZhbHVlICYgMHhmZjtcbiAgICAgICAgYnl0ZUFycmF5W2luZGV4XSA9IGJ5dGU7XG4gICAgICAgIHZhbHVlID0gKHZhbHVlIC0gYnl0ZSkgLyAyNTY7XG4gICAgfVxuICAgIHJldHVybiBieXRlQXJyYXk7XG59XG5leHBvcnQgZnVuY3Rpb24gYnl0ZXNUb0ludChhcikge1xuICAgIGxldCB2YWx1ZSA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhci5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICogMjU2ICsgYXJbaV07XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVBQ0RDQXR0YWNobWVudChhbmMpIHtcbiAgICBjb25zdCBwcmVmaXhlciA9IG5ldyBQcmVmaXhlcih7IHFiNjQ6IGFuYy5wcmUgfSk7XG4gICAgY29uc3Qgc2VxbmVyID0gbmV3IFNlcW5lcih7IHNuOiBhbmMuc24gfSk7XG4gICAgY29uc3Qgc2FpZGVyID0gbmV3IFNhaWRlcih7IHFiNjQ6IGFuYy5zYWRbJ2QnXSB9KTtcbiAgICBjb25zdCBjcmF3ID0gbmV3IFVpbnQ4QXJyYXkoKTtcbiAgICBjb25zdCBjdHIgPSBuZXcgQ291bnRlcih7IGNvZGU6IEN0ckRleC5TZWFsU291cmNlVHJpcGxlcywgY291bnQ6IDEgfSkucWI2NGI7XG4gICAgY29uc3QgcHJlZml4ID0gcHJlZml4ZXIucWI2NGI7XG4gICAgY29uc3Qgc2VxID0gc2VxbmVyLnFiNjRiO1xuICAgIGNvbnN0IHNhaWQgPSBzYWlkZXIucWI2NGI7XG4gICAgY29uc3QgbmV3Q3JhdyA9IG5ldyBVaW50OEFycmF5KGNyYXcubGVuZ3RoICsgY3RyLmxlbmd0aCArIHByZWZpeC5sZW5ndGggKyBzZXEubGVuZ3RoICsgc2FpZC5sZW5ndGgpO1xuICAgIG5ld0NyYXcuc2V0KGNyYXcpO1xuICAgIG5ld0NyYXcuc2V0KGN0ciwgY3Jhdy5sZW5ndGgpO1xuICAgIG5ld0NyYXcuc2V0KHByZWZpeCwgY3Jhdy5sZW5ndGggKyBjdHIubGVuZ3RoKTtcbiAgICBuZXdDcmF3LnNldChzZXEsIGNyYXcubGVuZ3RoICsgY3RyLmxlbmd0aCArIHByZWZpeC5sZW5ndGgpO1xuICAgIG5ld0NyYXcuc2V0KHNhaWQsIGNyYXcubGVuZ3RoICsgY3RyLmxlbmd0aCArIHByZWZpeC5sZW5ndGggKyBzZXEubGVuZ3RoKTtcbiAgICByZXR1cm4gbmV3Q3Jhdztcbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXJpYWxpemVJc3NFeG5BdHRhY2htZW50KGFuYykge1xuICAgIGNvbnN0IHNlcW5lciA9IG5ldyBTZXFuZXIoeyBzbjogYW5jLnNuIH0pO1xuICAgIGNvbnN0IGFuY1NhaWRlciA9IG5ldyBTYWlkZXIoeyBxYjY0OiBhbmMuc2FkWydkJ10gfSk7XG4gICAgY29uc3QgY291cGxlQXJyYXkgPSBuZXcgVWludDhBcnJheShzZXFuZXIucWI2NGIubGVuZ3RoICsgYW5jU2FpZGVyLnFiNjRiLmxlbmd0aCk7XG4gICAgY291cGxlQXJyYXkuc2V0KHNlcW5lci5xYjY0Yik7XG4gICAgY291cGxlQXJyYXkuc2V0KGFuY1NhaWRlci5xYjY0Yiwgc2VxbmVyLnFiNjRiLmxlbmd0aCk7XG4gICAgY29uc3QgY291bnRlciA9IG5ldyBDb3VudGVyKHtcbiAgICAgICAgY29kZTogQ3RyRGV4LlNlYWxTb3VyY2VDb3VwbGVzLFxuICAgICAgICBjb3VudDogMSxcbiAgICB9KTtcbiAgICBjb25zdCBjb3VudGVyUWI2NGIgPSBjb3VudGVyLnFiNjRiO1xuICAgIGNvbnN0IGF0YyA9IG5ldyBVaW50OEFycmF5KGNvdW50ZXIucWI2NGIubGVuZ3RoICsgY291cGxlQXJyYXkubGVuZ3RoKTtcbiAgICBhdGMuc2V0KGNvdW50ZXJRYjY0Yik7XG4gICAgYXRjLnNldChjb3VwbGVBcnJheSwgY291bnRlclFiNjRiLmxlbmd0aCk7XG4gICAgaWYgKGF0Yy5sZW5ndGggJSA0ICE9PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBhdHRhY2htZW50cyBzaXplOiAke2F0Yy5sZW5ndGh9LCBub24taW50ZWdyYWwgcXVhZGxldHMgZGV0ZWN0ZWQuYCk7XG4gICAgfVxuICAgIGNvbnN0IHBjbnQgPSBuZXcgQ291bnRlcih7XG4gICAgICAgIGNvZGU6IEN0ckRleC5BdHRhY2hlZE1hdGVyaWFsUXVhZGxldHMsXG4gICAgICAgIGNvdW50OiBNYXRoLmZsb29yKGF0Yy5sZW5ndGggLyA0KSxcbiAgICB9KTtcbiAgICBjb25zdCBtc2cgPSBuZXcgVWludDhBcnJheShwY250LnFiNjRiLmxlbmd0aCArIGF0Yy5sZW5ndGgpO1xuICAgIG1zZy5zZXQocGNudC5xYjY0Yik7XG4gICAgbXNnLnNldChhdGMsIHBjbnQucWI2NGIubGVuZ3RoKTtcbiAgICByZXR1cm4gbXNnO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/utils.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/vdring.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/vdring.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   vdr: () => (/* binding */ vdr)\n/* harmony export */ });\n/* harmony import */ var _app_coring_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../app/coring.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/coring.js\");\n/* harmony import */ var _app_habery_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../app/habery.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/app/habery.js\");\n/* harmony import */ var _core_core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n/* harmony import */ var _eventing_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./eventing.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/eventing.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _prefixer_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./prefixer.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/prefixer.js\");\n/* harmony import */ var _serder_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./serder.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/serder.js\");\n\n\n\n\n\n\n\nvar vdr;\n(function (vdr) {\n    function incept({ pre, toad, nonce = (0,_app_coring_js__WEBPACK_IMPORTED_MODULE_0__.randomNonce)(), baks = [], cnfg = [], version = _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Vrsn_1_0, kind = _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Serials.JSON, code = _matter_js__WEBPACK_IMPORTED_MODULE_4__.MtrDex.Blake3_256, }) {\n        const vs = (0,_core_core_js__WEBPACK_IMPORTED_MODULE_2__.versify)(_core_core_js__WEBPACK_IMPORTED_MODULE_2__.Protocols.KERI, version, kind, 0);\n        const isn = 0;\n        const ilk = _core_core_js__WEBPACK_IMPORTED_MODULE_2__.Ilks.vcp;\n        if (cnfg.includes(_app_habery_js__WEBPACK_IMPORTED_MODULE_1__.TraitDex.NoBackers) && baks.length > 0) {\n            throw new Error(`${baks.length} backers specified for NB vcp, 0 allowed`);\n        }\n        if (new Set(baks).size < baks.length) {\n            throw new Error(`Invalid baks ${baks} has duplicates`);\n        }\n        let _toad;\n        if (toad === undefined) {\n            if (baks.length === 0) {\n                _toad = 0;\n            }\n            else {\n                _toad = (0,_eventing_js__WEBPACK_IMPORTED_MODULE_3__.ample)(baks.length);\n            }\n        }\n        else {\n            _toad = +toad;\n        }\n        if (baks.length > 0) {\n            if (_toad < 1 || _toad > baks.length) {\n                throw new Error(`Invalid toad ${_toad} for baks in ${baks}`);\n            }\n        }\n        else {\n            if (_toad != 0) {\n                throw new Error(`Invalid toad ${_toad} for no baks`);\n            }\n        }\n        const sad = {\n            v: vs,\n            t: ilk,\n            d: '',\n            i: '',\n            ii: pre,\n            s: '' + isn,\n            c: cnfg,\n            bt: _toad.toString(16),\n            b: baks,\n            n: nonce,\n        };\n        const prefixer = new _prefixer_js__WEBPACK_IMPORTED_MODULE_5__.Prefixer({ code }, sad);\n        sad.i = prefixer.qb64;\n        sad.d = prefixer.qb64;\n        return new _serder_js__WEBPACK_IMPORTED_MODULE_6__.Serder(sad);\n    }\n    vdr.incept = incept;\n})(vdr || (vdr = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS92ZHJpbmcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBK0M7QUFDSDtBQUNtQztBQUN6QztBQUNEO0FBQ0k7QUFDSjtBQUNyQztBQUNBO0FBQ0Esc0JBQXNCLG1CQUFtQiwyREFBVyxvQ0FBb0MsbURBQVEsU0FBUyxrREFBTyxjQUFjLDhDQUFNLGNBQWM7QUFDbEosbUJBQW1CLHNEQUFPLENBQUMsb0RBQVM7QUFDcEM7QUFDQSxvQkFBb0IsK0NBQUk7QUFDeEIsMEJBQTBCLG9EQUFRO0FBQ2xDLCtCQUErQixhQUFhO0FBQzVDO0FBQ0E7QUFDQSw0Q0FBNEMsTUFBTTtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtREFBSztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxPQUFPLGNBQWMsS0FBSztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCxPQUFPO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsa0RBQVEsR0FBRyxNQUFNO0FBQzlDO0FBQ0E7QUFDQSxtQkFBbUIsOENBQU07QUFDekI7QUFDQTtBQUNBLENBQUMsa0JBQWtCO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zdGVsbGFyLXByb2N1cmVtZW50LWRhcHAvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS92ZHJpbmcuanM/NTE5NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyByYW5kb21Ob25jZSB9IGZyb20gXCIuLi9hcHAvY29yaW5nLmpzXCI7XG5pbXBvcnQgeyBUcmFpdERleCB9IGZyb20gXCIuLi9hcHAvaGFiZXJ5LmpzXCI7XG5pbXBvcnQgeyBTZXJpYWxzLCBWcnNuXzFfMCwgUHJvdG9jb2xzLCB2ZXJzaWZ5LCBJbGtzLCB9IGZyb20gXCIuLi9jb3JlL2NvcmUuanNcIjtcbmltcG9ydCB7IGFtcGxlIH0gZnJvbSBcIi4vZXZlbnRpbmcuanNcIjtcbmltcG9ydCB7IE10ckRleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgUHJlZml4ZXIgfSBmcm9tIFwiLi9wcmVmaXhlci5qc1wiO1xuaW1wb3J0IHsgU2VyZGVyIH0gZnJvbSBcIi4vc2VyZGVyLmpzXCI7XG52YXIgdmRyO1xuKGZ1bmN0aW9uICh2ZHIpIHtcbiAgICBmdW5jdGlvbiBpbmNlcHQoeyBwcmUsIHRvYWQsIG5vbmNlID0gcmFuZG9tTm9uY2UoKSwgYmFrcyA9IFtdLCBjbmZnID0gW10sIHZlcnNpb24gPSBWcnNuXzFfMCwga2luZCA9IFNlcmlhbHMuSlNPTiwgY29kZSA9IE10ckRleC5CbGFrZTNfMjU2LCB9KSB7XG4gICAgICAgIGNvbnN0IHZzID0gdmVyc2lmeShQcm90b2NvbHMuS0VSSSwgdmVyc2lvbiwga2luZCwgMCk7XG4gICAgICAgIGNvbnN0IGlzbiA9IDA7XG4gICAgICAgIGNvbnN0IGlsayA9IElsa3MudmNwO1xuICAgICAgICBpZiAoY25mZy5pbmNsdWRlcyhUcmFpdERleC5Ob0JhY2tlcnMpICYmIGJha3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2Jha3MubGVuZ3RofSBiYWNrZXJzIHNwZWNpZmllZCBmb3IgTkIgdmNwLCAwIGFsbG93ZWRgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3IFNldChiYWtzKS5zaXplIDwgYmFrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBiYWtzICR7YmFrc30gaGFzIGR1cGxpY2F0ZXNgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgX3RvYWQ7XG4gICAgICAgIGlmICh0b2FkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGlmIChiYWtzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIF90b2FkID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIF90b2FkID0gYW1wbGUoYmFrcy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RvYWQgPSArdG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYmFrcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBpZiAoX3RvYWQgPCAxIHx8IF90b2FkID4gYmFrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdG9hZCAke190b2FkfSBmb3IgYmFrcyBpbiAke2Jha3N9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoX3RvYWQgIT0gMCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0b2FkICR7X3RvYWR9IGZvciBubyBiYWtzYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2FkID0ge1xuICAgICAgICAgICAgdjogdnMsXG4gICAgICAgICAgICB0OiBpbGssXG4gICAgICAgICAgICBkOiAnJyxcbiAgICAgICAgICAgIGk6ICcnLFxuICAgICAgICAgICAgaWk6IHByZSxcbiAgICAgICAgICAgIHM6ICcnICsgaXNuLFxuICAgICAgICAgICAgYzogY25mZyxcbiAgICAgICAgICAgIGJ0OiBfdG9hZC50b1N0cmluZygxNiksXG4gICAgICAgICAgICBiOiBiYWtzLFxuICAgICAgICAgICAgbjogbm9uY2UsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHByZWZpeGVyID0gbmV3IFByZWZpeGVyKHsgY29kZSB9LCBzYWQpO1xuICAgICAgICBzYWQuaSA9IHByZWZpeGVyLnFiNjQ7XG4gICAgICAgIHNhZC5kID0gcHJlZml4ZXIucWI2NDtcbiAgICAgICAgcmV0dXJuIG5ldyBTZXJkZXIoc2FkKTtcbiAgICB9XG4gICAgdmRyLmluY2VwdCA9IGluY2VwdDtcbn0pKHZkciB8fCAodmRyID0ge30pKTtcbmV4cG9ydCB7IHZkciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/vdring.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js":
/*!**********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/core/verfer.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Verfer: () => (/* binding */ Verfer)\n/* harmony export */ });\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n/* harmony import */ var _matter_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./matter.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/matter.js\");\n/* harmony import */ var _noble_curves_p256__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @noble/curves/p256 */ \"(ssr)/./node_modules/@noble/curves/esm/p256.js\");\n/* harmony import */ var _core_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./core.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/core.js\");\n\n\n\n\nconst VERFER_CODES = new Set([\n    _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519N,\n    _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519,\n    _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.ECDSA_256r1N,\n    _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.ECDSA_256r1,\n]);\n/**\n * @description  Verfer :sublclass of Matter,helps to verify signature of serialization\n *  using .raw as verifier key and .code as signature cypher suite\n */\nclass Verfer extends _matter_js__WEBPACK_IMPORTED_MODULE_1__.Matter {\n    constructor({ raw, code, qb64, qb64b, qb2 }) {\n        super({ raw, code, qb64, qb64b, qb2 });\n        if (!VERFER_CODES.has(this.code)) {\n            throw new Error(`Unsupported code = ${this.code} for verifier.`);\n        }\n    }\n    verify(sig, ser) {\n        switch (this.code) {\n            case _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519:\n            case _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.Ed25519N: {\n                return libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.crypto_sign_verify_detached(sig, ser, this.raw);\n            }\n            case _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.ECDSA_256r1:\n            case _matter_js__WEBPACK_IMPORTED_MODULE_1__.MtrDex.ECDSA_256r1N: {\n                const message = typeof ser === 'string' ? (0,_core_js__WEBPACK_IMPORTED_MODULE_2__.b)(ser) : ser;\n                return _noble_curves_p256__WEBPACK_IMPORTED_MODULE_3__.p256.verify(sig, message, this.raw);\n            }\n            default:\n                throw new Error(`Unsupported code = ${this.code} for verifier.`);\n        }\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvY29yZS92ZXJmZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBZ0Q7QUFDSDtBQUNIO0FBQ1o7QUFDOUI7QUFDQSxJQUFJLDhDQUFNO0FBQ1YsSUFBSSw4Q0FBTTtBQUNWLElBQUksOENBQU07QUFDVixJQUFJLDhDQUFNO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPLHFCQUFxQiw4Q0FBTTtBQUNsQyxrQkFBa0IsNkJBQTZCO0FBQy9DLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQSxrREFBa0QsV0FBVztBQUM3RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw4Q0FBTTtBQUN2QixpQkFBaUIsOENBQU07QUFDdkIsdUJBQXVCLGdGQUFxQztBQUM1RDtBQUNBLGlCQUFpQiw4Q0FBTTtBQUN2QixpQkFBaUIsOENBQU07QUFDdkIsMERBQTBELDJDQUFDO0FBQzNELHVCQUF1QixvREFBSTtBQUMzQjtBQUNBO0FBQ0Esc0RBQXNELFdBQVc7QUFDakU7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2NvcmUvdmVyZmVyLmpzP2JiYWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGxpYnNvZGl1bSBmcm9tICdsaWJzb2RpdW0td3JhcHBlcnMtc3Vtbyc7XG5pbXBvcnQgeyBNYXR0ZXIsIE10ckRleCB9IGZyb20gXCIuL21hdHRlci5qc1wiO1xuaW1wb3J0IHsgcDI1NiB9IGZyb20gJ0Bub2JsZS9jdXJ2ZXMvcDI1Nic7XG5pbXBvcnQgeyBiIH0gZnJvbSBcIi4vY29yZS5qc1wiO1xuY29uc3QgVkVSRkVSX0NPREVTID0gbmV3IFNldChbXG4gICAgTXRyRGV4LkVkMjU1MTlOLFxuICAgIE10ckRleC5FZDI1NTE5LFxuICAgIE10ckRleC5FQ0RTQV8yNTZyMU4sXG4gICAgTXRyRGV4LkVDRFNBXzI1NnIxLFxuXSk7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiAgVmVyZmVyIDpzdWJsY2xhc3Mgb2YgTWF0dGVyLGhlbHBzIHRvIHZlcmlmeSBzaWduYXR1cmUgb2Ygc2VyaWFsaXphdGlvblxuICogIHVzaW5nIC5yYXcgYXMgdmVyaWZpZXIga2V5IGFuZCAuY29kZSBhcyBzaWduYXR1cmUgY3lwaGVyIHN1aXRlXG4gKi9cbmV4cG9ydCBjbGFzcyBWZXJmZXIgZXh0ZW5kcyBNYXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKHsgcmF3LCBjb2RlLCBxYjY0LCBxYjY0YiwgcWIyIH0pIHtcbiAgICAgICAgc3VwZXIoeyByYXcsIGNvZGUsIHFiNjQsIHFiNjRiLCBxYjIgfSk7XG4gICAgICAgIGlmICghVkVSRkVSX0NPREVTLmhhcyh0aGlzLmNvZGUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNvZGUgPSAke3RoaXMuY29kZX0gZm9yIHZlcmlmaWVyLmApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZlcmlmeShzaWcsIHNlcikge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY29kZSkge1xuICAgICAgICAgICAgY2FzZSBNdHJEZXguRWQyNTUxOTpcbiAgICAgICAgICAgIGNhc2UgTXRyRGV4LkVkMjU1MTlOOiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxpYnNvZGl1bS5jcnlwdG9fc2lnbl92ZXJpZnlfZGV0YWNoZWQoc2lnLCBzZXIsIHRoaXMucmF3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgTXRyRGV4LkVDRFNBXzI1NnIxOlxuICAgICAgICAgICAgY2FzZSBNdHJEZXguRUNEU0FfMjU2cjFOOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHR5cGVvZiBzZXIgPT09ICdzdHJpbmcnID8gYihzZXIpIDogc2VyO1xuICAgICAgICAgICAgICAgIHJldHVybiBwMjU2LnZlcmlmeShzaWcsIG1lc3NhZ2UsIHRoaXMucmF3KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjb2RlID0gJHt0aGlzLmNvZGV9IGZvciB2ZXJpZmllci5gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/core/verfer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/keri/end/ending.js":
/*!*********************************************************!*\
  !*** ./node_modules/signify-ts/dist/keri/end/ending.js ***!
  \*********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FALSY: () => (/* binding */ FALSY),\n/* harmony export */   Signage: () => (/* binding */ Signage),\n/* harmony export */   TRUTHY: () => (/* binding */ TRUTHY),\n/* harmony export */   designature: () => (/* binding */ designature),\n/* harmony export */   signature: () => (/* binding */ signature)\n/* harmony export */ });\n/* harmony import */ var _core_siger_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/siger.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/siger.js\");\n/* harmony import */ var _core_cigar_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/cigar.js */ \"(ssr)/./node_modules/signify-ts/dist/keri/core/cigar.js\");\n\n\nconst FALSY = [false, 0, '?0', 'no', 'false', 'False', 'off'];\nconst TRUTHY = [true, 1, '?1', 'yes', 'true', 'True', 'on'];\nclass Signage {\n    constructor(markers, indexed, signer, ordinal, digest, kind) {\n        this.markers = markers;\n        this.indexed = indexed;\n        this.signer = signer;\n        this.ordinal = ordinal;\n        this.digest = digest;\n        this.kind = kind;\n    }\n}\nfunction signature(signages) {\n    var _a;\n    const values = [];\n    for (const signage of signages) {\n        let markers;\n        let tags;\n        if (signage.markers instanceof Map) {\n            markers = Array.from(signage.markers.values());\n            tags = Array.from(signage.markers.keys());\n        }\n        else {\n            markers = signage.markers;\n            tags = [];\n        }\n        const items = new Array();\n        const indexed = (_a = signage.indexed) !== null && _a !== void 0 ? _a : markers[0] instanceof _core_siger_js__WEBPACK_IMPORTED_MODULE_0__.Siger;\n        if (indexed) {\n            items.push('indexed=\"?1\"');\n        }\n        else {\n            items.push('indexed=\"?0\"');\n        }\n        if (signage.signer != undefined) {\n            items.push(`signer=\"${signage.signer}\"`);\n        }\n        if (signage.ordinal != undefined) {\n            items.push(`ordinal=\"${signage.ordinal}\"`);\n        }\n        if (signage.digest != undefined) {\n            items.push(`digest=\"${signage.digest}\"`);\n        }\n        if (signage.kind != undefined) {\n            items.push(`kind=\"${signage.kind}\"`);\n        }\n        items.push(...markers.map((marker, idx) => {\n            let tag = undefined;\n            let val;\n            if (tags != undefined && tags.length > idx) {\n                tag = tags[idx];\n            }\n            if (marker instanceof _core_siger_js__WEBPACK_IMPORTED_MODULE_0__.Siger) {\n                if (!indexed) {\n                    throw new Error(`Indexed signature marker ${marker} when indexed False.`);\n                }\n                tag = tag !== null && tag !== void 0 ? tag : marker.index.toString();\n                val = marker.qb64;\n            }\n            else if (marker instanceof _core_cigar_js__WEBPACK_IMPORTED_MODULE_1__.Cigar) {\n                if (indexed) {\n                    throw new Error(`Unindexed signature marker ${marker} when indexed True.`);\n                }\n                if (!marker.verfer) {\n                    throw new Error(`Indexed signature marker is missing verfer`);\n                }\n                tag = tag !== null && tag !== void 0 ? tag : marker.verfer.qb64;\n                val = marker.qb64;\n            }\n            else {\n                tag = tag !== null && tag !== void 0 ? tag : idx.toString();\n                val = marker;\n            }\n            return `${tag}=\"${val}\"`;\n        }));\n        values.push(items.join(';'));\n    }\n    return new Headers([['Signature', values.join(',')]]);\n}\nfunction designature(value) {\n    const values = value.replace(' ', '').split(',');\n    const signages = values.map((val) => {\n        const dict = new Map();\n        val.split(';').forEach((v) => {\n            const splits = v.split('=', 2);\n            dict.set(splits[0], splits[1].replaceAll('\"', ''));\n        });\n        if (!dict.has('indexed')) {\n            throw new Error('Missing indexed field in Signature header signage.');\n        }\n        const item = dict.get('indexed');\n        const indexed = !FALSY.includes(item);\n        dict.delete('indexed');\n        let signer;\n        if (dict.has('signer')) {\n            signer = dict.get('signer');\n            dict.delete('signer');\n        }\n        let ordinal;\n        if (dict.has('ordinal')) {\n            ordinal = dict.get('ordinal');\n            dict.delete('ordinal');\n        }\n        let digest;\n        if (dict.has('digest')) {\n            digest = dict.get('digest');\n            dict.delete('digest');\n        }\n        let kind;\n        if (dict.has('kind')) {\n            kind = dict.get('kind');\n            dict.delete('kind');\n        }\n        else {\n            kind = 'CESR';\n        }\n        if (kind == 'CESR') {\n            const markers = new Map();\n            for (const [key, val] of dict.entries()) {\n                if (indexed) {\n                    markers.set(key, new _core_siger_js__WEBPACK_IMPORTED_MODULE_0__.Siger({ qb64: val }));\n                }\n                else {\n                    markers.set(key, new _core_cigar_js__WEBPACK_IMPORTED_MODULE_1__.Cigar({ qb64: val }));\n                }\n            }\n            return new Signage(markers, indexed, signer, ordinal, digest, kind);\n        }\n        else {\n            return new Signage(dict, indexed, signer, ordinal, digest, kind);\n        }\n    });\n    return signages;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L2tlcmkvZW5kL2VuZGluZy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlDO0FBQ0E7QUFDbEM7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0dBQXNHLGlEQUFLO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLGVBQWU7QUFDakQ7QUFDQTtBQUNBLG1DQUFtQyxnQkFBZ0I7QUFDbkQ7QUFDQTtBQUNBLGtDQUFrQyxlQUFlO0FBQ2pEO0FBQ0E7QUFDQSxnQ0FBZ0MsYUFBYTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyxpREFBSztBQUN2QztBQUNBLGdFQUFnRSxRQUFRO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGlEQUFLO0FBQzVDO0FBQ0Esa0VBQWtFLFFBQVE7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixJQUFJLElBQUksSUFBSTtBQUNsQyxTQUFTO0FBQ1QsaUNBQWlDO0FBQ2pDO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CO0FBQ3BCO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUNBQXlDLGlEQUFLLEdBQUcsV0FBVztBQUM1RDtBQUNBO0FBQ0EseUNBQXlDLGlEQUFLLEdBQUcsV0FBVztBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3RlbGxhci1wcm9jdXJlbWVudC1kYXBwLy4vbm9kZV9tb2R1bGVzL3NpZ25pZnktdHMvZGlzdC9rZXJpL2VuZC9lbmRpbmcuanM/ZDVhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTaWdlciB9IGZyb20gXCIuLi9jb3JlL3NpZ2VyLmpzXCI7XG5pbXBvcnQgeyBDaWdhciB9IGZyb20gXCIuLi9jb3JlL2NpZ2FyLmpzXCI7XG5leHBvcnQgY29uc3QgRkFMU1kgPSBbZmFsc2UsIDAsICc/MCcsICdubycsICdmYWxzZScsICdGYWxzZScsICdvZmYnXTtcbmV4cG9ydCBjb25zdCBUUlVUSFkgPSBbdHJ1ZSwgMSwgJz8xJywgJ3llcycsICd0cnVlJywgJ1RydWUnLCAnb24nXTtcbmV4cG9ydCBjbGFzcyBTaWduYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihtYXJrZXJzLCBpbmRleGVkLCBzaWduZXIsIG9yZGluYWwsIGRpZ2VzdCwga2luZCkge1xuICAgICAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgICAgICB0aGlzLmluZGV4ZWQgPSBpbmRleGVkO1xuICAgICAgICB0aGlzLnNpZ25lciA9IHNpZ25lcjtcbiAgICAgICAgdGhpcy5vcmRpbmFsID0gb3JkaW5hbDtcbiAgICAgICAgdGhpcy5kaWdlc3QgPSBkaWdlc3Q7XG4gICAgICAgIHRoaXMua2luZCA9IGtpbmQ7XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHNpZ25hdHVyZShzaWduYWdlcykge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHNpZ25hZ2Ugb2Ygc2lnbmFnZXMpIHtcbiAgICAgICAgbGV0IG1hcmtlcnM7XG4gICAgICAgIGxldCB0YWdzO1xuICAgICAgICBpZiAoc2lnbmFnZS5tYXJrZXJzIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICBtYXJrZXJzID0gQXJyYXkuZnJvbShzaWduYWdlLm1hcmtlcnMudmFsdWVzKCkpO1xuICAgICAgICAgICAgdGFncyA9IEFycmF5LmZyb20oc2lnbmFnZS5tYXJrZXJzLmtleXMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXJrZXJzID0gc2lnbmFnZS5tYXJrZXJzO1xuICAgICAgICAgICAgdGFncyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGl0ZW1zID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGNvbnN0IGluZGV4ZWQgPSAoX2EgPSBzaWduYWdlLmluZGV4ZWQpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG1hcmtlcnNbMF0gaW5zdGFuY2VvZiBTaWdlcjtcbiAgICAgICAgaWYgKGluZGV4ZWQpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goJ2luZGV4ZWQ9XCI/MVwiJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKCdpbmRleGVkPVwiPzBcIicpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaWduYWdlLnNpZ25lciAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goYHNpZ25lcj1cIiR7c2lnbmFnZS5zaWduZXJ9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2lnbmFnZS5vcmRpbmFsICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaXRlbXMucHVzaChgb3JkaW5hbD1cIiR7c2lnbmFnZS5vcmRpbmFsfVwiYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNpZ25hZ2UuZGlnZXN0ICE9IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaXRlbXMucHVzaChgZGlnZXN0PVwiJHtzaWduYWdlLmRpZ2VzdH1cImApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaWduYWdlLmtpbmQgIT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBpdGVtcy5wdXNoKGBraW5kPVwiJHtzaWduYWdlLmtpbmR9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBpdGVtcy5wdXNoKC4uLm1hcmtlcnMubWFwKChtYXJrZXIsIGlkeCkgPT4ge1xuICAgICAgICAgICAgbGV0IHRhZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGxldCB2YWw7XG4gICAgICAgICAgICBpZiAodGFncyAhPSB1bmRlZmluZWQgJiYgdGFncy5sZW5ndGggPiBpZHgpIHtcbiAgICAgICAgICAgICAgICB0YWcgPSB0YWdzW2lkeF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAobWFya2VyIGluc3RhbmNlb2YgU2lnZXIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWluZGV4ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleGVkIHNpZ25hdHVyZSBtYXJrZXIgJHttYXJrZXJ9IHdoZW4gaW5kZXhlZCBGYWxzZS5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFnID0gdGFnICE9PSBudWxsICYmIHRhZyAhPT0gdm9pZCAwID8gdGFnIDogbWFya2VyLmluZGV4LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFsID0gbWFya2VyLnFiNjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChtYXJrZXIgaW5zdGFuY2VvZiBDaWdhcikge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5pbmRleGVkIHNpZ25hdHVyZSBtYXJrZXIgJHttYXJrZXJ9IHdoZW4gaW5kZXhlZCBUcnVlLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW1hcmtlci52ZXJmZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmRleGVkIHNpZ25hdHVyZSBtYXJrZXIgaXMgbWlzc2luZyB2ZXJmZXJgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGFnID0gdGFnICE9PSBudWxsICYmIHRhZyAhPT0gdm9pZCAwID8gdGFnIDogbWFya2VyLnZlcmZlci5xYjY0O1xuICAgICAgICAgICAgICAgIHZhbCA9IG1hcmtlci5xYjY0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFnID0gdGFnICE9PSBudWxsICYmIHRhZyAhPT0gdm9pZCAwID8gdGFnIDogaWR4LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgdmFsID0gbWFya2VyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGAke3RhZ309XCIke3ZhbH1cImA7XG4gICAgICAgIH0pKTtcbiAgICAgICAgdmFsdWVzLnB1c2goaXRlbXMuam9pbignOycpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBIZWFkZXJzKFtbJ1NpZ25hdHVyZScsIHZhbHVlcy5qb2luKCcsJyldXSk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGVzaWduYXR1cmUodmFsdWUpIHtcbiAgICBjb25zdCB2YWx1ZXMgPSB2YWx1ZS5yZXBsYWNlKCcgJywgJycpLnNwbGl0KCcsJyk7XG4gICAgY29uc3Qgc2lnbmFnZXMgPSB2YWx1ZXMubWFwKCh2YWwpID0+IHtcbiAgICAgICAgY29uc3QgZGljdCA9IG5ldyBNYXAoKTtcbiAgICAgICAgdmFsLnNwbGl0KCc7JykuZm9yRWFjaCgodikgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BsaXRzID0gdi5zcGxpdCgnPScsIDIpO1xuICAgICAgICAgICAgZGljdC5zZXQoc3BsaXRzWzBdLCBzcGxpdHNbMV0ucmVwbGFjZUFsbCgnXCInLCAnJykpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFkaWN0LmhhcygnaW5kZXhlZCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgaW5kZXhlZCBmaWVsZCBpbiBTaWduYXR1cmUgaGVhZGVyIHNpZ25hZ2UuJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXRlbSA9IGRpY3QuZ2V0KCdpbmRleGVkJyk7XG4gICAgICAgIGNvbnN0IGluZGV4ZWQgPSAhRkFMU1kuaW5jbHVkZXMoaXRlbSk7XG4gICAgICAgIGRpY3QuZGVsZXRlKCdpbmRleGVkJyk7XG4gICAgICAgIGxldCBzaWduZXI7XG4gICAgICAgIGlmIChkaWN0Lmhhcygnc2lnbmVyJykpIHtcbiAgICAgICAgICAgIHNpZ25lciA9IGRpY3QuZ2V0KCdzaWduZXInKTtcbiAgICAgICAgICAgIGRpY3QuZGVsZXRlKCdzaWduZXInKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgb3JkaW5hbDtcbiAgICAgICAgaWYgKGRpY3QuaGFzKCdvcmRpbmFsJykpIHtcbiAgICAgICAgICAgIG9yZGluYWwgPSBkaWN0LmdldCgnb3JkaW5hbCcpO1xuICAgICAgICAgICAgZGljdC5kZWxldGUoJ29yZGluYWwnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgZGlnZXN0O1xuICAgICAgICBpZiAoZGljdC5oYXMoJ2RpZ2VzdCcpKSB7XG4gICAgICAgICAgICBkaWdlc3QgPSBkaWN0LmdldCgnZGlnZXN0Jyk7XG4gICAgICAgICAgICBkaWN0LmRlbGV0ZSgnZGlnZXN0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGtpbmQ7XG4gICAgICAgIGlmIChkaWN0Lmhhcygna2luZCcpKSB7XG4gICAgICAgICAgICBraW5kID0gZGljdC5nZXQoJ2tpbmQnKTtcbiAgICAgICAgICAgIGRpY3QuZGVsZXRlKCdraW5kJyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBraW5kID0gJ0NFU1InO1xuICAgICAgICB9XG4gICAgICAgIGlmIChraW5kID09ICdDRVNSJykge1xuICAgICAgICAgICAgY29uc3QgbWFya2VycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsXSBvZiBkaWN0LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuc2V0KGtleSwgbmV3IFNpZ2VyKHsgcWI2NDogdmFsIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlcnMuc2V0KGtleSwgbmV3IENpZ2FyKHsgcWI2NDogdmFsIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNpZ25hZ2UobWFya2VycywgaW5kZXhlZCwgc2lnbmVyLCBvcmRpbmFsLCBkaWdlc3QsIGtpbmQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTaWduYWdlKGRpY3QsIGluZGV4ZWQsIHNpZ25lciwgb3JkaW5hbCwgZGlnZXN0LCBraW5kKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBzaWduYWdlcztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/keri/end/ending.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/signify-ts/dist/ready.js":
/*!***********************************************!*\
  !*** ./node_modules/signify-ts/dist/ready.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ready: () => (/* binding */ ready)\n/* harmony export */ });\n/* harmony import */ var libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! libsodium-wrappers-sumo */ \"(ssr)/./node_modules/libsodium-wrappers-sumo/dist/modules-sumo/libsodium-wrappers.js\");\n\nconst ready = async () => {\n    await libsodium_wrappers_sumo__WEBPACK_IMPORTED_MODULE_0__.ready;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvc2lnbmlmeS10cy9kaXN0L3JlYWR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThDO0FBQ3ZDO0FBQ1AsVUFBVSwwREFBYTtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0ZWxsYXItcHJvY3VyZW1lbnQtZGFwcC8uL25vZGVfbW9kdWxlcy9zaWduaWZ5LXRzL2Rpc3QvcmVhZHkuanM/ZDVlMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgX3NvZGl1bSBmcm9tICdsaWJzb2RpdW0td3JhcHBlcnMtc3Vtbyc7XG5leHBvcnQgY29uc3QgcmVhZHkgPSBhc3luYyAoKSA9PiB7XG4gICAgYXdhaXQgX3NvZGl1bS5yZWFkeTtcbn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/signify-ts/dist/ready.js\n");

/***/ })

};
;